(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,n,t){var a,i,r,o,l,d,u,c,s,m,v,p;window,e.exports=(a=t(4),i=t(51),r=t(275),o=t(563),l=t(286),d=t(559),u=t(293),c=t(425),s=t(443),m=t(562),v=t(564),p=t(445),function(e){var n={};function t(a){if(n[a])return n[a].exports;var i=n[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:a})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(t.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(a,i,function(n){return e[n]}.bind(null,i));return a},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=37)}([function(e,n){e.exports=a},function(e,n){e.exports=function(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}},function(e,n){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,n){e.exports=i},function(e,n){e.exports=function(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}},function(e,n){e.exports=r},function(e,n,t){e.exports=t(27)},function(e,n){e.exports=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}},function(e,n){function t(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}e.exports=function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}},function(e,n,t){var a=t(28),i=t(2);e.exports=function(e,n){return!n||"object"!==a(n)&&"function"!=typeof n?i(e):n}},function(e,n){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},t(n)}e.exports=t},function(e,n,t){var a=t(29);e.exports=function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&a(e,n)}},function(e,n){e.exports=o},function(e,n){function t(e,n,t,a,i,r,o){try{var l=e[r](o),d=l.value}catch(e){return void t(e)}l.done?n(d):Promise.resolve(d).then(a,i)}e.exports=function(e){return function(){var n=this,a=arguments;return new Promise(function(i,r){var o=e.apply(n,a);function l(e){t(o,i,r,l,d,"next",e)}function d(e){t(o,i,r,l,d,"throw",e)}l(void 0)})}}},function(e,n,t){var a=t(31),i=t(32),r=t(33);e.exports=function(e,n){return a(e)||i(e,n)||r()}},function(e,n,t){var a=t(1);e.exports=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},i=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.forEach(function(n){a(e,n,t[n])})}return e}},function(e,n){e.exports=l},function(e,n){e.exports=d},function(e,n){function t(){return e.exports=t=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},t.apply(this,arguments)}e.exports=t},function(e,n,t){var a=t(34),i=t(35),r=t(36);e.exports=function(e){return a(e)||i(e)||r()}},function(e,n){e.exports=u},function(e,n,t){var a=t(30);e.exports=function(e,n){if(null==e)return{};var t,i,r=a(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)t=o[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}},function(e,n){e.exports=c},function(e,n){e.exports=s},function(e,n){e.exports=m},function(e,n){e.exports=v},function(e,n){e.exports=p},function(e,n,t){var a=function(e){"use strict";var n,t=Object.prototype,a=t.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function d(e,n,t,a){var i=n&&n.prototype instanceof k?n:k,r=Object.create(i.prototype),o=new D(a||[]);return r._invoke=function(e,n,t){var a=c;return function(i,r){if(a===m)throw new Error("Generator is already running");if(a===v){if("throw"===i)throw r;return w()}for(t.method=i,t.arg=r;;){var o=t.delegate;if(o){var l=I(o,t);if(l){if(l===p)continue;return l}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if(a===c)throw a=v,t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);a=m;var d=u(e,n,t);if("normal"===d.type){if(a=t.done?v:s,d.arg===p)continue;return{value:d.arg,done:t.done}}"throw"===d.type&&(a=v,t.method="throw",t.arg=d.arg)}}}(e,t,o),r}function u(e,n,t){try{return{type:"normal",arg:e.call(n,t)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var c="suspendedStart",s="suspendedYield",m="executing",v="completed",p={};function k(){}function f(){}function N(){}var g={};g[r]=function(){return this};var y=Object.getPrototypeOf,b=y&&y(y(A([])));b&&b!==t&&a.call(b,r)&&(g=b);var h=N.prototype=k.prototype=Object.create(g);function S(e){["next","throw","return"].forEach(function(n){e[n]=function(e){return this._invoke(n,e)}})}function E(e){var n;this._invoke=function(t,i){function r(){return new Promise(function(n,r){!function n(t,i,r,o){var l=u(e[t],e,i);if("throw"!==l.type){var d=l.arg,c=d.value;return c&&"object"==typeof c&&a.call(c,"__await")?Promise.resolve(c.__await).then(function(e){n("next",e,r,o)},function(e){n("throw",e,r,o)}):Promise.resolve(c).then(function(e){d.value=e,r(d)},function(e){return n("throw",e,r,o)})}o(l.arg)}(t,i,n,r)})}return n=n?n.then(r,r):r()}}function I(e,t){var a=e.iterator[t.method];if(a===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,I(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var i=u(a,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,p;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,p):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function C(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function T(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function t(){for(;++i<e.length;)if(a.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=n,t.done=!0,t};return o.next=o}}return{next:w}}function w(){return{value:n,done:!0}}return f.prototype=h.constructor=N,N.constructor=f,N[l]=f.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===f||"GeneratorFunction"===(n.displayName||n.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,N):(e.__proto__=N,l in e||(e[l]="GeneratorFunction")),e.prototype=Object.create(h),e},e.awrap=function(e){return{__await:e}},S(E.prototype),E.prototype[o]=function(){return this},e.AsyncIterator=E,e.async=function(n,t,a,i){var r=new E(d(n,t,a,i));return e.isGeneratorFunction(t)?r:r.next().then(function(e){return e.done?e.value:r.next()})},S(h),h[l]="Generator",h[r]=function(){return this},h.toString=function(){return"[object Generator]"},e.keys=function(e){var n=[];for(var t in e)n.push(t);return n.reverse(),function t(){for(;n.length;){var a=n.pop();if(a in e)return t.value=a,t.done=!1,t}return t.done=!0,t}},e.values=A,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(a,i){return l.type="throw",l.arg=e,t.next=a,i&&(t.method="next",t.arg=n),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],l=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var d=a.call(o,"catchLoc"),u=a.call(o,"finallyLoc");if(d&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(d){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,n){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc<=this.prev&&a.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=n&&n<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=e,o.arg=n,r?(this.method="next",this.next=r.finallyLoc,p):this.complete(o)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),p},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),T(t),p}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===e){var a=t.completion;if("throw"===a.type){var i=a.arg;T(t)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:A(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=n),p}},e}(e.exports);try{regeneratorRuntime=a}catch(e){Function("r","regeneratorRuntime = r")(a)}},function(e,n){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(n){return"function"==typeof Symbol&&"symbol"===t(Symbol.iterator)?e.exports=a=function(e){return t(e)}:e.exports=a=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":t(e)},a(n)}e.exports=a},function(e,n){function t(n,a){return e.exports=t=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},t(n,a)}e.exports=t},function(e,n){e.exports=function(e,n){if(null==e)return{};var t,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(i[t]=e[t]);return i}},function(e,n){e.exports=function(e){if(Array.isArray(e))return e}},function(e,n){e.exports=function(e,n){var t=[],a=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(t.push(o.value),!n||t.length!==n);a=!0);}catch(e){i=!0,r=e}finally{try{a||null==l.return||l.return()}finally{if(i)throw r}}return t}},function(e,n){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,n){e.exports=function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}},function(e,n){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,n){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,n,t){"use strict";t.r(n);var a=t(18),i=t.n(a),r=t(6),o=t.n(r),l=t(13),d=t.n(l),u=t(7),c=t.n(u),s=t(8),m=t.n(s),v=t(9),p=t.n(v),k=t(10),f=t.n(k),N=t(2),g=t.n(N),y=t(11),b=t.n(y),h=t(1),S=t.n(h),E=t(0),I=t.n(E),C=t(12),T={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EXECUTE_ACTION"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"actionId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"executionParameters"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"unrestricted"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ExecuteAction"},arguments:[{kind:"Argument",name:{kind:"Name",value:"actionId"},value:{kind:"Variable",name:{kind:"Name",value:"actionId"}}},{kind:"Argument",name:{kind:"Name",value:"executionParameters"},value:{kind:"Variable",name:{kind:"Name",value:"executionParameters"}}},{kind:"Argument",name:{kind:"Name",value:"unrestricted"},value:{kind:"Variable",name:{kind:"Name",value:"unrestricted"}}}],directives:[]}]}}],loc:{start:0,end:250,source:{body:"\n  mutation EXECUTE_ACTION(\n    $actionId: ID!\n    $executionParameters: String\n    $unrestricted: Boolean\n  ) {\n    ExecuteAction(\n      actionId: $actionId\n      executionParameters: $executionParameters\n      unrestricted: $unrestricted\n    )\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},D={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CREATE_INSTANCE"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"value"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"typeId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"parentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"parentTypeId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"treeId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"AddInstance"},arguments:[{kind:"Argument",name:{kind:"Name",value:"typeId"},value:{kind:"Variable",name:{kind:"Name",value:"typeId"}}},{kind:"Argument",name:{kind:"Name",value:"instanceID"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"value"},value:{kind:"Variable",name:{kind:"Name",value:"value"}}},{kind:"Argument",name:{kind:"Name",value:"parentTypeId"},value:{kind:"Variable",name:{kind:"Name",value:"parentTypeId"}}},{kind:"Argument",name:{kind:"Name",value:"parentInstanceId"},value:{kind:"Variable",name:{kind:"Name",value:"parentId"}}},{kind:"Argument",name:{kind:"Name",value:"treeId"},value:{kind:"Variable",name:{kind:"Name",value:"treeId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:353,source:{body:"\n  mutation CREATE_INSTANCE(\n    $id: ID!\n    $value: String\n    $typeId: ID!\n    $parentId: ID!\n    $parentTypeId: ID!\n    $treeId: ID!\n  ) {\n    AddInstance(\n      typeId: $typeId\n      instanceID: $id\n      value: $value\n      parentTypeId: $parentTypeId\n      parentInstanceId: $parentId\n      treeId: $treeId\n    ) {\n      id\n      value\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},A={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ASSOCIATE_INSTANCES"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"firstInstanceId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"secondInstanceId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"instanceAssnId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"typeAssnId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"CreateInstanceAssn"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"instanceAssnId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"addAssnToFirstInstance"},name:{kind:"Name",value:"AddInstanceInstanceAssns"},arguments:[{kind:"Argument",name:{kind:"Name",value:"instanceid"},value:{kind:"Variable",name:{kind:"Name",value:"firstInstanceId"}}},{kind:"Argument",name:{kind:"Name",value:"instanceassnid"},value:{kind:"Variable",name:{kind:"Name",value:"instanceAssnId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"addAssnToSecondInstance"},name:{kind:"Name",value:"AddInstanceInstanceAssns"},arguments:[{kind:"Argument",name:{kind:"Name",value:"instanceid"},value:{kind:"Variable",name:{kind:"Name",value:"secondInstanceId"}}},{kind:"Argument",name:{kind:"Name",value:"instanceassnid"},value:{kind:"Variable",name:{kind:"Name",value:"instanceAssnId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"AddInstanceAssnAssn"},arguments:[{kind:"Argument",name:{kind:"Name",value:"instanceassnid"},value:{kind:"Variable",name:{kind:"Name",value:"instanceAssnId"}}},{kind:"Argument",name:{kind:"Name",value:"assnid"},value:{kind:"Variable",name:{kind:"Name",value:"typeAssnId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:603,source:{body:"\n  mutation ASSOCIATE_INSTANCES(\n    $firstInstanceId: ID!\n    $secondInstanceId: ID!\n    $instanceAssnId: ID!\n    $typeAssnId: ID!\n  ) {\n    CreateInstanceAssn(id: $instanceAssnId) {\n      id\n    }\n\n    addAssnToFirstInstance: AddInstanceInstanceAssns(\n      instanceid: $firstInstanceId\n      instanceassnid: $instanceAssnId\n    ) {\n      id\n    }\n\n    addAssnToSecondInstance: AddInstanceInstanceAssns(\n      instanceid: $secondInstanceId\n      instanceassnid: $instanceAssnId\n    ) {\n      id\n    }\n\n    AddInstanceAssnAssn(instanceassnid: $instanceAssnId, assnid: $typeAssnId) {\n      id\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},w={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UPDATE_INSTANCE"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"value"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"order"}},type:{kind:"NamedType",name:{kind:"Name",value:"Float"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"UpdateInstance"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"value"},value:{kind:"Variable",name:{kind:"Name",value:"value"}}},{kind:"Argument",name:{kind:"Name",value:"order"},value:{kind:"Variable",name:{kind:"Name",value:"order"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"order"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:174,source:{body:"\n  mutation UPDATE_INSTANCE($id: ID!, $value: String, $order: Float) {\n    UpdateInstance(id: $id, value: $value, order: $order) {\n      id\n      value\n      order\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},O={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DELETE_INSTANCE"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"typeId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"instanceId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"parentTypeId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"parentInstanceId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"treeId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"RemoveInstance"},arguments:[{kind:"Argument",name:{kind:"Name",value:"typeId"},value:{kind:"Variable",name:{kind:"Name",value:"typeId"}}},{kind:"Argument",name:{kind:"Name",value:"instanceID"},value:{kind:"Variable",name:{kind:"Name",value:"instanceId"}}},{kind:"Argument",name:{kind:"Name",value:"parentTypeId"},value:{kind:"Variable",name:{kind:"Name",value:"parentTypeId"}}},{kind:"Argument",name:{kind:"Name",value:"parentInstanceId"},value:{kind:"Variable",name:{kind:"Name",value:"parentInstanceId"}}},{kind:"Argument",name:{kind:"Name",value:"treeId"},value:{kind:"Variable",name:{kind:"Name",value:"treeId"}}}],directives:[]}]}}],loc:{start:0,end:320,source:{body:"\n  mutation DELETE_INSTANCE(\n    $typeId: ID!\n    $instanceId: ID!\n    $parentTypeId: ID!\n    $parentInstanceId: ID!\n    $treeId: ID!\n  ) {\n    RemoveInstance(\n      typeId: $typeId\n      instanceID: $instanceId\n      parentTypeId: $parentTypeId\n      parentInstanceId: $parentInstanceId\n      treeId: $treeId\n    )\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},x={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"REGISTER_USER"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"platformId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userClass"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"username"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"firstName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"lastName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"email"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"password"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"user"},name:{kind:"Name",value:"CreateUserOnPlatform"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"platformId"},value:{kind:"Variable",name:{kind:"Name",value:"platformId"}}},{kind:"Argument",name:{kind:"Name",value:"userClass"},value:{kind:"Variable",name:{kind:"Name",value:"userClass"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"username"}}},{kind:"Argument",name:{kind:"Name",value:"firstName"},value:{kind:"Variable",name:{kind:"Name",value:"firstName"}}},{kind:"Argument",name:{kind:"Name",value:"lastName"},value:{kind:"Variable",name:{kind:"Name",value:"lastName"}}},{kind:"Argument",name:{kind:"Name",value:"email"},value:{kind:"Variable",name:{kind:"Name",value:"email"}}},{kind:"Argument",name:{kind:"Name",value:"password"},value:{kind:"Variable",name:{kind:"Name",value:"password"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:464,source:{body:"\n  mutation REGISTER_USER(\n    $id: ID!\n    $platformId: ID!\n    $userClass: ID!\n    $username: String!\n    $firstName: String!\n    $lastName: String!\n    $email: String!\n    $password: String!\n  ) {\n    user: CreateUserOnPlatform(\n      id: $id\n      platformId: $platformId\n      userClass: $userClass\n      name: $username\n      firstName: $firstName\n      lastName: $lastName\n      email: $email\n      password: $password\n    ) {\n      id\n      name\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},V=Object(E.createContext)({platformId:null,currentUser:null,loading:!0,login:function(){},logout:function(){}}),F=V.Provider,_=V.Consumer,R=function(e){function n(){var e,t;c()(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return t=p()(this,(e=f()(n)).call.apply(e,[this].concat(i))),S()(g()(t),"state",{currentUser:null,loading:!0}),S()(g()(t),"setUser",function(e,n,a){return t.setState({currentUser:{id:e,name:n,role:a}})}),S()(g()(t),"logout",function(e){var n=t.props.client;localStorage.clear(),n.resetStore(),t.setState({currentUser:null},e)}),S()(g()(t),"login",function(){var e=d()(o.a.mark(function e(n){var a,i,r,l,d,u,c,s;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.username,i=n.password,r=t.props,l=r.loginUser,d=r.platformId,u=JSON.stringify({userName:a,password:i,platformId:d}),e.next=5,l({variables:{actionId:"a0d89c1f-c423-45e0-9339-c719dcbb7afe",executionParameters:u,unrestricted:!0}}).catch(function(e){return{error:e}});case 5:if(!(c=e.sent).error&&c.data&&c.data.ExecuteAction){e.next=12;break}if(!c.error.networkError){e.next=9;break}throw new Error(c.error.networkError);case 9:if(!c.error.graphQLErrors){e.next=11;break}throw new Error(c.error.graphQLErrors[0]);case 11:throw new Error("Unknown error.");case 12:if((s=JSON.parse(c.data.ExecuteAction)).id&&s.userId&&s.userName&&s.role&&s.AuthenticationResult&&s.AuthenticationResult.AccessToken&&s.AuthenticationResult.RefreshToken){e.next=15;break}throw new Error("Unknown error.");case 15:return t.setUser(s.userId,s.userName,s.role),e.next=18,localStorage.setItem("accessToken",s.AuthenticationResult.AccessToken);case 18:return e.next=20,localStorage.setItem("refreshToken",s.AuthenticationResult.RefreshToken);case 20:return e.abrupt("return",s);case 21:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}()),t}return b()(n,e),m()(n,[{key:"componentDidMount",value:function(){var e=d()(o.a.mark(function e(){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.loginWithToken();case 3:n=e.sent,e.next=13;break;case 6:return e.prev=6,e.t0=e.catch(0),e.next=10,this.refreshToken();case 10:return e.next=12,this.loginWithToken();case 12:n=e.sent;case 13:n&&this.setUser(n.userId,n.userName,n.role),this.setState({loading:!1});case 15:case"end":return e.stop()}},e,this,[[0,6]])}));return function(){return e.apply(this,arguments)}}()},{key:"refreshToken",value:function(){var e=d()(o.a.mark(function e(){var n,t,a,i,r,l,d;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props,t=n.loginUser,a=n.platformId,i=localStorage.getItem("refreshToken")){e.next=4;break}return e.abrupt("return",this.logout());case 4:return r=JSON.stringify({refreshToken:i,platformId:a}),e.next=7,t({variables:{actionId:"96d3be63-53c5-418e-9167-71e3d43271e3",executionParameters:r,unrestricted:!0}}).catch(function(e){return{error:e}});case 7:if(!(l=e.sent).error&&l.data&&l.data.ExecuteAction){e.next=10;break}return e.abrupt("return",this.logout());case 10:if((d=JSON.parse(l.data.ExecuteAction)).id&&d.AuthenticationResult&&d.AuthenticationResult.AccessToken){e.next=13;break}return e.abrupt("return",this.logout());case 13:return e.next=15,localStorage.setItem("accessToken",d.AuthenticationResult.AccessToken);case 15:return e.abrupt("return",d.AuthenticationResult.AccessToken);case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"loginWithToken",value:function(){var e=d()(o.a.mark(function e(){var n,t,a,i,r,l,d;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props,t=n.loginUser,a=n.platformId,e.next=3,localStorage.getItem("accessToken");case 3:if(i=e.sent){e.next=6;break}return e.abrupt("return",this.logout());case 6:return r=JSON.stringify({accessToken:i,platformId:a}),e.next=9,t({variables:{actionId:"1279e113-d70f-4a95-9890-a5cebd344f3d",executionParameters:r,unrestricted:!0}}).catch(function(e){return{error:e}});case 9:if(!(l=e.sent).error&&l.data&&l.data.ExecuteAction){e.next=12;break}throw new Error("Expired/Invalid Token");case 12:if((d=JSON.parse(l.data.ExecuteAction)).id&&d.userId&&d.role&&d.accessToken){e.next=15;break}throw new Error("Expired/Invalid Token");case 15:return e.abrupt("return",d);case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,n=e.currentUser,t=e.loading,a=this.props,i=a.platformId,r=a.children,o={platformId:i,currentUser:n,loading:t,login:this.login,logout:this.logout};return I.a.createElement(F,{value:o},r)}}]),n}(E.Component),U=Object(C.graphql)(T,{name:"loginUser"})(R),$=function(e){return function(n){return I.a.createElement(_,null,function(t){return I.a.createElement(e,i()({},t,n))})}},P=t(3),L=t.n(P),j=t(4),q=t.n(j),M=t(5),Q=t.n(M),G=t(20),B=t.n(G),W={layout:{hierarchical:!1},height:"400px",nodes:{font:{size:25,multi:"markdown",color:"#6c6c6c",bold:{color:"#f51717",mod:""}},shape:"box"},edges:{arrows:{to:{enabled:!1},middle:{enabled:!1},from:{enabled:!1}}},groups:{constraints:{title:"constraint",font:{size:20,color:"#ffffff"},color:{background:"#f55b5b",border:"#f51717",highlight:"#f51717"},physics:!1},returnedTypes:{title:"returned types",font:{color:"#000000"}}}},J=function(e){var n=e.source,t=n.tree,a=n.types,i=n.constraints,r=n.sortings;if(!t)return null;var o=function(e,n,t,a){var i=a.reduce(function(e,n){return Object.assign(S()({},n.type.id,n.order.toString()),e)},{}),r=n.map(function(e){return e.id}),o=e.nodes.reduce(function(e,n){return e.find(function(e){return e.id===n.id})?e:e.concat([n])},[]).map(function(e){var n=e.name+(Object.prototype.hasOwnProperty.call(i,e.id)?" *(".concat(i[e.id],")*"):""),t=r.indexOf(e.id)>-1?"returnedTypes":"";return{id:e.id,label:n,group:t}}),l=e.assns.map(function(e){return{from:e.types[0].id,to:e.types[1].id}}),d=t.map(function(e){return{id:e.id,label:e.value,group:"constraints"}}),u=t.map(function(e){return{from:e.id,to:e.type.id}});return{nodes:o.concat(d),edges:l.concat(u)}}(t,a,i,r);return I.a.createElement(B.a,{graph:o,options:W})},Y=t(21),H=t.n(Y);function z(){var e=q()(["\n  color: #cb1c1c;\n"]);return z=function(){return e},e}function K(){var e=q()(["\n  margin: 1.5em;\n  text-align: center;\n"]);return K=function(){return e},e}var X=Q.a.div(K()),Z=Q.a.div(z()),ee=function(e){function n(e){var t;return c()(this,n),t=p()(this,f()(n).call(this,e)),S()(g()(t),"handleChange",function(e){t.setState({currentName:e.target.value})}),S()(g()(t),"updateTypeName",d()(o.a.mark(function e(){var n,a,i,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.state.currentName,a=t.props,i=a.type,r=a.renameType,n){e.next=4;break}return e.abrupt("return");case 4:return t.setState({processing:!0}),e.next=7,r({variables:{id:i.id,newName:n}});case 7:t.setState({processing:!1});case 8:case"end":return e.stop()}},e)}))),S()(g()(t),"handleKeyPress",function(e){13===e.charCode&&t.updateTypeName()}),S()(g()(t),"handleBlur",function(){t.updateTypeName()}),t.state={currentName:e.type.name,processing:!1},t}return b()(n,e),m()(n,[{key:"render",value:function(){var e=this.state,n=e.currentName,t=e.processing;return I.a.createElement(X,null,I.a.createElement("label",{htmlFor:"type-name"},"Type Name:"," ",I.a.createElement("input",{id:"type-name",type:"text",value:n,onChange:this.handleChange,onBlur:this.handleBlur,onKeyPress:this.handleKeyPress,disabled:t})),t&&I.a.createElement(Z,null,"Saving..."))}}]),n}(E.Component);ee.propTypes={type:L.a.shape({id:L.a.string,name:L.a.string}),renameType:L.a.func.isRequired};var ne=Object(C.graphql)({kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RENAME_TYPE_MUTATION"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"newName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"result"},name:{kind:"Name",value:"UpdateType"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"newName"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:144,source:{body:"\n  mutation RENAME_TYPE_MUTATION($id: ID!, $newName: String!) {\n    result: UpdateType(id: $id, name: $newName) {\n      id\n      name\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},{name:"renameType"})(ee),te=t(14),ae=t.n(te);function ie(){var e=q()([""]);return ie=function(){return e},e}var re=Q.a.div(ie()),oe=Object(C.graphql)({kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CREATE_CONSTRAINT_MUTATION"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"value"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"constraintType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ConstraintType"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"typeId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sourceId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"CreateConstraint"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"value"},value:{kind:"Variable",name:{kind:"Name",value:"value"}}},{kind:"Argument",name:{kind:"Name",value:"constrainttype"},value:{kind:"Variable",name:{kind:"Name",value:"constraintType"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"AddConstraintType"},arguments:[{kind:"Argument",name:{kind:"Name",value:"constraintid"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"typeid"},value:{kind:"Variable",name:{kind:"Name",value:"typeId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"AddConstraintSource"},arguments:[{kind:"Argument",name:{kind:"Name",value:"constraintid"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"sourceid"},value:{kind:"Variable",name:{kind:"Name",value:"sourceId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:409,source:{body:"\n  mutation CREATE_CONSTRAINT_MUTATION(\n    $id: ID!\n    $value: String!\n    $constraintType: ConstraintType!\n    $typeId: ID!\n    $sourceId: ID!\n  ) {\n    CreateConstraint(id: $id, value: $value, constrainttype: $constraintType) {\n      id\n    }\n\n    AddConstraintType(constraintid: $id, typeid: $typeId) {\n      id\n    }\n\n    AddConstraintSource(constraintid: $id, sourceid: $sourceId) {\n      id\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},{name:"createConstraint"})(function(e){var n=e.type,t=e.source,a=e.createConstraint,i=Object(E.useState)(""),r=ae()(i,2),o=r[0],l=r[1],d=Object(E.useState)("ID"),u=ae()(d,2),c=u[0],s=u[1],m=Object(E.useState)(!1),v=ae()(m,2),p=v[0],k=v[1];return I.a.createElement(re,null,I.a.createElement("form",{onSubmit:function(e){e.preventDefault(),k(!0),console.log(n,t,a,o,c),k(!1)}},I.a.createElement("div",null,I.a.createElement("label",{htmlFor:"constraint-value"},"Constraint Value:"," ",I.a.createElement("input",{id:"constraint-value",type:"text",value:o,onChange:function(e){l(e.target.value)},disabled:p}))),I.a.createElement("div",null,"Constraint Type:"," ",I.a.createElement("select",{id:"constraint-type",onChange:function(e){s(e.target.value)}},I.a.createElement("option",{value:"ID"},"ID"),I.a.createElement("option",{value:"VALUE"},"VALUE"))),I.a.createElement("div",null,I.a.createElement("button",{type:"submit"},"Add Constraint"))))}),le=t(15),de=t.n(le),ue=t(16);function ce(){var e=q()(["\n  margin: 1.5em;\n  text-align: center;\n"]);return ce=function(){return e},e}var se,me=Q.a.div(ce()),ve=Object(C.compose)(Object(C.graphql)({kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CREATE_SORTING_MUTATION"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"order"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"typeId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sourceId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"CreateSorting"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"order"},value:{kind:"Variable",name:{kind:"Name",value:"order"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"AddSortingType"},arguments:[{kind:"Argument",name:{kind:"Name",value:"sortingid"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"typeid"},value:{kind:"Variable",name:{kind:"Name",value:"typeId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"AddSortingSource"},arguments:[{kind:"Argument",name:{kind:"Name",value:"sortingid"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"sourceid"},value:{kind:"Variable",name:{kind:"Name",value:"sourceId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:318,source:{body:"\n  mutation CREATE_SORTING_MUTATION(\n    $id: ID!\n    $order: Int!\n    $typeId: ID!\n    $sourceId: ID!\n  ) {\n    CreateSorting(id: $id, order: $order) {\n      id\n    }\n\n    AddSortingType(sortingid: $id, typeid: $typeId) {\n      id\n    }\n\n    AddSortingSource(sortingid: $id, sourceid: $sourceId) {\n      id\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},{name:"createSorting"}),Object(C.graphql)({kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UPDATE_SORTING_MUTATION"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"order"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"UpdateSorting"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"order"},value:{kind:"Variable",name:{kind:"Name",value:"order"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:125,source:{body:"\n  mutation UPDATE_SORTING_MUTATION($id: ID!, $order: Int!) {\n    UpdateSorting(id: $id, order: $order) {\n      id\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},{name:"updateSorting"}),Object(C.graphql)({kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DELETE_SORTING_MUTATION"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"DeleteSorting"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:96,source:{body:"\n  mutation DELETE_SORTING_MUTATION($id: ID!) {\n    DeleteSorting(id: $id) {\n      id\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},{name:"deleteSorting"}))(function(e){var n=e.type,t=e.source,a=e.createSorting,i=e.updateSorting,r=e.deleteSorting,l=t.sortings.find(function(e){return e.type.id===n.id}),u=!!l&&!!l.id,c=u?l.order:0,s=Object(E.useState)(c),m=ae()(s,2),v=m[0],p=m[1],k=Object(E.useState)(!1),f=ae()(k,2),N=f[0],g=f[1];function y(){var e=Object(ue.v4)();return a({variables:{id:e,order:v,typeId:n.id,sourceId:t.id},update:function(a){var i=a.readFragment({id:t.id,fragment:Le,fragmentName:"SourceFragment"});i.sortings.push({id:e,__typename:"Sorting",order:v,type:de()({__typename:"Type"},n)}),a.writeFragment({id:t.id,fragment:Le,fragmentName:"SourceFragment",data:i})}})}function b(){return function(){return d()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(g(!0),!u){e.next=6;break}return e.next=4,i({variables:{id:l.id,order:v},update:function(e){var n=e.readFragment({id:l.id,fragment:Pe});n.order=v,e.writeFragment({id:l.id,fragment:Pe,data:n})}});case 4:e.next=8;break;case 6:return e.next=8,y();case 8:g(!1);case 9:case"end":return e.stop()}},e)})).apply(this,arguments)}.apply(this,arguments)}function h(){return(h=d()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,r({variables:{id:l.id},update:function(e){var n=e.readFragment({id:t.id,fragment:Le,fragmentName:"SourceFragment"});n.sortings=n.sortings.filter(function(e){return e.id!==l.id}),e.writeFragment({id:t.id,fragment:Le,fragmentName:"SourceFragment",data:n})}});case 3:g(!1);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}return I.a.createElement(me,null,I.a.createElement("label",{htmlFor:"order-field"},"Order:"," ",I.a.createElement("input",{id:"order-field",type:"text",onKeyPress:function(e){13===e.charCode&&b()},onChange:function(e){var n=Number(e.target.value);"number"!=typeof n||Number.isNaN(n)||Number(n)<0||p(e.target.value)},value:v,disabled:N}),I.a.createElement("button",{type:"button",onClick:b},u?"Update":"Create"),u&&I.a.createElement("button",{type:"button",onClick:function(){return h.apply(this,arguments)}},"Remove")),N&&I.a.createElement("div",null,"Processing..."))}),pe={RENAME:"RENAME",ADD_NODE:"ADD_NODE",CONSTRAIN:"CONSTRAIN",SORT_BY:"SORT_BY",REMOVE_NODE:"REMOVE_NODE"},ke=(se={},S()(se,pe.RENAME,ne),S()(se,pe.ADD_NODE,function(e){var n=e.name;return I.a.createElement("div",null,n)}),S()(se,pe.CONSTRAIN,oe),S()(se,pe.SORT_BY,ve),S()(se,pe.REMOVE_NODE,function(e){var n=e.name;return I.a.createElement("div",null,n)}),se);function fe(e){var n=e.panel,t=H()(e,["panel"]);if(!n||!Object.prototype.hasOwnProperty.call(pe,n))return I.a.createElement("div",null,'Error: Invalid panel "',n,'" selected!');var a=ke[n];return I.a.createElement(a,t)}fe.propTypes={panel:L.a.oneOf(Object.values(pe)).isRequired};var Ne=fe;function ge(){var e=q()(["\n  padding: 0.5em;\n"]);return ge=function(){return e},e}function ye(){var e=q()(["\n  margin: 0.3em;\n  text-align: center;\n"]);return ye=function(){return e},e}function be(){var e=q()(["\n  background-color: #ffffff;\n  padding: 0.5em;\n  margin: 1em;\n  border-radius: 0.5em;\n  min-height: 250px;\n"]);return be=function(){return e},e}var he=Q.a.div(be()),Se=Q.a.div(ye()),Ee=Q.a.button(ge()),Ie=function(e){function n(){var e,t;c()(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return t=p()(this,(e=f()(n)).call.apply(e,[this].concat(i))),S()(g()(t),"state",{selectedPanel:null}),S()(g()(t),"handleButtonClick",function(e){return t.setState({selectedPanel:e.target.value})}),t}return b()(n,e),m()(n,[{key:"render",value:function(){var e=this.props,n=e.type,t=e.source,a=this.state.selectedPanel;return I.a.createElement(he,null,I.a.createElement("div",null,"Configuring ",n.name),I.a.createElement(Se,null,I.a.createElement(Ee,{type:"button",value:pe.RENAME,onClick:this.handleButtonClick},"Rename"),I.a.createElement(Ee,{type:"button",value:pe.ADD_NODE,onClick:this.handleButtonClick},"Add Associated Type"),I.a.createElement(Ee,{type:"button",value:pe.CONSTRAIN,onClick:this.handleButtonClick},"Constrain"),I.a.createElement(Ee,{type:"button",value:pe.SORT_BY,onClick:this.handleButtonClick},"Sort By"),I.a.createElement(Ee,{type:"button",value:pe.REMOVE_NODE,onClick:this.handleButtonClick},"Remove")),a&&I.a.createElement(Ne,{panel:a,type:n,source:t}))}}]),n}(E.Component);function Ce(){var e=q()(["\n  background: transparent;\n  border: none;\n  font-size: 14px;\n  height: 29px;\n  width: 268px;\n  padding: 5px;\n  margin-left: 10px;\n  background: url(https://cdn1.iconfinder.com/data/icons/cc_mono_icon_set/blacks/16x16/br_down.png)\n    no-repeat right #ddd;\n  background-position-x: 244px;\n  background-color: #3b8ec2;\n  border-radius: 5px;\n  appearance: none;\n"]);return Ce=function(){return e},e}var Te=Q.a.select(Ce()),De=function(e){function n(){var e,t;c()(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return t=p()(this,(e=f()(n)).call.apply(e,[this].concat(i))),S()(g()(t),"state",{selectedType:null}),S()(g()(t),"getNodes",function(){return t.props.source.tree.nodes.reduce(function(e,n){return e.find(function(e){return e.id===n.id})?e:e.concat([n])},[])}),S()(g()(t),"handleSelect",function(e){if(e.target.value){var n=t.getNodes().find(function(n){return n.id===e.target.value});t.setState({selectedType:n})}else t.setState({selectedType:null})}),t}return b()(n,e),m()(n,[{key:"render",value:function(){var e=this.props.source,n=this.state.selectedType,t=e.tree;if(!t||!t.nodes||!Array.isArray(t.nodes))return null;var a=this.getNodes();return I.a.createElement("div",null,"Select a type to modify:",I.a.createElement(Te,{onChange:this.handleSelect},I.a.createElement("option",{value:null}),a.map(function(e){return I.a.createElement("option",{key:e.id,value:e.id},e.name)})),n&&I.a.createElement(Ie,{key:n.id,type:n,source:e}))}}]),n}(E.Component);function Ae(){var e=q()(["\n  padding: 10px;\n  margin: 10px;\n  border-radius: 3px;\n  background-color: #e6e0e0;\n"]);return Ae=function(){return e},e}function we(){var e=q()(["\n  position: absolute;\n  left: 5px;\n  top: 0;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: #fffdfd;\n  box-shadow: 5px 5px 20px #464646;\n  z-index: 999999;\n  min-width: 480px;\n"]);return we=function(){return e},e}function Oe(){var e=q()(["\n  position: relative;\n"]);return Oe=function(){return e},e}var xe=Q.a.div(Oe()),Ve=Q.a.div(we()),Fe=Q.a.div(Ae()),_e=function(e){var n=e.collectionArray;return n&&n.length&&I.a.createElement(xe,null,n.map(function(e){return I.a.createElement(Ve,{key:e.id},I.a.createElement("div",null,"Collection: ",e.name||"Unnamed Collection"),I.a.createElement("div",null,"Collection ID: ",e.id),e.sources&&e.sources.length&&e.sources.map(function(e){return I.a.createElement(Fe,{key:e.id},I.a.createElement("div",null,"Source: ",e.name||"Unnamed Source"),I.a.createElement("div",null,"Source ID: ",e.id),I.a.createElement(J,{source:e}),I.a.createElement(De,{source:e}))}))}))};function Re(){var e=q()(["\n  box-sizing: border-box;\n  background-color: white;\n  color: red;\n  font-size: 16px;\n  border: 1px dashed red;\n  width: 25px;\n  height: 25px;\n  padding: 0;\n  margin: 0;\n  text-align: center;\n  text-decoration: none;\n"]);return Re=function(){return e},e}function Ue(){var e=q()(["\n  direction: ltr;\n"]);return Ue=function(){return e},e}var $e=function(e){var n={};return e.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!n[t]&&(n[t]=!0,!0)})},Pe={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SortingFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Sorting"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"order"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:99,source:{body:"\n  fragment SortingFragment on Sorting {\n    id\n    order\n    type {\n      id\n      name\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Le={kind:"Document",definitions:$e([{kind:"FragmentDefinition",name:{kind:"Name",value:"SourceFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Source"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sortings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SortingFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"types"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"constraints"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ConstraintFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"tree"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TreeFragment"},directives:[]}]}}]}}].concat(Pe.definitions,[{kind:"FragmentDefinition",name:{kind:"Name",value:"ConstraintFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Constraint"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}],[{kind:"FragmentDefinition",name:{kind:"Name",value:"TreeFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Tree"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"assns"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"types"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}])),loc:{start:0,end:244,source:{body:"\n  fragment SourceFragment on Source {\n    id\n    name\n    sortings {\n      ...SortingFragment\n    }\n    types {\n      id\n      name\n    }\n    constraints {\n      ...ConstraintFragment\n    }\n    tree {\n      ...TreeFragment\n    }\n  }\n\n  \n  \n  \n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},je={kind:"Document",definitions:$e([{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"COLLECTION_QUERY"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"Collection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sources"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SourceFragment"},directives:[]}]}}]}}]}}].concat(Le.definitions)),loc:{start:0,end:148,source:{body:"\n  query COLLECTION_QUERY($id: ID!) {\n    Collection(id: $id) {\n      id\n      name\n      sources {\n        ...SourceFragment\n      }\n    }\n  }\n\n  \n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},qe=Q.a.div(Ue()),Me=Q.a.button(Re()),Qe=function(e){function n(){var e,t;c()(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return t=p()(this,(e=f()(n)).call.apply(e,[this].concat(i))),S()(g()(t),"state",{isTreeVisible:!1}),S()(g()(t),"toggleTree",function(){return t.setState(function(e){return{isTreeVisible:!e.isTreeVisible}})}),S()(g()(t),"setWrapperRef",function(e){t.wrapperRef=e}),S()(g()(t),"handleClickOutside",function(e){t.state.isTreeVisible&&t.wrapperRef&&!t.wrapperRef.contains(e.target)&&t.setState({isTreeVisible:!1})}),t}return b()(n,e),m()(n,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"render",value:function(){var e=this,n=this.props,t=(n.isModerator,n.currentUser),a=n.collectionId,i=this.state.isTreeVisible;return t&&t.role&&"MODERATOR"===t.role?I.a.createElement(C.Query,{query:je,variables:{id:a}},function(n){var t=n.loading,a=n.error,r=n.data;return t?null:a?"Error: ".concat(a.message):I.a.createElement(qe,{ref:e.setWrapperRef},I.a.createElement(Me,{type:"button",onClick:e.toggleTree},i?"-":"+"),i&&I.a.createElement(_e,{collectionArray:r.Collection}))}):null}}]),n}(E.Component);Qe.propTypes={isModerator:L.a.bool.isRequired,currentUser:L.a.shape({id:L.a.string,name:L.a.string}),collectionId:L.a.string.isRequired},Qe.defaultProps={currentUser:null};var Ge=Qe,Be={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"COLLECTION_QUERY"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"parameters"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"unrestricted"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"collectionData"},arguments:[{kind:"Argument",name:{kind:"Name",value:"collectionId"},value:{kind:"Variable",name:{kind:"Name",value:"collectionId"}}},{kind:"Argument",name:{kind:"Name",value:"parameters"},value:{kind:"Variable",name:{kind:"Name",value:"parameters"}}},{kind:"Argument",name:{kind:"Name",value:"unrestricted"},value:{kind:"Variable",name:{kind:"Name",value:"unrestricted"}}}],directives:[]}]}}],loc:{start:0,end:237,source:{body:"\n  query COLLECTION_QUERY(\n    $collectionId: ID!\n    $parameters: String!\n    $unrestricted: Boolean!\n  ) {\n    collectionData(\n      collectionId: $collectionId\n      parameters: $parameters\n      unrestricted: $unrestricted\n    )\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},We=Object(E.createContext)({}),Je=function(e){var n=e.collection,t=e.children;return I.a.createElement(C.Query,{query:Be,variables:{collectionId:n.id,parameters:JSON.stringify(n.parameters),unrestricted:n.unrestricted}},function(e){var a=e.loading,i=e.error,r=e.data,l=e.client;function u(){return function(){return d()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.resetStore();case 2:case"end":return e.stop()}},e)})).apply(this,arguments)}.apply(this,arguments)}if(a)return t({loading:a,error:i,data:r,refetchCollection:u});if(i)return t({error:i});var c=r.collectionData?JSON.parse(r.collectionData):{isModerator:!0,sources:[]};return I.a.createElement(_,null,function(e){var r=e.currentUser;return I.a.createElement("div",null,I.a.createElement(We.Provider,{value:n},I.a.createElement(Ge,{isModerator:c.isModerator,collectionId:n.id,currentUser:r})),t({error:i,data:c.sources,loading:a,refetchCollection:u}))})})};Je.propTypes={children:L.a.func.isRequired,collection:L.a.oneOfType([L.a.shape({id:L.a.string,unrestricted:L.a.bool,parameters:L.a.object}),L.a.shape({id:L.a.string,unrestricted:L.a.bool,parameters:L.a.object,fetchPolicy:L.a.oneOf(["cache-first","cache-and-network","network-only","cache-only","no-cache"])})]).isRequired};var Ye=t(19),He=t.n(Ye),ze={layout:{hierarchical:!1},height:"400px",nodes:{font:{size:25,multi:"markdown",color:"#6c6c6c",bold:{color:"#f51717",mod:""}},shape:"box"},edges:{arrows:{to:{enabled:!1},middle:{enabled:!1},from:{enabled:!1}}},groups:{constraints:{title:"constraint",font:{size:20,color:"#ffffff"},color:{background:"#f55b5b",border:"#f51717",highlight:"#f51717"},physics:!1},returnedTypes:{title:"returned types",font:{color:"#000000"}}}},Ke=function(e){var n=e.source,t=n.tree,a=n.types,i=n.constraints,r=n.sortings;if(!t)return null;var o=function(e,n,t,a){var i=a.reduce(function(e,n){return Object.assign(S()({},n.type.id,n.order.toString()),e)},{}),r=n.map(function(e){return e.id}),o=e.nodes.reduce(function(e,n){return e.find(function(e){return e.id===n.id})?e:e.concat([n])},[]).map(function(e){var n=e.name+(Object.prototype.hasOwnProperty.call(i,e.id)?" *(".concat(i[e.id],")*"):""),t=r.indexOf(e.id)>-1?"returnedTypes":"";return{id:e.id,label:n,group:t}}),l=e.assns.map(function(e){return{from:e.types[0].id,to:e.types[1].id}}),d=t.map(function(e){return{id:e.id,label:e.value,group:"constraints"}}),u=t.map(function(e){return{from:e.id,to:e.type.id}});return{nodes:o.concat(d),edges:l.concat(u)}}(t,a,i,r);return I.a.createElement(B.a,{graph:o,options:ze})};function Xe(){var e=q()(["\n  color: #cb1c1c;\n"]);return Xe=function(){return e},e}function Ze(){var e=q()(["\n  margin: 1.5em;\n  text-align: center;\n"]);return Ze=function(){return e},e}var en=Q.a.div(Ze()),nn=Q.a.div(Xe()),tn=function(e){function n(e){var t;return c()(this,n),t=p()(this,f()(n).call(this,e)),S()(g()(t),"handleChange",function(e){t.setState({currentName:e.target.value})}),S()(g()(t),"updateTypeName",d()(o.a.mark(function e(){var n,a,i,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.state.currentName,a=t.props,i=a.type,r=a.renameType,n){e.next=4;break}return e.abrupt("return");case 4:return t.setState({processing:!0}),e.next=7,r({variables:{id:i.id,newName:n}});case 7:t.setState({processing:!1});case 8:case"end":return e.stop()}},e)}))),S()(g()(t),"handleKeyPress",function(e){13===e.charCode&&t.updateTypeName()}),S()(g()(t),"handleBlur",function(){t.updateTypeName()}),t.state={currentName:e.type.name,processing:!1},t}return b()(n,e),m()(n,[{key:"render",value:function(){var e=this.state,n=e.currentName,t=e.processing;return I.a.createElement(en,null,I.a.createElement("label",{htmlFor:"type-name"},"Type Name:"," ",I.a.createElement("input",{id:"type-name",type:"text",value:n,onChange:this.handleChange,onBlur:this.handleBlur,onKeyPress:this.handleKeyPress,disabled:t})),t&&I.a.createElement(nn,null,"Saving..."))}}]),n}(E.Component);tn.propTypes={type:L.a.shape({id:L.a.string,name:L.a.string}),renameType:L.a.func.isRequired};var an=Object(C.graphql)({kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RENAME_TYPE_MUTATION"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"newName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"result"},name:{kind:"Name",value:"UpdateType"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"newName"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:144,source:{body:"\n  mutation RENAME_TYPE_MUTATION($id: ID!, $newName: String!) {\n    result: UpdateType(id: $id, name: $newName) {\n      id\n      name\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},{name:"renameType"})(tn);function rn(){var e=q()([""]);return rn=function(){return e},e}var on=Q.a.div(rn()),ln=Object(C.graphql)({kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CREATE_CONSTRAINT_MUTATION"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"value"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"constraintType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ConstraintType"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"typeId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sourceId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"CreateConstraint"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"value"},value:{kind:"Variable",name:{kind:"Name",value:"value"}}},{kind:"Argument",name:{kind:"Name",value:"constrainttype"},value:{kind:"Variable",name:{kind:"Name",value:"constraintType"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"AddConstraintType"},arguments:[{kind:"Argument",name:{kind:"Name",value:"constraintid"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"typeid"},value:{kind:"Variable",name:{kind:"Name",value:"typeId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"AddConstraintSource"},arguments:[{kind:"Argument",name:{kind:"Name",value:"constraintid"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"sourceid"},value:{kind:"Variable",name:{kind:"Name",value:"sourceId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:409,source:{body:"\n  mutation CREATE_CONSTRAINT_MUTATION(\n    $id: ID!\n    $value: String!\n    $constraintType: ConstraintType!\n    $typeId: ID!\n    $sourceId: ID!\n  ) {\n    CreateConstraint(id: $id, value: $value, constrainttype: $constraintType) {\n      id\n    }\n\n    AddConstraintType(constraintid: $id, typeid: $typeId) {\n      id\n    }\n\n    AddConstraintSource(constraintid: $id, sourceid: $sourceId) {\n      id\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},{name:"createConstraint"})(function(e){var n=e.type,t=e.source,a=e.createConstraint,i=Object(E.useState)(""),r=ae()(i,2),o=r[0],l=r[1],d=Object(E.useState)("ID"),u=ae()(d,2),c=u[0],s=u[1],m=Object(E.useState)(!1),v=ae()(m,2),p=v[0],k=v[1];return I.a.createElement(on,null,I.a.createElement("form",{onSubmit:function(e){e.preventDefault(),k(!0),console.log(n,t,a,o,c),k(!1)}},I.a.createElement("div",null,I.a.createElement("label",{htmlFor:"constraint-value"},"Constraint Value:"," ",I.a.createElement("input",{id:"constraint-value",type:"text",value:o,onChange:function(e){l(e.target.value)},disabled:p}))),I.a.createElement("div",null,"Constraint Type:"," ",I.a.createElement("select",{id:"constraint-type",onChange:function(e){s(e.target.value)}},I.a.createElement("option",{value:"ID"},"ID"),I.a.createElement("option",{value:"VALUE"},"VALUE"))),I.a.createElement("div",null,I.a.createElement("button",{type:"submit"},"Add Constraint"))))});function dn(){var e=q()(["\n  margin: 1.5em;\n  text-align: center;\n"]);return dn=function(){return e},e}var un,cn=Q.a.div(dn()),sn=Object(C.compose)(Object(C.graphql)({kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CREATE_SORTING_MUTATION"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"order"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"typeId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sourceId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"CreateSorting"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"order"},value:{kind:"Variable",name:{kind:"Name",value:"order"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"AddSortingType"},arguments:[{kind:"Argument",name:{kind:"Name",value:"sortingid"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"typeid"},value:{kind:"Variable",name:{kind:"Name",value:"typeId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"AddSortingSource"},arguments:[{kind:"Argument",name:{kind:"Name",value:"sortingid"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"sourceid"},value:{kind:"Variable",name:{kind:"Name",value:"sourceId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:318,source:{body:"\n  mutation CREATE_SORTING_MUTATION(\n    $id: ID!\n    $order: Int!\n    $typeId: ID!\n    $sourceId: ID!\n  ) {\n    CreateSorting(id: $id, order: $order) {\n      id\n    }\n\n    AddSortingType(sortingid: $id, typeid: $typeId) {\n      id\n    }\n\n    AddSortingSource(sortingid: $id, sourceid: $sourceId) {\n      id\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},{name:"createSorting"}),Object(C.graphql)({kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UPDATE_SORTING_MUTATION"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"order"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"UpdateSorting"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"order"},value:{kind:"Variable",name:{kind:"Name",value:"order"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:125,source:{body:"\n  mutation UPDATE_SORTING_MUTATION($id: ID!, $order: Int!) {\n    UpdateSorting(id: $id, order: $order) {\n      id\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},{name:"updateSorting"}),Object(C.graphql)({kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DELETE_SORTING_MUTATION"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"DeleteSorting"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:96,source:{body:"\n  mutation DELETE_SORTING_MUTATION($id: ID!) {\n    DeleteSorting(id: $id) {\n      id\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},{name:"deleteSorting"}))(function(e){var n=e.type,t=e.source,a=e.createSorting,i=e.updateSorting,r=e.deleteSorting,l=t.sortings.find(function(e){return e.type.id===n.id}),u=!!l&&!!l.id,c=u?l.order:0,s=Object(E.useState)(c),m=ae()(s,2),v=m[0],p=m[1],k=Object(E.useState)(!1),f=ae()(k,2),N=f[0],g=f[1];function y(){var e=Object(ue.v4)();return a({variables:{id:e,order:v,typeId:n.id,sourceId:t.id},update:function(a){var i=a.readFragment({id:t.id,fragment:Le,fragmentName:"SourceFragment"});i.sortings.push({id:e,__typename:"Sorting",order:v,type:de()({__typename:"Type"},n)}),a.writeFragment({id:t.id,fragment:Le,fragmentName:"SourceFragment",data:i})}})}function b(){return function(){return d()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(g(!0),!u){e.next=6;break}return e.next=4,i({variables:{id:l.id,order:v},update:function(e){var n=e.readFragment({id:l.id,fragment:Pe});n.order=v,e.writeFragment({id:l.id,fragment:Pe,data:n})}});case 4:e.next=8;break;case 6:return e.next=8,y();case 8:g(!1);case 9:case"end":return e.stop()}},e)})).apply(this,arguments)}.apply(this,arguments)}function h(){return(h=d()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,r({variables:{id:l.id},update:function(e){var n=e.readFragment({id:t.id,fragment:Le,fragmentName:"SourceFragment"});n.sortings=n.sortings.filter(function(e){return e.id!==l.id}),e.writeFragment({id:t.id,fragment:Le,fragmentName:"SourceFragment",data:n})}});case 3:g(!1);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}return I.a.createElement(cn,null,I.a.createElement("label",{htmlFor:"order-field"},"Order:"," ",I.a.createElement("input",{id:"order-field",type:"text",onKeyPress:function(e){13===e.charCode&&b()},onChange:function(e){var n=Number(e.target.value);"number"!=typeof n||Number.isNaN(n)||Number(n)<0||p(e.target.value)},value:v,disabled:N}),I.a.createElement("button",{type:"button",onClick:b},u?"Update":"Create"),u&&I.a.createElement("button",{type:"button",onClick:function(){return h.apply(this,arguments)}},"Remove")),N&&I.a.createElement("div",null,"Processing..."))}),mn={RENAME:"RENAME",ADD_NODE:"ADD_NODE",CONSTRAIN:"CONSTRAIN",SORT_BY:"SORT_BY",REMOVE_NODE:"REMOVE_NODE"},vn=(un={},S()(un,mn.RENAME,an),S()(un,mn.ADD_NODE,function(e){var n=e.name;return I.a.createElement("div",null,n)}),S()(un,mn.CONSTRAIN,ln),S()(un,mn.SORT_BY,sn),S()(un,mn.REMOVE_NODE,function(e){var n=e.name;return I.a.createElement("div",null,n)}),un);function pn(e){var n=e.panel,t=H()(e,["panel"]);if(!n||!Object.prototype.hasOwnProperty.call(mn,n))return I.a.createElement("div",null,'Error: Invalid panel "',n,'" selected!');var a=vn[n];return I.a.createElement(a,t)}pn.propTypes={panel:L.a.oneOf(Object.values(mn)).isRequired};var kn=pn;function fn(){var e=q()(["\n  padding: 0.5em;\n"]);return fn=function(){return e},e}function Nn(){var e=q()(["\n  margin: 0.3em;\n  text-align: center;\n"]);return Nn=function(){return e},e}function gn(){var e=q()(["\n  background-color: #ffffff;\n  padding: 0.5em;\n  margin: 1em;\n  border-radius: 0.5em;\n  min-height: 250px;\n"]);return gn=function(){return e},e}var yn=Q.a.div(gn()),bn=Q.a.div(Nn()),hn=Q.a.button(fn()),Sn=function(e){function n(){var e,t;c()(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return t=p()(this,(e=f()(n)).call.apply(e,[this].concat(i))),S()(g()(t),"state",{selectedPanel:null}),S()(g()(t),"handleButtonClick",function(e){return t.setState({selectedPanel:e.target.value})}),t}return b()(n,e),m()(n,[{key:"render",value:function(){var e=this.props,n=e.type,t=e.source,a=this.state.selectedPanel;return I.a.createElement("div",null,I.a.createElement("div",null,"Configuring ",n.name),I.a.createElement(bn,null,I.a.createElement(hn,{type:"button",value:mn.RENAME,onClick:this.handleButtonClick},"Rename"),I.a.createElement(hn,{type:"button",value:mn.ADD_NODE,onClick:this.handleButtonClick},"Add Associated Type"),I.a.createElement(hn,{type:"button",value:mn.CONSTRAIN,onClick:this.handleButtonClick},"Constrain"),I.a.createElement(hn,{type:"button",value:mn.SORT_BY,onClick:this.handleButtonClick},"Sort By"),I.a.createElement(hn,{type:"button",value:mn.REMOVE_NODE,onClick:this.handleButtonClick},"Remove")),a&&I.a.createElement(yn,null,I.a.createElement(kn,{panel:a,type:n,source:t})))}}]),n}(E.Component);function En(){var e=q()(["\n  background: transparent;\n  border: none;\n  font-size: 14px;\n  height: 29px;\n  width: 268px;\n  padding: 5px;\n  margin-left: 10px;\n  background: url(https://cdn1.iconfinder.com/data/icons/cc_mono_icon_set/blacks/16x16/br_down.png)\n    no-repeat right #ddd;\n  background-position-x: 244px;\n  background-color: #3b8ec2;\n  border-radius: 5px;\n  appearance: none;\n"]);return En=function(){return e},e}var In=Q.a.select(En()),Cn=function(e){function n(){var e,t;c()(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return t=p()(this,(e=f()(n)).call.apply(e,[this].concat(i))),S()(g()(t),"state",{selectedType:null}),S()(g()(t),"getNodes",function(){return t.props.source.tree.nodes.reduce(function(e,n){return e.find(function(e){return e.id===n.id})?e:e.concat([n])},[])}),S()(g()(t),"handleSelect",function(e){if(e.target.value){var n=t.getNodes().find(function(n){return n.id===e.target.value});t.setState({selectedType:n})}else t.setState({selectedType:null})}),t}return b()(n,e),m()(n,[{key:"render",value:function(){var e=this.props,n=e.source,t=e.ContentRow,a=this.state.selectedType,i=n.tree;if(!i||!i.nodes||!Array.isArray(i.nodes))return null;var r=this.getNodes();return I.a.createElement("div",null,"Select a type to modify:",I.a.createElement(In,{onChange:this.handleSelect},I.a.createElement("option",{value:null}),r.map(function(e){return I.a.createElement("option",{key:e.id,value:e.id},e.name)})),a&&I.a.createElement(t,null,I.a.createElement(Sn,{key:a.id,type:a,source:n})))}}]),n}(E.Component);function Tn(){var e=q()(["\n  padding: 10px;\n  margin: 10px;\n  border-radius: 3px;\n  background-color: #e6e0e0;\n"]);return Tn=function(){return e},e}function Dn(){var e=q()(["\n  position: absolute;\n  left: 5px;\n  top: 0;\n  padding: 10px;\n  border-radius: 5px;\n  background-color: #fffdfd;\n  box-shadow: 5px 5px 20px #464646;\n  z-index: 999999;\n  min-width: 480px;\n"]);return Dn=function(){return e},e}function An(){var e=q()(["\n  position: relative;\n"]);return An=function(){return e},e}var wn=Q.a.div(An()),On=Q.a.div(Dn()),xn=Q.a.div(Tn()),Vn=function(e){var n=e.source;return n&&I.a.createElement(wn,null,I.a.createElement(On,null,I.a.createElement("div",null,"Source: ",n.name||"Unnamed Source"),I.a.createElement("div",null,"Source ID: ",n.id),I.a.createElement(xn,null,I.a.createElement(Ke,{source:n})),I.a.createElement(Cn,{source:n,ContentRow:xn})))};function Fn(){var e=q()(["\n  box-sizing: border-box;\n  background-color: white;\n  color: red;\n  font-size: 16px;\n  border: 1px dashed red;\n  width: 25px;\n  height: 25px;\n  padding: 0;\n  margin: 0;\n  text-align: center;\n  text-decoration: none;\n"]);return Fn=function(){return e},e}function _n(){var e=q()(["\n  direction: ltr;\n"]);return _n=function(){return e},e}var Rn,Un,$n={kind:"Document",definitions:(Rn=[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SOURCE"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"Source"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sortings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SortingFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"types"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"constraints"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ConstraintFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"tree"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TreeFragment"},directives:[]}]}}]}}]}}].concat([{kind:"FragmentDefinition",name:{kind:"Name",value:"SortingFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Sorting"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"order"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}],[{kind:"FragmentDefinition",name:{kind:"Name",value:"ConstraintFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Constraint"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}],[{kind:"FragmentDefinition",name:{kind:"Name",value:"TreeFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Tree"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"assns"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"types"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]),Un={},Rn.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!Un[n]&&(Un[n]=!0,!0)})),loc:{start:0,end:291,source:{body:"\n  query SOURCE($id: ID!) {\n    Source(id: $id) {\n      id\n      name\n      sortings {\n        ...SortingFragment\n      }\n      types {\n        id\n        name\n      }\n      constraints {\n        ...ConstraintFragment\n      }\n      tree {\n        ...TreeFragment\n      }\n    }\n  }\n\n  \n  \n  \n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Pn=Q.a.div(_n()),Ln=Q.a.button(Fn()),jn=function(e){function n(){var e,t;c()(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return t=p()(this,(e=f()(n)).call.apply(e,[this].concat(i))),S()(g()(t),"state",{isTreeVisible:!1}),S()(g()(t),"toggleTree",function(){return t.setState(function(e){return{isTreeVisible:!e.isTreeVisible}})}),S()(g()(t),"setWrapperRef",function(e){t.wrapperRef=e}),S()(g()(t),"handleClickOutside",function(e){t.state.isTreeVisible&&t.wrapperRef&&!t.wrapperRef.contains(e.target)&&t.setState({isTreeVisible:!1})}),t}return b()(n,e),m()(n,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"render",value:function(){var e=this,n=this.props.id,t=this.state.isTreeVisible;return I.a.createElement(C.Query,{query:$n,variables:{id:n}},function(n){var a=n.loading,i=n.error,r=n.data;return a?null:i?"Error: ".concat(i.graphQLErrors):I.a.createElement(Pn,{ref:e.setWrapperRef},I.a.createElement(Ln,{type:"button",onClick:e.toggleTree},t?"-":"+"),t&&I.a.createElement(Vn,{source:r.Source[0]}))})}}]),n}(E.Component);jn.propTypes={id:L.a.string.isRequired};var qn=jn,Mn=function(e){var n=e.id,t=e.query,a=e.typeHierarchy,i=e.unrestricted,r=e.parameters,o=e.children,l={id:n,typeHierarchy:JSON.stringify(a),unrestricted:i,parameters:JSON.stringify(r)},d=function(e){return function(n,a){var i,r=a.data.ExecuteAction;if(e)i=e;else{var o=JSON.parse(r);i={instance:{id:o.instanceId,value:o.value,__typename:"Instance"},__typename:"InstanceWithChildren"}}var d=n.readQuery({query:t,variables:de()({},l)}).sourceData;n.writeQuery({query:t,variables:de()({},l),data:{sourceData:[i].concat(He()(d))}})}},u=function(e,n){return function(t,a){var i=a.data.ExecuteAction,r=JSON.parse(i);t.writeFragment({id:e,fragment:n,data:{id:e,value:r.value,__typename:"Instance"}})}};return I.a.createElement(_,null,function(e){var a=e.currentUser;return I.a.createElement("div",null,a&&a.role&&"MODERATOR"===a.role&&I.a.createElement(qn,{id:n}),I.a.createElement(C.Query,{query:t,variables:l},function(e){var n=e.loading,t=e.error,a=e.data;return o(n?{loading:n,error:t,data:a}:t?{error:t}:{error:t,data:a,loading:n,queryVariables:l,updateSourceAfterCreateAction:d,updateSourceAfterUpdateAction:u})}))})},Qn=t(22),Gn=t.n(Qn);function Bn(){var e=q()(["\n  color: blue;\n"]);return Bn=function(){return e},e}function Wn(){var e=q()(["\n  color: red;\n"]);return Wn=function(){return e},e}function Jn(){var e=q()(["\n  background-color: #eeeeee;\n  padding: 1em;\n  margin: 0 1em;\n"]);return Jn=function(){return e},e}function Yn(){var e=q()(["\n  margin: 0;\n  display: flex;\n  padding: 0;\n"]);return Yn=function(){return e},e}function Hn(){var e=q()(["\n  margin-left: 0.6em;\n"]);return Hn=function(){return e},e}function zn(){var e=q()(["\n  border-bottom: 1px dotted red;\n  margin-left: 0.6em;\n"]);return zn=function(){return e},e}function Kn(){var e=q()(["\n  color: ",";\n"]);return Kn=function(){return e},e}function Xn(){var e=q()(["\n  display: ",";\n  cursor: ",";\n"]);return Xn=function(){return e},e}function Zn(){var e=q()(["\n  padding: 1em 1em 1.5em;\n  border: 1px solid #eeeeee;\n  margin: 1em;\n"]);return Zn=function(){return e},e}var et=Q.a.div(Zn()),nt=Q.a.div(Xn(),function(e){return e.isFlexContainer?"flex":"block"},function(e){return e.hasInfo?"pointer":"auto"}),tt=Q.a.span(Kn(),function(e){var n=e.isConstrained,t=e.isSorted;return n&&t?"purple":n?"red":t?"blue":"black"}),at=Q.a.span(zn()),it=Q.a.span(Hn()),rt=Q.a.div(Yn()),ot=Q.a.div(Jn()),lt=Q()(ot)(Wn()),dt=Q()(ot)(Bn()),ut=function(e){function n(){var e,t;c()(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return t=p()(this,(e=f()(n)).call.apply(e,[this].concat(i))),S()(g()(t),"state",{isInfoVisible:!1}),S()(g()(t),"toggleInfo",function(){var e=t.state.isInfoVisible,n=t.props.data;(n.constraints&&n.constraints.length||n.sorting)&&t.setState({isInfoVisible:!e})}),t}return b()(n,e),m()(n,[{key:"render",value:function(){var e=this.props.data,t=this.state.isInfoVisible;return I.a.createElement(et,null,I.a.createElement(nt,{isFlexContainer:t,hasInfo:!!e.constraints&&!!e.constraints.length||!!e.sorting,onClick:this.toggleInfo,role:"button"},I.a.createElement("div",null,I.a.createElement(tt,{isConstrained:!!e.constraints&&!!e.constraints.length,isSorted:!!e.sorting},e.name),!t&&e.constraints&&e.constraints.length?e.constraints.map(function(e){return I.a.createElement(at,{key:e.constraintId},e.value)}):null,!t&&e.sorting?I.a.createElement(it,null,"( ".concat(e.sorting.order," )")):null),t&&I.a.createElement(rt,null,I.a.createElement(lt,null,I.a.createElement("h4",null,"Constraints"),e.constraints&&e.constraints.length?e.constraints.map(function(e){return I.a.createElement(I.a.Fragment,{key:e.constraintId},I.a.createElement("p",null,I.a.createElement("strong",null,"ID:")," ",e.constraintId),I.a.createElement("p",null,I.a.createElement("strong",null,"Value:")," ",e.value))}):I.a.createElement("p",null,"No constraints applied.")),I.a.createElement(dt,null,I.a.createElement("h4",null,"Sorting"),e.sorting?I.a.createElement(I.a.Fragment,null,I.a.createElement("p",null,I.a.createElement("strong",null,"ID:")," ",e.sorting.sortingId),I.a.createElement("p",null,I.a.createElement("strong",null,"Order:")," ",e.sorting.order)):I.a.createElement("p",null,"Unsorted.")))),e.children&&e.children.length?e.children.map(function(e){return I.a.createElement(n,{key:e.typeId,data:e})}):null)}}]),n}(E.Component);function ct(){var e=q()([""]);return ct=function(){return e},e}function st(){var e=q()([""]);return st=function(){return e},e}var mt={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sourceId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sourceMetaInfo"},arguments:[{kind:"Argument",name:{kind:"Name",value:"sourceId"},value:{kind:"Variable",name:{kind:"Name",value:"sourceId"}}}],directives:[]}]}}],loc:{start:0,end:71,source:{body:"\n  query($sourceId: ID!) {\n    sourceMetaInfo(sourceId: $sourceId)\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},vt=Q.a.button(st()),pt=Q.a.div(ct()),kt=function(e){function n(){var e,t;c()(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return t=p()(this,(e=f()(n)).call.apply(e,[this].concat(i))),S()(g()(t),"state",{isTreeVisible:!1}),S()(g()(t),"showTree",function(){return t.setState({isTreeVisible:!0})}),S()(g()(t),"hideTree",function(){return t.setState({isTreeVisible:!1})}),t}return b()(n,e),m()(n,[{key:"render",value:function(){var e=this,n=this.props,t=n.rootId,a=n.sourceId;return this.state.isTreeVisible?I.a.createElement(C.Query,{query:mt,variables:{sourceId:a}},function(n){var a=n.data,i=n.loading,r=n.error;if(i)return I.a.createElement(Gn.a,{name:"three-bounce"});if(r)return"Error: ".concat(r.message);var o=JSON.parse(a.sourceMetaInfo),l=[],d=function e(n,t,a){var i=function(e){return e.typeId===n},r=t.find(i);if(!r)return"Invalid Node ID provided";var o,l=t.findIndex(i);return t.splice(l,1),r.children=[],r.assns.forEach(function(n){t.find(function(e){return e.typeId===n.childTypeId})&&(o=e(n.childTypeId,t,r.children))}),o||(delete r.assns,a.push(r),null)}(t,o,l);return d?"Error: ".concat(d):I.a.createElement(pt,null,I.a.createElement(vt,{onClick:e.hideTree},"Hide Tree"),I.a.createElement(ut,{data:l[0]}))}):I.a.createElement(vt,{onClick:this.showTree},"Show Tree")}}]),n}(E.Component),ft=[{kind:"FragmentDefinition",name:{kind:"Name",value:"ActionParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Action"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionType"},arguments:[],directives:[]}]}}],Nt={kind:"Document",definitions:function(e){var n={};return e.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!n[t]&&(n[t]=!0,!0)})}([{kind:"FragmentDefinition",name:{kind:"Name",value:"UserClassParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserClass"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ActionParts"},directives:[]}]}}]}}].concat(ft)),loc:{start:0,end:107,source:{body:"\n  fragment UserClassParts on UserClass {\n    id\n    name\n    actions {\n      ...ActionParts\n    }\n  }\n\n  \n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},gt=[{kind:"FragmentDefinition",name:{kind:"Name",value:"CollectionParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}],yt=[{kind:"FragmentDefinition",name:{kind:"Name",value:"SourceParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Source"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}];function bt(){var e=q()(["\n  color: #c8c8c8;\n  font-size: 0.8em;\n  font-weight: 300;\n"]);return bt=function(){return e},e}function ht(){var e=q()(["\n  margin: 1em;\n  padding: 1em;\n  background-color: #f0ffff;\n"]);return ht=function(){return e},e}function St(){var e=q()(["\n  color: #007aff;\n  font-size: 0.9rem;\n  font-weight: 350;\n  background: none;\n  border: none;\n  margin: 0 0.5em;\n  padding: 0 0.2em;\n  cursor: pointer;\n\n  &::-moz-focus-inner {\n    border: 0;\n  }\n"]);return St=function(){return e},e}function Et(){var e=q()(["\n  direction: ltr;\n  position: fixed;\n  left: 0;\n  top: 0;\n  z-index: 999999;\n  width: 100%;\n  height: 100%;\n  padding: 0;\n  margin: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgb(0, 0, 0, 0.8);\n\n  h1 {\n    margin: 0 0 0.5em;\n  }\n\n  h2 {\n    margin: 0.5em 0 1em;\n  }\n\n  h3 {\n    margin: 1em 0;\n  }\n\n  h4 {\n    margin: 1em 0;\n  }\n\n  h5 {\n    margin: 1em 0;\n  }\n"]);return Et=function(){return e},e}var It=Q.a.div(Et()),Ct=Q.a.button(St()),Tt=Q.a.div(ht()),Dt=Q.a.span(bt()),At=function(e){function n(){var e,t;c()(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return t=p()(this,(e=f()(n)).call.apply(e,[this].concat(i))),S()(g()(t),"state",{showConfirmation:!1,showDeleting:!1}),S()(g()(t),"showConfirmationDialog",function(){return t.setState({showConfirmation:!0})}),S()(g()(t),"hideConfirmationDialog",function(){return t.setState({showConfirmation:!1})}),S()(g()(t),"handleDelete",d()(o.a.mark(function e(){var n,a,i,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.props,a=n.action,i=n.userClassId,r=n.deleteAction,t.hideConfirmationDialog(),t.setState({showDeleting:!0}),e.next=5,r({variables:{id:a.id},update:function(e){var n=e.readFragment({id:i,fragment:Nt,fragmentName:"UserClassParts"});n.actions=n.actions.filter(function(e){return e.id!==a.id}),e.writeFragment({id:i,fragment:Nt,fragmentName:"UserClassParts",data:de()({},n)})}});case 5:t.setState({showDeleting:!1});case 6:case"end":return e.stop()}},e)}))),t}return b()(n,e),m()(n,[{key:"render",value:function(){var e=this.state,n=e.showDeleting,t=e.showConfirmation;return n?"Deleting action...":t?I.a.createElement(I.a.Fragment,null,"Are you sure?"," ",I.a.createElement(Ct,{type:"button",onClick:this.hideConfirmationDialog},"No")," ",I.a.createElement(Ct,{type:"button",onClick:this.handleDelete},"Yes")):I.a.createElement(Ct,{type:"button",onClick:this.showConfirmationDialog},"Delete")}}]),n}(E.Component);At.propTypes={action:L.a.shape({id:L.a.string,name:L.a.string,actionType:L.a.string}).isRequired,userClassId:L.a.string.isRequired,deleteAction:L.a.func.isRequired};var wt=Object(C.graphql)({kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DELETE_ACTION"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"DeleteAction"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:85,source:{body:"\n  mutation DELETE_ACTION($id: ID!) {\n    DeleteAction(id: $id) {\n      id\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},{name:"deleteAction"})(At);function Ot(){var e=q()(["\n  margin-bottom: 0.8em;\n"]);return Ot=function(){return e},e}var xt=Q.a.div(Ot()),Vt=function(e){function n(){var e,t;c()(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return t=p()(this,(e=f()(n)).call.apply(e,[this].concat(i))),S()(g()(t),"state",{showMenu:!1}),S()(g()(t),"handleMouseEnter",function(){return t.setState({showMenu:!0})}),S()(g()(t),"handleMouseLeave",function(){return t.setState({showMenu:!1})}),S()(g()(t),"handleDelete",function(){}),t}return b()(n,e),m()(n,[{key:"render",value:function(){var e=this.props,n=e.action,t=e.userClassId,a=this.state.showMenu;return I.a.createElement(xt,{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},I.a.createElement("div",null,n.name,a&&I.a.createElement(wt,{action:n,userClassId:t})),I.a.createElement("div",null,I.a.createElement(Dt,null,n.id)))}}]),n}(E.Component);Vt.propTypes={action:L.a.shape({id:L.a.string,name:L.a.string,actionType:L.a.string}).isRequired,userClassId:L.a.string.isRequired};var Ft=Vt,_t=function(e){function n(){var e,t;c()(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return t=p()(this,(e=f()(n)).call.apply(e,[this].concat(i))),S()(g()(t),"state",{showConfirmation:!1,isDeleting:!1}),S()(g()(t),"showConfirmation",function(){return t.setState({showConfirmation:!0})}),S()(g()(t),"hideConfirmation",function(){return t.setState({showConfirmation:!1,isDeleting:!1})}),S()(g()(t),"handleDeleteUserClass",d()(o.a.mark(function e(){var n,a,i,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.props,a=n.userClassId,i=n.platformId,r=n.deleteUserClass,t.setState({isDeleting:!0}),e.next=4,r({variables:{id:a},update:function(e){var n=e.readQuery({query:Va,variables:{id:i}}).Platform;n[0].classes=n[0].classes.filter(function(e){return e.id!==a}),e.writeQuery({query:Va,variables:{id:i},data:{Platform:n}})}});case 4:t.hideConfirmation();case 5:case"end":return e.stop()}},e)}))),t}return b()(n,e),m()(n,[{key:"render",value:function(){var e=this.state.disabled,n=this.state,t=n.showConfirmation,a=n.isDeleting;return t?I.a.createElement(I.a.Fragment,null,"Are you sure?"," ",I.a.createElement(Ct,{type:"button",disabled:e||a,onClick:this.hideConfirmation},"No")," ",I.a.createElement(Ct,{type:"button",disabled:e||a,onClick:this.handleDeleteUserClass},"Yes")):I.a.createElement(Ct,{type:"button",disabled:e,onClick:this.showConfirmation},"Delete")}}]),n}(E.Component);_t.propTypes={userClassId:L.a.string.isRequired,platformId:L.a.string.isRequired,disabled:L.a.bool,deleteUserClass:L.a.func.isRequired},_t.defaultProps={disabled:!1};var Rt=Object(C.graphql)({kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DELETE_USER_CLASS"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"DeleteUserClass"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:92,source:{body:"\n  mutation DELETE_USER_CLASS($id: ID!) {\n    DeleteUserClass(id: $id) {\n      id\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},{name:"deleteUserClass"})(_t);function Ut(){var e=q()(["\n  margin-top: -0.8em;\n"]);return Ut=function(){return e},e}var $t=Q.a.div(Ut()),Pt={kind:"Document",definitions:function(e){var n={};return e.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!n[t]&&(n[t]=!0,!0)})}([{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UPDATE_USERCLASS"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"userClass"},name:{kind:"Name",value:"UpdateUserClass"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"UserClassParts"},directives:[]}]}}]}}].concat(Nt.definitions)),loc:{start:0,end:150,source:{body:"\n  mutation UPDATE_USERCLASS($id: ID!, $name: String!) {\n    userClass: UpdateUserClass(id: $id, name: $name) {\n      ...UserClassParts\n    }\n  }\n\n  \n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Lt=function(e){function n(){var e,t;c()(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return t=p()(this,(e=f()(n)).call.apply(e,[this].concat(i))),S()(g()(t),"state",{showMenu:!1,showActions:!1,isEditMode:!1,isSaving:!1}),S()(g()(t),"handleMouseEnter",function(){return t.setState({showMenu:!0})}),S()(g()(t),"handleMouseLeave",function(){return t.setState({showMenu:!1})}),S()(g()(t),"toggleActions",function(){return t.setState(function(e){return{showActions:!e.showActions}})}),S()(g()(t),"handleSaveUserClass",d()(o.a.mark(function e(){var n,a,i,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.props,a=n.userClass,i=n.updateUserClassName,r=t.state.userClassName){e.next=4;break}return e.abrupt("return",t.setState({userClassName:a.name}));case 4:return t.setState({isSaving:!0}),e.next=7,i({variables:{id:a.id,name:r}});case 7:return t.toggleEditMode(),e.abrupt("return",t.setState({isSaving:!1}));case 9:case"end":return e.stop()}},e)}))),S()(g()(t),"toggleEditMode",d()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.setState(function(e){return{isEditMode:!e.isEditMode}});case 1:case"end":return e.stop()}},e)}))),S()(g()(t),"handleInputChange",function(e){e.preventDefault(),t.setState({userClassName:e.target.value})}),t}return b()(n,e),m()(n,[{key:"render",value:function(){var e=this.props,n=e.userClass,t=e.platformId,a=e.showActionView,i=e.showCollectionView,r=this.state,o=r.userClassName,l=r.showMenu,d=r.showActions,u=r.isEditMode,c=r.isSaving;return I.a.createElement("div",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},I.a.createElement("h4",null,u?I.a.createElement("input",{type:"text",value:o,disabled:c,onChange:this.handleInputChange}):o,u&&I.a.createElement(I.a.Fragment,null,I.a.createElement(Ct,{type:"button",disabled:c,onClick:this.handleSaveUserClass},"Save"),I.a.createElement(Ct,{type:"button",disabled:c,onClick:this.toggleEditMode},"Cancel")),l&&!u&&I.a.createElement(I.a.Fragment,null,I.a.createElement(Ct,{type:"button",onClick:this.toggleEditMode},"Edit"),I.a.createElement(Rt,{userClassId:n.id,platformId:t,disabled:c}),I.a.createElement(Ct,{type:"button",onClick:this.toggleActions},d?"Hide Actions":"Show Actions"),I.a.createElement(Ct,{type:"button",onClick:function(){return i(n.id)}},"Collections"))),I.a.createElement($t,null,I.a.createElement(Dt,null,n.id)),d&&I.a.createElement("div",null,I.a.createElement("h5",null,"Actions",I.a.createElement(Ct,{type:"button",onClick:function(){return a(n.id)}},"Add")),I.a.createElement("ul",null,n.actions.map(function(e){return I.a.createElement("li",null,I.a.createElement(Ft,{key:e.id,userClassId:n.id,action:e}))}))))}}],[{key:"getDerivedStateFromProps",value:function(e,n){return n.prevUserClassName===e.userClass.name?null:{userClassName:e.userClass.name,prevUserClassName:e.userClass.name}}}]),n}(E.Component);Lt.propTypes={userClass:L.a.shape({id:L.a.string,name:L.a.string,actions:L.a.arrayOf(L.a.object)}).isRequired,platformId:L.a.string.isRequired,updateUserClassName:L.a.func.isRequired,showActionView:L.a.func.isRequired,showCollectionView:L.a.func.isRequired};var jt=Object(C.graphql)(Pt,{name:"updateUserClassName"})(Lt),qt=function(e){var n=e.userClassName,t=e.onChange,a=e.onSubmit,i=e.onCancel;return I.a.createElement("form",{onSubmit:a},I.a.createElement(Tt,null,I.a.createElement("h4",null,"New User Class"),I.a.createElement("div",null,"User Class Name:"," ",I.a.createElement("input",{type:"text",placeholder:"name",onChange:t,value:n}),I.a.createElement(Ct,{type:"submit"},"Create"),I.a.createElement(Ct,{type:"button",onClick:i},"Cancel"))))};qt.propTypes={userClassName:L.a.string.isRequired,onChange:L.a.func.isRequired,onSubmit:L.a.func.isRequired,onCancel:L.a.func.isRequired};var Mt=qt,Qt=function(e){function n(){var e,t;c()(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return t=p()(this,(e=f()(n)).call.apply(e,[this].concat(i))),S()(g()(t),"state",{isFormVisible:!1,newUserClassName:"",isSubmitting:!1}),S()(g()(t),"showActionView",function(e){var n=t.props;(0,n.changeView)(n.views.USER_ACTION_VIEW,{userClassId:e})}),S()(g()(t),"showCollectionView",function(e){var n=t.props;(0,n.changeView)(n.views.USER_COLLECTION_VIEW,{userClassId:e})}),S()(g()(t),"showForm",function(){return t.setState({isFormVisible:!0,newUserClassName:""})}),S()(g()(t),"hideForm",function(){return t.setState({isFormVisible:!1,isSubmitting:!1})}),S()(g()(t),"handleFormChange",function(e){e.preventDefault(),t.setState({newUserClassName:e.target.value})}),S()(g()(t),"handleCreateUserClass",d()(o.a.mark(function e(){var n,a,i,r,l;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.props,a=n.platformData,i=n.addUserClass,r=t.state.newUserClassName,l=Object(ue.v4)(),t.setState({isSubmitting:!0}),e.next=6,i({variables:{id:l,name:r,platformId:a.id},update:function(e,n){var t=n.data.newUser,i=e.readQuery({query:Va,variables:{id:a.id}}).Platform;i[0].classes.push(t),e.writeQuery({query:Va,variables:{id:a.id},data:{Platform:i}})}});case 6:t.hideForm();case 7:case"end":return e.stop()}},e)}))),t}return b()(n,e),m()(n,[{key:"render",value:function(){var e=this,n=this.props.platformData,t=this.state,a=t.newUserClassName,i=t.isFormVisible,r=t.isSubmitting;return I.a.createElement("div",null,I.a.createElement("h2",null,n.name," Platform ",I.a.createElement(Dt,null,n.id)),I.a.createElement("h3",null,"User Classes",!i&&I.a.createElement(Ct,{type:"button",onClick:this.showForm},"Add")),r?"Creating new User Class...":i&&I.a.createElement(Mt,{userClassName:a,onChange:this.handleFormChange,onSubmit:this.handleCreateUserClass,onCancel:this.hideForm}),I.a.createElement("ul",null,n.classes.map(function(t){return I.a.createElement("li",{key:t.id},I.a.createElement(jt,{userClass:t,platformId:n.id,showActionView:e.showActionView,showCollectionView:e.showCollectionView}))})))}}]),n}(E.Component);Qt.propTypes={platformData:L.a.shape({id:L.a.string,name:L.a.string,classes:L.a.array}).isRequired,changeView:L.a.func.isRequired,views:L.a.shape({USER_ACTION_VIEW:L.a.string}).isRequired,addUserClass:L.a.func.isRequired};var Gt=Object(C.graphql)({kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ADD_USER_CLASS"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"platformId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"newUser"},name:{kind:"Name",value:"CreateUserClass"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"Argument",name:{kind:"Name",value:"platformId"},value:{kind:"Variable",name:{kind:"Name",value:"platformId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:229,source:{body:"\n  mutation ADD_USER_CLASS($id: ID!, $name: String!, $platformId: ID!) {\n    newUser: CreateUserClass(id: $id, name: $name, platformId: $platformId) {\n      id\n      name\n      actions {\n        id\n        name\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},{name:"addUserClass"})(Qt),Bt=t(17);function Wt(){var e=q()(["\n  margin: 1.5em 0;\n  color: red;\n"]);return Wt=function(){return e},e}function Jt(){var e=q()(["\n  margin: 1.5em 0;\n"]);return Jt=function(){return e},e}var Yt=["UPLOAD","APPROVE_UPLOAD","CONTACT","INVITE","ACCEPT_INVITATION","FIRST_LOGIN","RESPOND","NOTIFY","FOLLOW","PAY","BUY","RENT","POST","REQUEST_NEW_PASSWORD","SET_PASSWORD","LOGIN","REFRESH_USER_TOKEN","VERIFY_USER_TOKEN","CREATE_INSTANCE_WITHOUT_PARENT","CREATE_PUBLIC_INSTANCE","CREATE_INSTANCE_ASSN"],Ht=Q.a.div(Jt()),zt=Q.a.div(Wt()),Kt=function(e){var n=e.errors,t=e.isSubmitting,a=e.onCancel;return I.a.createElement(Bt.Form,null,I.a.createElement("h2",null,"New Action"),I.a.createElement(Ht,null,I.a.createElement("label",{htmlFor:"actionName"},"Name:"," ",I.a.createElement(Bt.Field,{id:"actionName",name:"actionName",placeholder:"name",disabled:t,validate:function(e){return!e&&"Name required."}}))),I.a.createElement(zt,null,I.a.createElement(Bt.ErrorMessage,{name:"actionName"})),I.a.createElement(Ht,null,I.a.createElement("label",{htmlFor:"type"},"Type:"," ",I.a.createElement(Bt.Field,{id:"type",name:"type",component:"select",validate:function(e){return!e&&"Please select an Action Type."},disabled:t},I.a.createElement("option",null),Yt.map(function(e){return I.a.createElement("option",{key:e,value:e},e)})))),I.a.createElement(zt,null,I.a.createElement(Bt.ErrorMessage,{name:"type"})),I.a.createElement(Ht,null,I.a.createElement("label",{htmlFor:"params"},"Params:"," ",I.a.createElement(Bt.Field,{id:"params",name:"params",placeholder:"params",component:"textarea",rows:"10",style:{width:"80%"},disabled:t}))),I.a.createElement(zt,null,I.a.createElement(Bt.ErrorMessage,{name:"params"})),n&&n.length>0&&n.map(function(e){return I.a.createElement(zt,{key:Object(ue.v4)()},e)}),I.a.createElement(Ht,null,I.a.createElement("button",{type:"submit",disabled:t},t?"Creating Action...":"Create Action")," ",I.a.createElement("button",{type:"button",onClick:a,disabled:t},"Cancel")))};Kt.propTypes={errors:L.a.arrayOf(L.a.string),onCancel:L.a.func.isRequired,isSubmitting:L.a.bool.isRequired},Kt.defaultProps={errors:[]};var Xt=Kt;function Zt(){var e=q()([""]);return Zt=function(){return e},e}var ea={kind:"Document",definitions:function(e){var n={};return e.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!n[t]&&(n[t]=!0,!0)})}([{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CREATE_ACTION"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userClassId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"actionType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ActionType"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"actionParameters"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"newAction"},name:{kind:"Name",value:"CreateAction"},arguments:[{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"Argument",name:{kind:"Name",value:"userClassId"},value:{kind:"Variable",name:{kind:"Name",value:"userClassId"}}},{kind:"Argument",name:{kind:"Name",value:"actionType"},value:{kind:"Variable",name:{kind:"Name",value:"actionType"}}},{kind:"Argument",name:{kind:"Name",value:"actionParameters"},value:{kind:"Variable",name:{kind:"Name",value:"actionParameters"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ActionParts"},directives:[]}]}}]}}].concat(ft)),loc:{start:0,end:327,source:{body:"\n  mutation CREATE_ACTION(\n    $name: String!\n    $userClassId: ID!\n    $actionType: ActionType!\n    $actionParameters: String\n  ) {\n    newAction: CreateAction(\n      name: $name\n      userClassId: $userClassId\n      actionType: $actionType\n      actionParameters: $actionParameters\n    ) {\n      ...ActionParts\n    }\n  }\n\n  \n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},na=Q.a.div(Zt()),ta=function(e){function n(){var e,t;c()(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return t=p()(this,(e=f()(n)).call.apply(e,[this].concat(i))),S()(g()(t),"state",{errors:[]}),S()(g()(t),"handleSubmit",function(){var e=d()(o.a.mark(function e(n,a){var i,r,l,d,u,c,s,m,v;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=a.setSubmitting,r=t.props,l=r.userClassId,d=r.createAction,u=r.returnToIndex,c=n.actionName,s=n.type,m=n.params,t.setState({errors:[]}),v=[],e.prev=5,e.next=8,d({variables:{name:c,userClassId:l,actionType:s,actionParameters:JSON.stringify(JSON.parse(m))},update:function(e,n){var t=n.data.newAction,a=e.readFragment({id:l,fragment:Nt,fragmentName:"UserClassParts"});a.actions=a.actions.concat(t),e.writeFragment({id:l,fragment:Nt,fragmentName:"UserClassParts",data:de()({},a)})}});case 8:if(e.sent.data.newAction){e.next=12;break}throw new Error("Failed to create action.");case 12:e.next=19;break;case 14:e.prev=14,e.t0=e.catch(5),e.t0.graphQLErrors&&e.t0.graphQLErrors.length&&v.push(e.t0.graphQLErrors),e.t0.networkError&&e.t0.networkError.result&&e.t0.networkError.result.errors&&e.t0.networkError.result.errors.length&&v.push(e.t0.networkError.result.errors),e.t0.message&&v.push(e.t0.message);case 19:if(i(!1),!v.length){e.next=23;break}return t.setState({errors:v}),e.abrupt("return");case 23:u();case 24:case"end":return e.stop()}},e,null,[[5,14]])}));return function(n,t){return e.apply(this,arguments)}}()),t}return b()(n,e),m()(n,[{key:"render",value:function(){var e=this.props.returnToIndex,n=this.state.errors;return I.a.createElement(na,null,I.a.createElement(Bt.Formik,{initialValues:{actionName:"",type:"",params:""},onSubmit:this.handleSubmit,render:function(t){return I.a.createElement(Xt,i()({},t,{errors:n,onCancel:e}))}}))}}]),n}(E.Component);ta.propTypes={returnToIndex:L.a.func.isRequired,userClassId:L.a.string.isRequired,createAction:L.a.func.isRequired};var aa=Object(C.graphql)(ea,{name:"createAction"})(ta);function ia(){var e=q()(["\n  margin-bottom: 0.8em;\n"]);return ia=function(){return e},e}var ra=Q.a.div(ia()),oa=function(e){var n=e.source;return I.a.createElement(ra,null,I.a.createElement("div",null,n.name),I.a.createElement("div",null,I.a.createElement(Dt,null,n.id)))};oa.propTypes={source:L.a.shape({id:L.a.string,name:L.a.string}).isRequired};var la=oa,da=function(e){var n=e.sourceName,t=e.onChange,a=e.onSubmit,i=e.onCancel;return I.a.createElement("form",null,I.a.createElement(Tt,null,I.a.createElement("h4",null,"New Source"),"Name: ",I.a.createElement("input",{type:"text",value:n,onChange:t}),I.a.createElement(Ct,{type:"button",onClick:a},"Add"),I.a.createElement(Ct,{type:"button",onClick:i},"Cancel")))};da.propTypes={sourceName:L.a.string.isRequired,onSubmit:L.a.func.isRequired,onChange:L.a.func.isRequired,onCancel:L.a.func.isRequired};var ua=da,ca=function(e){var n={};return e.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!n[t]&&(n[t]=!0,!0)})},sa={kind:"Document",definitions:ca([{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"COLLECTION_SOURCES"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"Collection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SourceParts"},directives:[]}]}}]}}]}}].concat(yt)),loc:{start:0,end:127,source:{body:"\n  query COLLECTION_SOURCES($id: ID!) {\n    Collection(id: $id) {\n      sources {\n        ...SourceParts\n      }\n    }\n  }\n\n  \n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},ma={kind:"Document",definitions:ca([{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CREATE_SOURCE"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"CreateSource"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SourceParts"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"AddSourceCollection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"sourceid"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"collectionid"},value:{kind:"Variable",name:{kind:"Name",value:"collectionId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SourceParts"},directives:[]}]}}]}}].concat(yt)),loc:{start:0,end:248,source:{body:"\n  mutation CREATE_SOURCE($id: ID!, $name: String!, $collectionId: ID!) {\n    CreateSource(id: $id, name: $name) {\n      ...SourceParts\n    }\n\n    AddSourceCollection(sourceid: $id, collectionid: $collectionId) {\n      ...SourceParts\n    }\n  }\n\n  \n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},va=function(e){function n(){var e,t;c()(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return t=p()(this,(e=f()(n)).call.apply(e,[this].concat(i))),S()(g()(t),"state",{isFormVisible:!1,newSourceName:"",isSubmitting:!1}),S()(g()(t),"showForm",function(){return t.setState({isFormVisible:!0})}),S()(g()(t),"hideForm",function(){return t.setState({isFormVisible:!1})}),S()(g()(t),"handleFormChange",function(e){e.preventDefault(),t.setState({newSourceName:e.target.value})}),S()(g()(t),"handleCreateSource",function(){var e=d()(o.a.mark(function e(n){var a,i,r,l,d;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.state.newSourceName,i=t.props,r=i.createSource,l=i.collectionId,n.preventDefault(),d=Object(ue.v4)(),t.setState({isSubmitting:!0}),e.next=7,r({variables:{id:d,name:a,collectionId:l},update:function(e){var n=e.readQuery({query:sa,variables:{id:l}}).Collection;n[0].sources.push({id:d,name:a,__typename:"Source"}),e.writeQuery({query:sa,variables:{id:l},data:{Collection:n}})}});case 7:t.setState({isSubmitting:!1}),t.hideForm();case 9:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}()),t}return b()(n,e),m()(n,[{key:"render",value:function(){var e=this.props.collectionId,n=this.state,t=n.isFormVisible,a=n.isSubmitting,i=n.newSourceName;return I.a.createElement("div",null,I.a.createElement("h4",null,"Sources",!t&&I.a.createElement(Ct,{type:"button",onClick:this.showForm},"Add")),I.a.createElement("div",null,a?"Creating new Source...":t&&I.a.createElement(ua,{sourceName:i,onChange:this.handleFormChange,onSubmit:this.handleCreateSource,onCancel:this.hideForm})),I.a.createElement("ul",null,I.a.createElement(C.Query,{query:sa,variables:{id:e}},function(e){var n=e.loading,t=e.error,a=e.data;if(n)return"Loading...";if(t)return"Something went wrong.";var i=a.Collection[0].sources;return i.length?i.map(function(e){return I.a.createElement("li",{key:e.id},I.a.createElement(la,{source:e}))}):I.a.createElement("li",null,"No sources yet.")})))}}]),n}(E.Component);va.propTypes={collectionId:L.a.string.isRequired,createSource:L.a.func.isRequired};var pa=Object(C.graphql)(ma,{name:"createSource"})(va);function ka(){var e=q()(["\n  margin-top: -0.9em;\n"]);return ka=function(){return e},e}var fa=Q.a.div(ka()),Na={kind:"Document",definitions:function(e){var n={};return e.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!n[t]&&(n[t]=!0,!0)})}([{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UPDATE_COLLECTION"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"restricted"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"collection"},name:{kind:"Name",value:"UpdateCollection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"Argument",name:{kind:"Name",value:"restricted"},value:{kind:"Variable",name:{kind:"Name",value:"restricted"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionParts"},directives:[]}]}}]}}].concat(gt)),loc:{start:0,end:224,source:{body:"\n  mutation UPDATE_COLLECTION($id: ID!, $name: String!, $restricted: Boolean!) {\n    collection: UpdateCollection(\n      id: $id\n      name: $name\n      restricted: $restricted\n    ) {\n      ...CollectionParts\n    }\n  }\n\n  \n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},ga=function(e){function n(){var e,t;c()(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return t=p()(this,(e=f()(n)).call.apply(e,[this].concat(i))),S()(g()(t),"state",{isEditMode:!1,showSources:!1}),S()(g()(t),"enableEditMode",function(){return t.setState({isEditMode:!0})}),S()(g()(t),"disableEditMode",function(){return t.setState({isEditMode:!1})}),S()(g()(t),"handleInputChange",function(e){e.preventDefault(),t.setState({collectionName:e.target.value})}),S()(g()(t),"handleCheckboxChange",function(){var e=t.state.restricted;t.setState({restricted:!e})}),S()(g()(t),"saveCollectionName",function(){var e=t.props,n=e.collection,a=e.updateCollection,i=t.state,r=i.collectionName,o=i.restricted;a({variables:{id:n.id,name:r,restricted:o}}),t.disableEditMode()}),S()(g()(t),"toggleSources",function(){return t.setState(function(e){return{showSources:!e.showSources}})}),t}return b()(n,e),m()(n,[{key:"render",value:function(){var e=this.props.collection,n=this.state,t=n.isEditMode,a=n.collectionName,i=n.restricted,r=n.showSources;return t?I.a.createElement("div",null,I.a.createElement("input",{type:"text",value:a,onChange:this.handleInputChange}),"restricted?"," ",I.a.createElement("input",{type:"checkbox",checked:i,onChange:this.handleCheckboxChange}),I.a.createElement(Ct,{type:"button",onClick:this.saveCollectionName},"Save"),I.a.createElement(Ct,{type:"button",onClick:this.disableEditMode},"Cancel")):I.a.createElement("div",null,I.a.createElement("h3",null,e.name," ",e.restricted&&"restricted",I.a.createElement(Ct,{type:"button",onClick:this.enableEditMode},"Edit"),I.a.createElement(Ct,{type:"button",onClick:this.toggleSources},r?"Hide Sources":"Show Sources")),I.a.createElement(fa,null,I.a.createElement(Dt,null,e.id)),r&&I.a.createElement(pa,{collectionId:e.id}))}}],[{key:"getDerivedStateFromProps",value:function(e,n){return n.prevCollectionName===e.collection.name?null:{collectionName:e.collection.name,prevCollectionName:e.collection.name,restricted:!!e.collection.restricted}}}]),n}(E.Component);ga.propTypes={collection:L.a.shape({id:L.a.string,name:L.a.string,restricted:L.a.bool}).isRequired,updateCollection:L.a.func.isRequired};var ya=Object(C.graphql)(Na,{name:"updateCollection"})(ga);function ba(){var e=q()(["\n  margin: 0.5em 0;\n"]);return ba=function(){return e},e}var ha=Q.a.div(ba()),Sa=function(e){function n(){var e,t;c()(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return t=p()(this,(e=f()(n)).call.apply(e,[this].concat(i))),S()(g()(t),"state",{collectionName:"",restricted:!1}),S()(g()(t),"handleInputChange",function(e){e.preventDefault(),t.setState({collectionName:e.target.value})}),S()(g()(t),"handleCheckboxChange",function(){var e=t.state.restricted;t.setState({restricted:!e})}),S()(g()(t),"handleSubmit",function(){var e=t.props.onSubmit,n=t.state;e(n.collectionName,n.restricted)}),t}return b()(n,e),m()(n,[{key:"render",value:function(){var e=this.state,n=e.collectionName,t=e.restricted,a=this.props.onCancel;return I.a.createElement("form",null,I.a.createElement(Tt,null,I.a.createElement("h4",null,"New Collection"),I.a.createElement(ha,null,"Collection Name:"," ",I.a.createElement("input",{type:"text",name:"collectionName",value:n,onChange:this.handleInputChange})),I.a.createElement(ha,null,"Restricted?",I.a.createElement("input",{type:"checkbox",checked:t,onChange:this.handleCheckboxChange})),I.a.createElement(ha,null,I.a.createElement("button",{type:"button",onClick:this.handleSubmit},"Create Collection"),I.a.createElement("button",{type:"button",onClick:a},"Cancel"))))}}]),n}(E.Component),Ea=function(e){var n={};return e.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!n[t]&&(n[t]=!0,!0)})},Ia={kind:"Document",definitions:Ea([{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"USER_CLASS_COLLECTION"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"UserClass"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"collection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionParts"},directives:[]}]}}]}}]}}].concat(gt)),loc:{start:0,end:155,source:{body:"\n  query USER_CLASS_COLLECTION($id: ID) {\n    UserClass(id: $id) {\n      id\n      name\n      collection {\n        ...CollectionParts\n      }\n    }\n  }\n\n  \n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Ca={kind:"Document",definitions:Ea([{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ADD_COLLECTION"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"restricted"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userClassId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"AddCollection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"collectionId"},value:{kind:"Variable",name:{kind:"Name",value:"collectionId"}}},{kind:"Argument",name:{kind:"Name",value:"collectionName"},value:{kind:"Variable",name:{kind:"Name",value:"collectionName"}}},{kind:"Argument",name:{kind:"Name",value:"restricted"},value:{kind:"Variable",name:{kind:"Name",value:"restricted"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionParts"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"AddUserClassCollection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"userclassid"},value:{kind:"Variable",name:{kind:"Name",value:"userClassId"}}},{kind:"Argument",name:{kind:"Name",value:"collectionid"},value:{kind:"Variable",name:{kind:"Name",value:"collectionId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"collection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionParts"},directives:[]}]}}]}}]}}].concat(gt)),loc:{start:0,end:485,source:{body:"\n  mutation ADD_COLLECTION(\n    $collectionId: ID!\n    $collectionName: String!\n    $restricted: Boolean!\n    $userClassId: ID!\n  ) {\n    AddCollection(\n      collectionId: $collectionId\n      collectionName: $collectionName\n      restricted: $restricted\n    ) {\n      ...CollectionParts\n    }\n\n    AddUserClassCollection(\n      userclassid: $userClassId\n      collectionid: $collectionId\n    ) {\n      id\n      name\n      collection {\n        ...CollectionParts\n      }\n    }\n  }\n\n  \n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Ta=function(e){function n(){var e,t;c()(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return t=p()(this,(e=f()(n)).call.apply(e,[this].concat(i))),S()(g()(t),"state",{isCollectionFormVisible:!1,isSubmitting:!1}),S()(g()(t),"showCollectionForm",function(){return t.setState({isCollectionFormVisible:!0})}),S()(g()(t),"hideCollectionForm",function(){return t.setState({isCollectionFormVisible:!1})}),S()(g()(t),"handleCreateCollection",function(){var e=d()(o.a.mark(function e(n,a){var i,r,l,d;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.props,r=i.addCollection,l=i.userClassId,t.setState({isSubmitting:!0}),t.hideCollectionForm(),d=Object(ue.v4)(),e.next=6,r({variables:{collectionId:d,collectionName:n,restricted:a,userClassId:l}});case 6:t.setState({isSubmitting:!1});case 7:case"end":return e.stop()}},e)}));return function(n,t){return e.apply(this,arguments)}}()),t}return b()(n,e),m()(n,[{key:"render",value:function(){var e=this,n=this.props,t=n.userClassId,a=n.goBack,i=this.state,r=i.isCollectionFormVisible,o=i.isSubmitting;return I.a.createElement(C.Query,{query:Ia,variables:{id:t}},function(n){var i=n.loading,l=n.error,d=n.data;if(i)return"Loading...";if(l)return"Something went wrong.";var u=d.UserClass[0];return I.a.createElement("div",{id:t},I.a.createElement(Ct,{type:"button",onClick:a},"Back to User Class List"),I.a.createElement("h2",null,u.name," Collections",!r&&I.a.createElement(Ct,{type:"button",onClick:e.showCollectionForm},"Add")),r&&I.a.createElement(Sa,{onSubmit:e.handleCreateCollection,onCancel:e.hideCollectionForm}),o&&I.a.createElement("div",null,"Creating new Collection..."),I.a.createElement("ul",null,u.collection.map(function(e){return I.a.createElement("li",{key:e.id},I.a.createElement(ya,{collection:e}))})))})}}]),n}(E.Component),Da=Object(C.graphql)(Ca,{name:"addCollection"})(Ta),Aa=function(e){function n(){var e,t,a;c()(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return a=p()(this,(e=f()(n)).call.apply(e,[this].concat(r))),S()(g()(a),"views",{USER_CLASS_VIEW:"USER_CLASS_VIEW",USER_ACTION_VIEW:"USER_ACTION_VIEW",USER_COLLECTION_VIEW:"USER_COLLECTION_VIEW"}),S()(g()(a),"ViewSelector",(t={},S()(t,a.views.USER_CLASS_VIEW,Gt),S()(t,a.views.USER_ACTION_VIEW,aa),S()(t,a.views.USER_COLLECTION_VIEW,Da),t)),S()(g()(a),"indexView",a.views.USER_CLASS_VIEW),S()(g()(a),"indexProps",a.props),S()(g()(a),"state",{currentView:a.views.USER_CLASS_VIEW,currentProps:a.props,history:[]}),S()(g()(a),"changeView",function(e,n){var t=a.state,i=t.currentView,r=t.currentProps,o=t.history;a.setState({currentView:e,currentProps:n,history:[].concat(He()(o),[{currentView:i,currentProps:r}])})}),S()(g()(a),"goBack",function(){var e=a.state.history;if(!(e.length<1)){var n=He()(e),t=n.pop(),i=t.currentView,r=t.currentProps;a.setState({currentView:i,currentProps:r,history:n})}}),S()(g()(a),"returnToIndex",function(){a.setState({currentView:a.indexView,currentProps:a.props,history:[]})}),a}return b()(n,e),m()(n,[{key:"render",value:function(){var e=this.state,n=e.currentView,t=e.currentProps,a=this.ViewSelector[n];return I.a.createElement(a,i()({},t,{changeView:this.changeView,goBack:this.goBack,returnToIndex:this.returnToIndex,views:this.views}))}}]),n}(E.Component);function wa(){var e=q()(["\n  overflow: scroll;\n  flex: 1;\n  padding: 5px 10px;\n  border: 1px #eeeeee solid;\n"]);return wa=function(){return e},e}function Oa(){var e=q()(["\n  position: absolute;\n  right: 5px;\n  top: 5px;\n  cursor: pointer;\n"]);return Oa=function(){return e},e}function xa(){var e=q()(["\n  position: relative;\n  height: 90%;\n  width: 90%;\n  min-width: 640px;\n  max-width: 960px;\n  background-color: rgb(255, 255, 255, 1);\n  padding: 1em;\n  display: flex;\n  flex-direction: column;\n"]);return xa=function(){return e},e}var Va={kind:"Document",definitions:function(e){var n={};return e.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!n[t]&&(n[t]=!0,!0)})}([{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PLATFORM_QUERY"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"Platform"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"classes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"UserClassParts"},directives:[]}]}}]}}]}}].concat(Nt.definitions)),loc:{start:0,end:144,source:{body:"\n  query PLATFORM_QUERY($id: ID!) {\n    Platform(id: $id) {\n      id\n      name\n      classes {\n        ...UserClassParts\n      }\n    }\n  }\n\n  \n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Fa=Q.a.div(xa()),_a=Q.a.button(Oa()),Ra=Q.a.div(wa()),Ua=function(e){function n(e){var t;return c()(this,n),t=p()(this,f()(n).call(this,e)),S()(g()(t),"state",{}),S()(g()(t),"handleClickOutside",function(e){var n=t.props.onHide;t.wrapperRef&&!t.wrapperRef.current.contains(e.target)&&n()}),t.wrapperRef=I.a.createRef(),t}return b()(n,e),m()(n,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"render",value:function(){var e=this.props,n=e.onHide,t=e.platformId;return I.a.createElement(It,null,I.a.createElement(Fa,{ref:this.wrapperRef},I.a.createElement(_a,{type:"button",onClick:function(){return n()}},"X"),I.a.createElement("h1",null,"no-stack console"),I.a.createElement(Ra,null,I.a.createElement(C.Query,{query:Va,variables:{id:t}},function(e){var n=e.loading,t=e.error,a=e.data;return n?"Loading...":t?"Something went wrong.":a&&a.Platform?I.a.createElement(Aa,{platformData:a.Platform[0]}):"Failed to retrieve platform data."}))))}}]),n}(E.Component);Ua.propTypes={onHide:L.a.func,platformId:L.a.string.isRequired},Ua.defaultProps={onHide:function(){}};var $a=Ua;function Pa(){var e=q()(["\n  position: fixed;\n  z-index: 999999;\n  ",": 1em;\n  bottom: 1em;\n  opacity: 0.4;\n  cursor: pointer;\n\n  &:hover {\n    opacity: 1;\n  }\n"]);return Pa=function(){return e},e}var La=Q.a.button(Pa(),function(e){return e.position}),ja=function(e){function n(){var e,t;c()(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return t=p()(this,(e=f()(n)).call.apply(e,[this].concat(i))),S()(g()(t),"state",{showConsole:!1}),S()(g()(t),"handleButtonClick",function(e){e.preventDefault(),t.setState({showConsole:!0})}),S()(g()(t),"handleHideConsole",function(){t.setState({showConsole:!1})}),t}return b()(n,e),m()(n,[{key:"render",value:function(){var e=this,n=this.state.showConsole,t=this.props.position;return I.a.createElement(_,null,function(a){var i=a.currentUser,r=a.platformId;return i&&i.role&&"MODERATOR"===i.role?n?I.a.createElement($a,{platformId:r,onHide:e.handleHideConsole}):I.a.createElement(La,{position:t,type:"button",onClick:e.handleButtonClick},"< >"):null})}}]),n}(E.Component);function qa(){var e=q()(["\n  margin: 0.5em;\n  padding: 0.5em;\n  text-align: center;\n\n  input {\n    margin: 0 0.5em;\n  }\n"]);return qa=function(){return e},e}function Ma(){var e=q()(["\n  max-width: 300px;\n  min-width: 200px;\n\n  padding: 1em 0;\n\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  border-radius: 10px 10px 10px 10px;\n  -moz-border-radius: 10px 10px 10px 10px;\n  -webkit-border-radius: 10px 10px 10px 10px;\n  -webkit-box-shadow: 10px 10px 8px -1px rgba(0, 0, 0, 0.6);\n  -moz-box-shadow: 10px 10px 8px -1px rgba(0, 0, 0, 0.6);\n  box-shadow: 10px 10px 8px -1px rgba(0, 0, 0, 0.6);\n"]);return Ma=function(){return e},e}ja.propTypes={position:L.a.oneOf(["left","right"])},ja.defaultProps={position:"left"};var Qa=Q.a.div(Ma()),Ga=Q.a.div(qa()),Ba=function(e){function n(){var e,t;c()(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return t=p()(this,(e=f()(n)).call.apply(e,[this].concat(i))),S()(g()(t),"state",{username:"",password:"",isSubmitting:!1}),S()(g()(t),"handleInputChange",function(e){e.preventDefault(),t.setState(S()({},e.target.name,e.target.value))}),S()(g()(t),"handleSubmit",function(){var e=d()(o.a.mark(function e(n){var a,i,r,l;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.state,i=a.username,r=a.password,l=t.props.login,n.preventDefault(),t.setState({isSubmitting:!0}),e.prev=4,e.next=7,l({username:i,password:r});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),t.setState({isSubmitting:!1,error:e.t0.message||e.t0.graphQLErrors});case 12:case"end":return e.stop()}},e,null,[[4,9]])}));return function(n){return e.apply(this,arguments)}}()),t}return b()(n,e),m()(n,[{key:"render",value:function(){var e=this.props,n=e.loading,t=e.currentUser,a=e.submitButtonText,i=this.state,r=i.username,o=i.password,l=i.isSubmitting,d=i.error;return n||t?null:I.a.createElement(Qa,null,I.a.createElement("form",{onSubmit:this.handleSubmit},I.a.createElement(Ga,null,I.a.createElement("label",{htmlFor:"nostack-username"},"Username:",I.a.createElement("input",{id:"nostack-username",type:"text",name:"username",disabled:l,value:r,onChange:this.handleInputChange}))),I.a.createElement(Ga,null,I.a.createElement("label",{htmlFor:"nostack-password"},"Password:",I.a.createElement("input",{id:"nostack-password",type:"password",name:"password",disabled:l,value:o,onChange:this.handleInputChange}))),I.a.createElement(Ga,null,I.a.createElement("button",{type:"submit",disabled:l||!r||!o},a)),d&&I.a.createElement(Ga,null,d)))}}]),n}(E.Component);Ba.propTypes={loading:L.a.bool.isRequired,currentUser:L.a.object,login:L.a.func.isRequired,submitButtonText:L.a.string},Ba.defaultProps={currentUser:null,submitButtonText:"Log In"};var Wa=$(Ba);function Ja(){var e=q()(["\n  cursor: pointer;\n"]);return Ja=function(){return e},e}var Ya=Q.a.button(Ja()),Ha=function(e){var n=e.currentUser,t=e.logout,a=e.buttonText;return n&&I.a.createElement(Ya,{type:"button",onClick:function(){return t()}},a)};Ha.propTypes={currentUser:L.a.object,logout:L.a.func.isRequired,buttonText:L.a.string},Ha.defaultProps={currentUser:null,buttonText:"Log Out"};var za=$(Ha),Ka=t(23),Xa=t(24),Za=t(25),ei=t(26),ni=t.n(ei),ti={region:"us-west-2",UserPoolId:"us-west-2_m5JX5p7P0",ClientId:"5uaag7pfc565c324v2r8om4tu1",identityPoolId:"us-west-2:415abfa9-619c-4ab5-aa20-c5b9ad1edbc0"},ai="https://api.matchlynx.com/graphql";function ii(e){return function(){return d()(o.a.mark(function e(n){var t,a,i,r,l;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object(Za.createApolloFetch)({uri:ai}),a=localStorage.getItem("refreshToken")){e.next=4;break}return e.abrupt("return",null);case 4:return i=JSON.stringify({refreshToken:a,platformId:n}),e.prev=5,e.next=8,t({query:T,variables:{actionId:"96d3be63-53c5-418e-9167-71e3d43271e3",executionParameters:i,unrestricted:!0}});case 8:if((r=e.sent).data&&r.data.ExecuteAction){e.next=11;break}return e.abrupt("return",null);case 11:if((l=JSON.parse(r.data.ExecuteAction)).id&&l.AuthenticationResult&&l.AuthenticationResult.AccessToken){e.next=14;break}return e.abrupt("return",null);case 14:return localStorage.setItem("accessToken",l.AuthenticationResult.AccessToken),e.abrupt("return",l.AuthenticationResult.AccessToken);case 18:return e.prev=18,e.t0=e.catch(5),e.abrupt("return",null);case 21:case"end":return e.stop()}},e,null,[[5,18]])})).apply(this,arguments)}.apply(this,arguments)}var ri=function(e){return Object(Ka.setContext)(function(){var n=d()(o.a.mark(function n(t,a){var i,r,l;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(i=a.headers,r=localStorage.getItem("accessToken")){n.next=4;break}return n.abrupt("return",{headers:i});case 4:if(l=ni.a.decode(r,{complete:!0})){n.next=7;break}return n.abrupt("return",{headers:i});case 7:if(!(Math.ceil(Date.now()/1e3)>=l.payload.exp)){n.next=15;break}return n.next=11,ii(e);case 11:if(r=n.sent){n.next=15;break}return localStorage.clear(),n.abrupt("return",{headers:i});case 15:return n.abrupt("return",{headers:de()({},i,{jwt:r})});case 16:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}())},oi=new Xa.HttpLink({uri:ai});t.d(n,"NoStackConsumer",function(){return _}),t.d(n,"NoStackProvider",function(){return U}),t.d(n,"withNoStack",function(){return $}),t.d(n,"Collection",function(){return Je}),t.d(n,"Source",function(){return Mn}),t.d(n,"SourceTree",function(){return kt}),t.d(n,"Console",function(){return ja}),t.d(n,"LoginForm",function(){return Wa}),t.d(n,"LogoutButton",function(){return za}),t.d(n,"EXECUTE_ACTION",function(){return T}),t.d(n,"CREATE_INSTANCE",function(){return D}),t.d(n,"ASSOCIATE_INSTANCES",function(){return A}),t.d(n,"UPDATE_INSTANCE",function(){return w}),t.d(n,"DELETE_INSTANCE",function(){return O}),t.d(n,"REGISTER_USER",function(){return x}),t.d(n,"createAuthLink",function(){return ri}),t.d(n,"httpLink",function(){return oi}),t.d(n,"AWS_CONFIG",function(){return ti}),t.d(n,"NO_STACK_URI",function(){return ai})}]))},267:function(e,n,t){e.exports=t(560)},449:function(e,n){},451:function(e,n){},488:function(e,n){},489:function(e,n){},549:function(e,n,t){},550:function(e,n,t){},560:function(e,n,t){"use strict";t.r(n);var a=t(2),i=t.n(a),r=t(244),o=t.n(r),l=t(32),d=t(13),u="7e204fa3-2819-4642-951f-813f67f3931a",c="fefb3f2e-7045-45bc-85d3-eb78cfe2de53",s="0d9b4597-1b05-401a-b3e7-184e0509e012",m="abbd918c-4281-4482-b82f-fcce8abfed97",v="58b9bf16-d311-4e0c-b0f0-96c7ea0e53e3",p="collection_platform_TestStack113_collection_user_Collection_source_toDoSource",k=(t(549),t(12)),f=t(19);t(550);function N(){var e=Object(k.a)(["\n  left: 0;\n  top: 0;\n  padding: 1em 3em;\n  font-size: 1rem;\n  color: #fffff0;\n  background-color: #00000f;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]);return N=function(){return e},e}var g=f.a.div(N()),y=function(){return i.a.createElement(g,null,i.a.createElement("div",null,"stackbox todo"),i.a.createElement("div",null,i.a.createElement(d.LogoutButton,null)))},b=t(40),h=t(41),S=t.n(h),E=t(33),I=t.n(E),C=t(42),T=t(49),D=t(100);function A(){var e=Object(k.a)(["\n  margin-left: 1em;\n"]);return A=function(){return e},e}function w(){var e=Object(k.a)(["\n  margin: 2em;\n  padding: 1.5em;\n  border: none;\n  border-radius: 5px;\n  background-color: #F5F5F5;\n"]);return w=function(){return e},e}var O=f.a.div(w()),x=f.a.button(A());var V=Object(l.b)(d.withNoStack,Object(l.c)(d.EXECUTE_ACTION,{name:"createProject"}))(function(e){var n=e.createProject,t=e.currentUser,r=e.onAdd,o=Object(a.useState)(""),l=Object(T.a)(o,2),d=l[0],u=l[1],c=Object(D.v4)(),s="item-name-field-".concat(c);function m(e){return p.apply(this,arguments)}function p(){return(p=Object(C.a)(I.a.mark(function e(a){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),d){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,n({variables:{actionId:v,executionParameters:JSON.stringify({parentInstanceId:t.id,value:d}),unrestricted:!1},update:r()});case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}return i.a.createElement(O,null,i.a.createElement("label",{htmlFor:s},"Project Name:",i.a.createElement("input",{type:"text",onChange:function(e){u(e.target.value)},onKeyPress:function(e){13===e.charCode&&m(e)},value:d})),i.a.createElement(x,{type:"submit",onClick:m},"Create Project"))}),F=t(261);function _(){var e=Object(k.a)(["\n  fragment IsCompletedParts on Instance {\n    id\n    value\n  }\n"]);return _=function(){return e},e}function R(){var e=Object(k.a)(["\n  fragment TodoParts on Instance {\n    id\n    value\n  }\n"]);return R=function(){return e},e}var U=S()(R()),$=S()(_());function P(){var e=Object(k.a)(["\n  margin-left: 1em;\n"]);return P=function(){return e},e}function L(){var e=Object(k.a)(["\n  background-color: #FF6347;\n  font-weight: bold;\n  padding: 1.5em;\n  margin: 1.5em auto;\n  text-decoration: line-through;\n  cursor: pointer;\n  max-width: 200px;\n"]);return L=function(){return e},e}function j(){var e=Object(k.a)(["\n  margin: 2em 1em;\n  padding: 1.5em;\n  border: none;\n  border-radius: 10px;\n  box-shadow: 5px 5px 10px #888888;\n"]);return j=function(){return e},e}var q=f.a.div(j()),M=f.a.div(L()),Q=f.a.button(P());var G=Object(l.c)(d.EXECUTE_ACTION,{name:"updateInstance"})(function(e){var n=e.id,t=e.name,r=e.isCompleted,o=e.updateInstance,l=e.onUpdate,d=Object(a.useState)(t),c=Object(T.a)(d,2),m=c[0],v=c[1];function p(){return k.apply(this,arguments)}function k(){return(k=Object(C.a)(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o({variables:{actionId:u,executionParameters:JSON.stringify({value:m,instanceId:n}),update:l(n,U)}});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function f(e){return N.apply(this,arguments)}function N(){return(N=Object(C.a)(I.a.mark(function e(n){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o({variables:{actionId:s,executionParameters:JSON.stringify({value:n,instanceId:r.id}),unrestricted:!1},optimisticResponse:{ExecuteAction:JSON.stringify({id:r.id,value:n})},update:l(r.id,$)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var g="item-name-".concat(n);return i.a.createElement(q,null,i.a.createElement("div",null,"true"===r.value?i.a.createElement(M,{onClick:function(){return f("false")}},m):i.a.createElement("div",null,i.a.createElement("label",{htmlFor:g},"Item Name:",i.a.createElement("input",{id:g,type:"text",value:m,onChange:function(e){v(e.target.value)},onBlur:p,onKeyDown:function(e){"Enter"===e.key&&p()}}),i.a.createElement(Q,{type:"button",onClick:function(){return f("true")}},"Mark as Done")))))});function B(){var e=Object(k.a)(["\n  margin-left: 1em;\n"]);return B=function(){return e},e}function W(){var e=Object(k.a)(["\n  margin: 2em;\n  padding: 1.5em;\n  border: none;\n  border-radius: 5px;\n  background-color: #F5F5F5;\n"]);return W=function(){return e},e}var J=f.a.div(W()),Y=f.a.button(B());var H=Object(l.b)(Object(l.c)(d.EXECUTE_ACTION,{name:"createItem"}),Object(l.c)(d.EXECUTE_ACTION,{name:"createIsCompleted"}))(function(e){var n=e.projectId,t=e.createItem,r=e.createIsCompleted,o=e.onAdd,l=Object(a.useState)(""),d=Object(T.a)(l,2),u=d[0],s=d[1],v=Object(D.v4)(),p="item-name-field-".concat(v);function k(e){return f.apply(this,arguments)}function f(){return(f=Object(C.a)(I.a.mark(function e(a){var i,l;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),u){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t({variables:{actionId:c,executionParameters:JSON.stringify({parentInstanceId:n,value:u}),unrestricted:!1}});case 5:return i=e.sent,l=JSON.parse(i.data.ExecuteAction),e.next=9,r({variables:{actionId:m,executionParameters:JSON.stringify({parentInstanceId:l.instanceId,value:"false"}),unrestricted:!1},update:function(e,n){var t=JSON.parse(n.data.ExecuteAction),a={instance:{id:l.instanceId,value:l.value,__typename:"Instance"},children:[{instance:{id:t.instanceId,value:t.value,__typename:"Instance"},__typename:"InstanceWithChildren"}],__typename:"InstanceWithChildren"};o(a)(e)}});case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}return i.a.createElement(J,null,i.a.createElement("label",{htmlFor:p},"Item Name:"," ",i.a.createElement("input",{id:p,type:"text",onChange:function(e){s(e.target.value)},onKeyPress:function(e){13===e.charCode&&k(e)},value:u})),i.a.createElement(Y,{type:"submit",onClick:k},"Add Item"))});function z(){var e=Object(k.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-evenly;\n"]);return z=function(){return e},e}function K(){var e=Object(k.a)(["\n  margin: 2em 1em;\n  padding: 1.5em;\n  border: none;\n  border-radius: 10px;\n  box-shadow: 5px 5px 10px #888888;\n"]);return K=function(){return e},e}function X(){var e=Object(k.a)(["\n  query SOURCE(\n    $id: ID!\n    $typeHierarchy: String!\n    $unrestricted: Boolean!\n    $parameters: String\n  ) {\n    sourceData(\n      sourceId: $id\n      typeHierarchy: $typeHierarchy\n      unrestricted: $unrestricted\n      parameters: $parameters\n    ) {\n      instance {\n        ...TodoParts\n      }\n      children {\n        instance {\n          ...IsCompletedParts\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n"]);return X=function(){return e},e}var Z=S()(X(),U,$),ee=f.a.div(K()),ne=f.a.div(z()),te=Object(b.a)({},"tree_source_collection_platform_TestStack113_collection_user_Collection_source_toDoSource_tree_toDoSource_Tree_type_toDo",Object(b.a)({},"tree_source_collection_platform_TestStack113_collection_user_Collection_source_toDoSource_tree_toDoSource_Tree_type_isCompleted",null)),ae=!1;var ie=function(e){var n=e.project,t=(e.onItemDelete,{currentProjectId:n.id});return i.a.createElement(ee,null,i.a.createElement("h3",null,n.value),i.a.createElement(d.Source,{id:p,typeHierarchy:te,query:Z,unrestricted:ae,parameters:t},function(e){var t=e.loading,a=e.error,r=e.data,o=e.updateSourceAfterCreateAction,l=e.updateSourceAfterUpdateAction;if(t)return"Loading...";if(a)return"Error: ".concat(a.graphQLErrors);var d=r.sourceData.map(function(e){return Object(F.a)({},e.instance,{isCompleted:e.children[0].instance})});return i.a.createElement(i.a.Fragment,null,i.a.createElement(H,{projectId:n.id,onAdd:o}),i.a.createElement(ne,null,d.map(function(e){return i.a.createElement(G,{key:e.id,id:e.id,name:e.value,isCompleted:e.isCompleted,onUpdate:l})})))}))};function re(){var e=Object(k.a)(["\n  query SOURCE(\n    $id: ID!\n    $typeHierarchy: String!\n    $unrestricted: Boolean!\n    $parameters: String\n  ) {\n    sourceData(\n      sourceId: $id\n      typeHierarchy: $typeHierarchy\n      unrestricted: $unrestricted\n      parameters: $parameters\n    ) {\n      instance {\n        id\n        value\n      }\n    }\n  }\n"]);return re=function(){return e},e}var oe=S()(re()),le=Object(b.a)({},"tree_source_collection_platform_TestStack113_collection_user_Collection_source_projectSource_tree_projectSource_Tree_type_project",null),de={},ue=function(){return i.a.createElement(d.Source,{id:"collection_platform_TestStack113_collection_user_Collection_source_projectSource",typeHierarchy:le,query:oe,unrestricted:!1,parameters:de},function(e){var n=e.loading,t=e.error,a=e.data,r=e.updateSourceAfterCreateAction;if(n)return"Loading...";if(t)return"Error: ".concat(t.graphQLErrors);var o=a.sourceData.map(function(e){return e.instance});return i.a.createElement(i.a.Fragment,null,i.a.createElement(V,{onAdd:r}),o&&o.map(function(e){return i.a.createElement(ie,{key:e.id,project:e})}))})};function ce(){var e=Object(k.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  div {\n    margin: 0.5em;\n  }\n"]);return ce=function(){return e},e}function se(){var e=Object(k.a)(["\n  padding: 5em 5em;\n  min-width: 480px;\n"]);return se=function(){return e},e}var me=f.a.div(se()),ve=f.a.div(ce()),pe=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(y,null),i.a.createElement(me,{className:"App"},i.a.createElement(d.NoStackConsumer,null,function(e){var n=e.loading,t=e.currentUser;return n?null:t?i.a.createElement(ue,null):i.a.createElement(ve,null,i.a.createElement("div",null,"Please Log In"),i.a.createElement("div",null,i.a.createElement(d.LoginForm,null)))})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ke=t(50),fe=t(43),Ne=t(262),ge=Object(d.createAuthLink)("us-west-2_yaRqTdbKu"),ye=fe.a.from([ge,d.httpLink]),be=new ke.a({link:ye,cache:new Ne.a({dataIdFromObject:function(e){return e.id}})});o.a.render(i.a.createElement(l.a,{client:be},i.a.createElement(d.NoStackProvider,{client:be,platformId:"us-west-2_yaRqTdbKu"},i.a.createElement(pe,null),i.a.createElement(d.Console,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[267,1,2]]]);
//# sourceMappingURL=main.45c465ff.chunk.js.map