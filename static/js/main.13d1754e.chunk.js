(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{239:function(e,n,t){e.exports=t(514)},412:function(e,n){},414:function(e,n){},453:function(e,n){},454:function(e,n){},510:function(e,n,t){},511:function(e,n,t){},514:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(225),c=t.n(o),u=t(18),i=t(8),l="7fe40fc7-c50f-49f5-917c-289d92f2e93f",d="cfc49edd-e9aa-4dbc-88f6-5601279e537c",s="2e22b9ed-94a5-4759-bd55-543b6b01763b",p="b1fdafd1-38c0-4b75-844b-86dae8ade91d",f="7501f223-b88c-404b-96bc-6e02592df114",m="9bbf029e-fd5b-427c-b2b2-869b8d9c794c",b="collection_platform_TestStack154_collection_user_Collection_source_toDoSource",v=(t(510),t(7)),E=t(9);t(511);function h(){var e=Object(v.a)(["\n  left: 0;\n  top: 0;\n  padding: 1em 3em;\n  font-size: 1rem;\n  color: #fffff0;\n  background-color: #00000f;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]);return h=function(){return e},e}var j=E.default.div(h()),g=function(){return a.a.createElement(j,null,a.a.createElement("div",null,"stackbox todo"),a.a.createElement("div",null,a.a.createElement(i.LogoutButton,null)))},_=t(20),O=t.n(_),y=t(28),C=t(26);function I(){var e=Object(v.a)(["\n  margin-left: 1em;\n"]);return I=function(){return e},e}function x(){var e=Object(v.a)(["\n  margin: 2em;\n  padding: 1.5em;\n  border: none;\n  border-radius: 5px;\n  background-color: #F5F5F5;\n"]);return x=function(){return e},e}var S=E.default.div(x()),k=E.default.button(I());var w=Object(u.compose)(i.withNoStack,Object(u.graphql)(i.EXECUTE_ACTION,{name:"createProject"}))(function(e){var n=e.createProject,t=e.currentUser,o=e.onAdd,c=Object(r.useState)(""),u=Object(C.a)(c,2),i=u[0],l=u[1];function d(e){return s.apply(this,arguments)}function s(){return(s=Object(y.a)(O.a.mark(function e(r){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),i){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,n({variables:{actionId:m,executionParameters:JSON.stringify({parentInstanceId:t.id,value:i}),unrestricted:!1},update:o()});case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}return a.a.createElement(S,null,a.a.createElement("label",{htmlFor:"project-name"},"Project Name:",a.a.createElement("input",{id:"project-name",type:"text",onChange:function(e){l(e.target.value)},onKeyPress:function(e){13===e.charCode&&d(e)},value:i})),a.a.createElement(k,{type:"submit",onClick:d},"Create Project"))}),P=t(32),F=t.n(P);function T(){var e=Object(v.a)(["\n  fragment IsCompletedParts on Instance {\n    id\n    value\n  }\n"]);return T=function(){return e},e}function A(){var e=Object(v.a)(["\n  fragment TodoParts on Instance {\n    id\n    value\n  }\n"]);return A=function(){return e},e}function N(){var e=Object(v.a)(["\n  fragment ProjectParts on Instance {\n    id\n    value\n  }\n"]);return N=function(){return e},e}var D=F()(N()),U=F()(A()),$=F()(T()),J=t(235);function R(){var e=Object(v.a)(["\n  margin-left: 1.5em;\n  display: inline-block;\n  border: 1px solid #eeeeee;\n  padding: 0.5em;\n"]);return R=function(){return e},e}var q=E.default.span(R());var L=function(e){var n=e.isCompleted,t=e.label,r=e.onChange,o=e.disabled,c=void 0!==o&&o;return a.a.createElement(q,null,a.a.createElement("label",{htmlFor:n.id},t,a.a.createElement("input",{id:n.id,type:"checkbox",checked:"true"===n.value,onChange:r,disabled:c})))};function X(){var e=Object(v.a)(["\n  background: none;\n  border: none;\n  cursor: pointer;\n  font-size: 1.25rem;\n  padding: 0;\n  color: #bbbbbb;\n  transition: color 0.5s ease;\n\n  &:hover {\n    color: ",";\n  }\n"]);return X=function(){return e},e}function W(){var e=Object(v.a)(["\n  margin: 2em 1em;\n  padding: 1.5em;\n  border: none;\n  border-radius: 10px;\n  box-shadow: 5px 5px 10px #888888;\n"]);return W=function(){return e},e}var Y=E.default.div(W()),z=E.default.button(X(),function(e){return e.hoverColor||"#000000"});var B=Object(u.graphql)(i.EXECUTE_ACTION,{name:"updateInstance"})(function(e){var n=e.todo,t=e.isCompleted,o=e.updateInstance,c=e.onUpdate,u=Object(r.useState)(n.value),i=Object(C.a)(u,2),d=i[0],s=i[1],f=Object(r.useState)(!1),m=Object(C.a)(f,2),b=m[0],v=m[1],E=Object(r.useState)(!1),h=Object(C.a)(E,2),j=h[0],g=h[1];function _(){return(_=Object(y.a)(O.a.mark(function e(){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,o({variables:{actionId:l,executionParameters:JSON.stringify({value:d,instanceId:n.id}),update:c(n.id,U)}});case 3:v(!1),g(!1);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function I(){return(I=Object(y.a)(O.a.mark(function e(){var n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="true"===t.value?"false":"true",e.next=3,o({variables:{actionId:p,executionParameters:JSON.stringify({value:n,instanceId:t.id}),unrestricted:!1},optimisticResponse:{ExecuteAction:JSON.stringify({id:t.id,value:n})},update:c(t.id,$)});case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}return a.a.createElement(Y,null,b?a.a.createElement(a.a.Fragment,null,a.a.createElement("label",{htmlFor:n.id},"Todo Value:",a.a.createElement("input",{id:n.id,type:"text",value:d,onChange:function(e){s(e.target.value)},disabled:j})),a.a.createElement(z,{type:"button",hoverColor:"#00FF00",onClick:function(){return _.apply(this,arguments)},disabled:j},"\u2713"),a.a.createElement(z,{type:"button",hoverColor:"#FF0000",onClick:function(){return v(!1)},disabled:j},"\u2715")):a.a.createElement(a.a.Fragment,null,d,a.a.createElement(z,{type:"button",onClick:function(){return v(!0)}},"\u270e"),a.a.createElement(L,{isCompleted:t,label:"Done?",onChange:function(){return I.apply(this,arguments)}})))});function V(){var e=Object(v.a)(["\n  margin-left: 1em;\n"]);return V=function(){return e},e}function G(){var e=Object(v.a)(["\n  margin: 2em;\n  padding: 1.5em;\n  border: none;\n  border-radius: 5px;\n  background-color: #F5F5F5;\n"]);return G=function(){return e},e}var K=E.default.div(G()),Q=E.default.button(V());var H=Object(u.compose)(Object(u.graphql)(i.EXECUTE_ACTION,{name:"createTodo"}),Object(u.graphql)(i.EXECUTE_ACTION,{name:"createIsCompleted"}))(function(e){var n=e.projectId,t=e.createTodo,o=e.createIsCompleted,c=e.onAdd,u=Object(r.useState)(""),i=Object(C.a)(u,2),l=i[0],d=i[1];function p(e){return m.apply(this,arguments)}function m(){return(m=Object(y.a)(O.a.mark(function e(r){var a,u;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),l){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t({variables:{actionId:s,executionParameters:JSON.stringify({parentInstanceId:n,value:l}),unrestricted:!1}});case 5:return a=e.sent,u=JSON.parse(a.data.ExecuteAction),e.next=9,o({variables:{actionId:f,executionParameters:JSON.stringify({parentInstanceId:u.instanceId,value:"false"}),unrestricted:!1},update:function(e,n){var t=JSON.parse(n.data.ExecuteAction),r={instance:{id:u.instanceId,value:u.value,__typename:"Instance"},children:[{instance:{id:t.instanceId,value:t.value,__typename:"Instance"},__typename:"InstanceWithChildren"}],__typename:"InstanceWithChildren"};c(r)(e)}});case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}return a.a.createElement(K,null,a.a.createElement("label",{htmlFor:"todo-name"},"Todo Value:",a.a.createElement("input",{id:"todo-name",type:"text",onChange:function(e){d(e.target.value)},onKeyPress:function(e){13===e.charCode&&p(e)},value:l})),a.a.createElement(Q,{type:"submit",onClick:p},"Add Todo"))}),M=t(37);function Z(){var e=Object(v.a)(["\n  query SOURCE(\n    $id: ID!\n    $typeRelationships: String!\n    $parameters: String\n  ) {\n    sourceData(\n      sourceId: $id\n      typeRelationships: $typeRelationships\n      parameters: $parameters\n    ) {\n      instance {\n        ...TodoParts\n      }\n      children {\n        instance {\n          ...IsCompletedParts\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n"]);return Z=function(){return e},e}var ee=F()(Z(),U,$),ne=Object(M.a)({},"tree_source_collection_platform_TestStack154_collection_user_Collection_source_toDoSource_tree_toDoSource_Tree_type_toDo",Object(M.a)({},"tree_source_collection_platform_TestStack154_collection_user_Collection_source_toDoSource_tree_toDoSource_Tree_type_isCompleted",null));function te(){var e=Object(v.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-evenly;\n"]);return te=function(){return e},e}var re=E.default.div(te());var ae=function(e){var n=e.projectId,t={currentProjectId:n};return a.a.createElement(i.Source,{id:b,query:ee,typeRelationships:ne,parameters:t},function(e){var t=e.loading,r=e.error,o=e.data,c=e.updateSourceAfterCreateAction,u=e.updateSourceAfterUpdateAction;if(t)return"Loading...";if(r)return"Error: ".concat(r.graphQLErrors);var i=o.sourceData.map(function(e){return Object(J.a)({},e.instance,{isCompleted:e.children[0].instance})});return a.a.createElement(a.a.Fragment,null,a.a.createElement(H,{projectId:n,onAdd:c}),a.a.createElement(re,null,i&&i.map(function(e){return a.a.createElement(B,{key:e.id,todo:e,isCompleted:e.isCompleted,onUpdate:u})})))})};function oe(){var e=Object(v.a)(["\n  background: none;\n  border: none;\n  cursor: pointer;\n  font-size: 1.25rem;\n  padding: 0;\n  color: #bbbbbb;\n  transition: color 0.5s ease;\n\n  &:hover {\n    color: ",";\n  }\n"]);return oe=function(){return e},e}function ce(){var e=Object(v.a)(["\n  margin: 1em 0;\n"]);return ce=function(){return e},e}function ue(){var e=Object(v.a)(["\n  margin: 2em 1em;\n  padding: 1.5em;\n  border: none;\n  border-radius: 10px;\n  box-shadow: 5px 5px 10px #888888;\n"]);return ue=function(){return e},e}var ie=E.default.div(ue()),le=E.default.div(ce()),de=E.default.button(oe(),function(e){return e.hoverColor||"#000000"});var se=Object(u.graphql)(i.EXECUTE_ACTION,{name:"updateInstance"})(function(e){var n=e.project,t=e.updateInstance,o=e.onUpdate,c=Object(r.useState)(n.value),u=Object(C.a)(c,2),i=u[0],l=u[1],s=Object(r.useState)(!1),p=Object(C.a)(s,2),f=p[0],m=p[1],b=Object(r.useState)(!1),v=Object(C.a)(b,2),E=v[0],h=v[1];function j(){return(j=Object(y.a)(O.a.mark(function e(){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,t({variables:{actionId:d,executionParameters:JSON.stringify({value:i,instanceId:n.id})},update:o(n.id,D)});case 3:m(!1),h(!1);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}return a.a.createElement(ie,null,f?a.a.createElement(le,null,a.a.createElement("label",{htmlFor:n.id},"Project Value:",a.a.createElement("input",{id:n.id,type:"text",value:i,onChange:function(e){l(e.target.value)},disabled:E})),a.a.createElement(de,{type:"button",hoverColor:"#00FF00",onClick:function(){return j.apply(this,arguments)},disabled:E},"\u2713"),a.a.createElement(de,{type:"button",hoverColor:"#FF0000",onClick:function(){return m(!1)},disabled:E},"\u2715")):a.a.createElement("h3",null,n.value,a.a.createElement(de,{type:"button",onClick:function(){return m(!0)}},"\u270e")),a.a.createElement(ae,{projectId:n.id}))});function pe(){var e=Object(v.a)(["\n  query SOURCE(\n    $id: ID!\n    $typeRelationships: String!\n    $parameters: String\n  ) {\n    sourceData(\n      sourceId: $id\n      typeRelationships: $typeRelationships\n      parameters: $parameters\n    ) {\n      instance {\n        ...ProjectParts\n      }\n    }\n  }\n\n  ","\n"]);return pe=function(){return e},e}var fe=F()(pe(),D),me=Object(M.a)({},"tree_source_collection_platform_TestStack154_collection_user_Collection_source_projectSource_tree_projectSource_Tree_type_project",null);function be(){var e=Object(v.a)(["\n  input {\n    margin: 0 0.5em;\n  }\n\n  button {\n    margin: 0 0.5em;\n  }\n"]);return be=function(){return e},e}var ve=E.default.div(be()),Ee={},he=function(){return a.a.createElement(i.Source,{id:"collection_platform_TestStack154_collection_user_Collection_source_projectSource",typeRelationships:me,query:fe,parameters:Ee},function(e){var n=e.loading,t=e.error,r=e.data,o=e.updateSourceAfterCreateAction,c=e.updateSourceAfterUpdateAction;if(n)return"Loading...";if(t)return"Error: ".concat(t.graphQLErrors);var u=r.sourceData.map(function(e){return e.instance});return a.a.createElement(ve,null,a.a.createElement(w,{onAdd:o}),u&&u.map(function(e){return a.a.createElement(se,{key:e.id,project:e,onUpdate:c})}))})};function je(){var e=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  div {\n    margin: 0.5em;\n  }\n"]);return je=function(){return e},e}function ge(){var e=Object(v.a)(["\n  padding: 5em 5em;\n  min-width: 480px;\n"]);return ge=function(){return e},e}var _e=E.default.div(ge()),Oe=E.default.div(je()),ye=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(g,null),a.a.createElement(_e,{className:"App"},a.a.createElement(i.NoStackConsumer,null,function(e){var n=e.loading,t=e.currentUser;return n?null:t?a.a.createElement(he,null):a.a.createElement(Oe,null,a.a.createElement("div",null,"Please Log In"),a.a.createElement("div",null,a.a.createElement(i.LoginForm,null)))})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ce=t(42),Ie=t(19),xe=t(236),Se=Object(i.createAuthLink)("us-west-2_a3XGYPPYI"),ke=Ie.a.from([Se,i.httpLink]),we=new Ce.a({link:ke,cache:new xe.a({dataIdFromObject:function(e){return e.id}})});c.a.render(a.a.createElement(u.ApolloProvider,{client:we},a.a.createElement(i.NoStackProvider,{client:we,platformId:"us-west-2_a3XGYPPYI"},a.a.createElement(ye,null),a.a.createElement(i.Console,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[239,1,2]]]);
//# sourceMappingURL=main.13d1754e.chunk.js.map