(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{239:function(e,n,t){e.exports=t(515)},411:function(e,n){},413:function(e,n){},450:function(e,n){},451:function(e,n){},511:function(e,n,t){},512:function(e,n,t){},515:function(e,n,t){"use strict";t.r(n);var r=t(1),a=t.n(r),c=t(224),o=t.n(c),u=t(24),i=t(8),l="7e204fa3-2819-4642-951f-813f67f3931a",d="fefb3f2e-7045-45bc-85d3-eb78cfe2de53",s="0d9b4597-1b05-401a-b3e7-184e0509e012",m="abbd918c-4281-4482-b82f-fcce8abfed97",f="58b9bf16-d311-4e0c-b0f0-96c7ea0e53e3",p="collection_platform_TestStack113_collection_user_Collection_source_toDoSource",v=(t(511),t(7)),b=t(12);t(512);function g(){var e=Object(v.a)(["\n  left: 0;\n  top: 0;\n  padding: 1em 3em;\n  font-size: 1rem;\n  color: #fffff0;\n  background-color: #00000f;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]);return g=function(){return e},e}var E=b.default.div(g()),_=function(){return a.a.createElement(E,null,a.a.createElement("div",null,"stackbox todo"),a.a.createElement("div",null,a.a.createElement(i.LogoutButton,null)))},y=t(33),h=t(34),j=t.n(h),O=t(25),I=t.n(O),x=t(35),S=t(40),w=t(55);function C(){var e=Object(v.a)(["\n  margin-left: 1em;\n"]);return C=function(){return e},e}function k(){var e=Object(v.a)(["\n  margin: 2em;\n  padding: 1.5em;\n  border: none;\n  border-radius: 5px;\n  background-color: #F5F5F5;\n"]);return k=function(){return e},e}var A=b.default.div(k()),N=b.default.button(C());var T=Object(u.compose)(i.withNoStack,Object(u.graphql)(i.EXECUTE_ACTION,{name:"createProject"}))(function(e){var n=e.createProject,t=e.currentUser,c=e.onAdd,o=Object(r.useState)(""),u=Object(S.a)(o,2),i=u[0],l=u[1],d=Object(w.v4)(),s="item-name-field-".concat(d);function m(e){return p.apply(this,arguments)}function p(){return(p=Object(x.a)(I.a.mark(function e(r){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),i){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,n({variables:{actionId:f,executionParameters:JSON.stringify({parentInstanceId:t.id,value:i}),unrestricted:!1},update:c});case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}return a.a.createElement(A,null,a.a.createElement("label",{htmlFor:s},"Project Name:",a.a.createElement("input",{type:"text",onChange:function(e){l(e.target.value)},onKeyPress:function(e){13===e.charCode&&m(e)},value:i})),a.a.createElement(N,{type:"submit",onClick:m},"Create Project"))}),P=t(234);function F(){var e=Object(v.a)(["\n  fragment IsCompletedParts on Instance {\n    id\n    value\n  }\n"]);return F=function(){return e},e}function D(){var e=Object(v.a)(["\n  fragment TodoParts on Instance {\n    id\n    value\n  }\n"]);return D=function(){return e},e}var $=j()(D()),J=j()(F());function q(){var e=Object(v.a)(["\n  margin-left: 1em;\n"]);return q=function(){return e},e}function L(){var e=Object(v.a)(["\n  background-color: #FF6347;\n  font-weight: bold;\n  padding: 1.5em;\n  margin: 1.5em auto;\n  text-decoration: line-through;\n  cursor: pointer;\n  max-width: 200px;\n"]);return L=function(){return e},e}function H(){var e=Object(v.a)(["\n  margin: 2em 1em;\n  padding: 1.5em;\n  border: none;\n  border-radius: 10px;\n  box-shadow: 5px 5px 10px #888888;\n"]);return H=function(){return e},e}var U=b.default.div(H()),B=b.default.div(L()),K=b.default.button(q());var R=Object(u.graphql)(i.EXECUTE_ACTION,{name:"updateInstance"})(function(e){var n=e.id,t=e.name,c=e.isCompleted,o=e.updateInstance,u=Object(r.useState)(t),i=Object(S.a)(u,2),d=i[0],m=i[1];function f(){return p.apply(this,arguments)}function p(){return(p=Object(x.a)(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o({variables:{actionId:l,executionParameters:JSON.stringify({value:d,instanceId:n}),update:function(e,t){var r=t.data,a=JSON.parse(r);e.writeFragment({id:n,fragment:$,data:{id:n,value:a.value,__typename:"Instance"}})}}});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function v(e){return b.apply(this,arguments)}function b(){return(b=Object(x.a)(I.a.mark(function e(n){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o({variables:{actionId:s,executionParameters:JSON.stringify({value:n,instanceId:c.id}),unrestricted:!1},optimisticResponse:{ExecuteAction:JSON.stringify({id:c.id,value:n})},update:function(e,n){var t=n.data.ExecuteAction,r=JSON.parse(t);e.writeFragment({id:c.id,fragment:J,data:{id:c.id,value:r.value,__typename:"Instance"}})}});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var g="item-name-".concat(n);return a.a.createElement(U,null,a.a.createElement("div",null,"true"===c.value?a.a.createElement(B,{onClick:function(){return v("false")}},d):a.a.createElement("div",null,a.a.createElement("label",{htmlFor:g},"Item Name:",a.a.createElement("input",{id:g,type:"text",value:d,onChange:function(e){m(e.target.value)},onBlur:f,onKeyDown:function(e){"Enter"===e.key&&f()}}),a.a.createElement(K,{type:"button",onClick:function(){return v("true")}},"Mark as Done")))))});function X(){var e=Object(v.a)(["\n  margin-left: 1em;\n"]);return X=function(){return e},e}function Q(){var e=Object(v.a)(["\n  margin: 2em;\n  padding: 1.5em;\n  border: none;\n  border-radius: 5px;\n  background-color: #F5F5F5;\n"]);return Q=function(){return e},e}var W=b.default.div(Q()),z=b.default.button(X());var M=Object(u.compose)(Object(u.graphql)(i.EXECUTE_ACTION,{name:"createItem"}),Object(u.graphql)(i.EXECUTE_ACTION,{name:"createIsCompleted"}))(function(e){var n=e.projectId,t=e.createItem,c=e.createIsCompleted,o=e.onAdd,u=Object(r.useState)(""),i=Object(S.a)(u,2),l=i[0],s=i[1],f=Object(w.v4)(),p="item-name-field-".concat(f);function v(e){return b.apply(this,arguments)}function b(){return(b=Object(x.a)(I.a.mark(function e(r){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),l){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t({variables:{actionId:d,executionParameters:JSON.stringify({parentInstanceId:n,value:l}),unrestricted:!1},update:function(e,n){var t=JSON.parse(n.data.ExecuteAction);c({variables:{actionId:m,executionParameters:JSON.stringify({parentInstanceId:t.instanceId,value:"false"}),unrestricted:!1},update:function(){o(e,n)}})}});case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}return a.a.createElement(W,null,a.a.createElement("label",{htmlFor:p},"Item Name:"," ",a.a.createElement("input",{id:p,type:"text",onChange:function(e){s(e.target.value)},onKeyPress:function(e){13===e.charCode&&v(e)},value:l})),a.a.createElement(z,{type:"submit",onClick:v},"Add Item"))});function G(){var e=Object(v.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-evenly;\n"]);return G=function(){return e},e}function V(){var e=Object(v.a)(["\n  margin: 2em 1em;\n  padding: 1.5em;\n  border: none;\n  border-radius: 10px;\n  box-shadow: 5px 5px 10px #888888;\n"]);return V=function(){return e},e}function Y(){var e=Object(v.a)(["\n  query SOURCE(\n    $id: ID!\n    $typeHierarchy: String!\n    $unrestricted: Boolean!\n    $parameters: String\n  ) {\n    sourceData(\n      sourceId: $id\n      typeHierarchy: $typeHierarchy\n      unrestricted: $unrestricted\n      parameters: $parameters\n    ) {\n      instance {\n        ...TodoParts\n      }\n      children {\n        instance {\n          ...IsCompletedParts\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n"]);return Y=function(){return e},e}var Z=j()(Y(),$,J),ee=b.default.div(V()),ne=b.default.div(G()),te=Object(y.a)({},"tree_source_collection_platform_TestStack113_collection_user_Collection_source_toDoSource_tree_toDoSource_Tree_type_toDo",Object(y.a)({},"tree_source_collection_platform_TestStack113_collection_user_Collection_source_toDoSource_tree_toDoSource_Tree_type_isCompleted",null)),re=!1;var ae=function(e){var n=e.project,t=(e.onItemDelete,{currentProjectId:n.id});return a.a.createElement(ee,null,a.a.createElement("h3",null,n.value),a.a.createElement(i.Source,{id:p,typeHierarchy:te,query:Z,unrestricted:re,parameters:t},function(e){var t=e.loading,r=e.error,c=e.data,o=e.updateSourceAfterAddAction;if(t)return"Loading...";if(r)return"Error: ".concat(r.graphQLErrors);var u=c.sourceData.map(function(e){return Object(P.a)({},e.instance,{isCompleted:e.children[0].instance})});return a.a.createElement(a.a.Fragment,null,a.a.createElement(M,{projectId:n.id,onAdd:o}),a.a.createElement(ne,null,u.map(function(e){return a.a.createElement(R,{key:e.id,id:e.id,name:e.value,isCompleted:e.isCompleted})})))}))};function ce(){var e=Object(v.a)(["\n  query SOURCE(\n    $id: ID!\n    $typeHierarchy: String!\n    $unrestricted: Boolean!\n    $parameters: String\n  ) {\n    sourceData(\n      sourceId: $id\n      typeHierarchy: $typeHierarchy\n      unrestricted: $unrestricted\n      parameters: $parameters\n    ) {\n      instance {\n        id\n        value\n      }\n    }\n  }\n"]);return ce=function(){return e},e}var oe=j()(ce()),ue=Object(y.a)({},"tree_source_collection_platform_TestStack113_collection_user_Collection_source_projectSource_tree_projectSource_Tree_type_project",null),ie={},le=function(){return a.a.createElement(i.Source,{id:"collection_platform_TestStack113_collection_user_Collection_source_projectSource",typeHierarchy:ue,query:oe,unrestricted:!1,parameters:ie},function(e){var n=e.loading,t=e.error,r=e.data,c=e.updateSourceAfterAddAction;if(n)return"Loading...";if(t)return"Error: ".concat(t.graphQLErrors);var o=r.sourceData.map(function(e){return e.instance});return a.a.createElement(a.a.Fragment,null,a.a.createElement(T,{onAdd:c}),o&&o.map(function(e){return a.a.createElement(ae,{key:e.id,project:e})}))})};function de(){var e=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  div {\n    margin: 0.5em;\n  }\n"]);return de=function(){return e},e}function se(){var e=Object(v.a)(["\n  padding: 5em 5em;\n  min-width: 480px;\n"]);return se=function(){return e},e}var me=b.default.div(se()),fe=b.default.div(de()),pe=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(_,null),a.a.createElement(me,{className:"App"},a.a.createElement(i.NoStackConsumer,null,function(e){var n=e.loading,t=e.currentUser;return n?null:t?a.a.createElement(le,null):a.a.createElement(fe,null,a.a.createElement("div",null,"Please Log In"),a.a.createElement("div",null,a.a.createElement(i.LoginForm,null)))})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ve=t(41),be=t(19),ge=t(235),Ee=Object(i.createAuthLink)("us-west-2_yaRqTdbKu"),_e=be.a.from([Ee,i.httpLink]),ye=new ve.a({link:_e,cache:new ge.a({dataIdFromObject:function(e){return e.id}})});o.a.render(a.a.createElement(u.ApolloProvider,{client:ye},a.a.createElement(i.NoStackProvider,{client:ye,platformId:"us-west-2_yaRqTdbKu"},a.a.createElement(pe,null),a.a.createElement(i.Console,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[239,1,2]]]);
//# sourceMappingURL=main.952f6469.chunk.js.map