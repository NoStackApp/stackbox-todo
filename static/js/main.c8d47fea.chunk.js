(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{238:function(e,n,t){e.exports=t(515)},411:function(e,n){},413:function(e,n){},450:function(e,n){},451:function(e,n){},511:function(e,n,t){},512:function(e,n,t){},515:function(e,n,t){"use strict";t.r(n);var r=t(1),a=t.n(r),c=t(223),o=t.n(c),u=t(24),i=t(8),l="e30485ce-d4f1-4cc4-8a20-5976cbd250b5",d="05982a27-21bc-47f8-b0b5-1401f3931497",s="2da0205b-36d5-41ba-8102-f1c75b7cc6d1",p="abaeb75d-3c2c-4795-9a6e-8322809009d2",m="bc9d9f8f-373a-4406-8217-5d06f39e9371",f="collection_platform_TestStack118_collection_user_Collection_source_toDoSource",v=(t(511),t(7)),b=t(12);t(512);function _(){var e=Object(v.a)(["\n  left: 0;\n  top: 0;\n  padding: 1em 3em;\n  font-size: 1rem;\n  color: #fffff0;\n  background-color: #00000f;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]);return _=function(){return e},e}var E=b.default.div(_()),g=function(){return a.a.createElement(E,null,a.a.createElement("div",null,"stackbox todo"),a.a.createElement("div",null,a.a.createElement(i.LogoutButton,null)))},h=t(25),j=t.n(h),y=t(33),O=t(40);function x(){var e=Object(v.a)(["\n  margin-left: 1em;\n"]);return x=function(){return e},e}function I(){var e=Object(v.a)(["\n  margin: 2em;\n  padding: 1.5em;\n  border: none;\n  border-radius: 5px;\n  background-color: #F5F5F5;\n"]);return I=function(){return e},e}var C=b.default.div(I()),S=b.default.button(x());var k=Object(u.compose)(i.withNoStack,Object(u.graphql)(i.EXECUTE_ACTION,{name:"createProject"}))(function(e){var n=e.createProject,t=e.currentUser,c=e.onAdd,o=Object(r.useState)(""),u=Object(O.a)(o,2),i=u[0],l=u[1];function d(e){return s.apply(this,arguments)}function s(){return(s=Object(y.a)(j.a.mark(function e(r){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),i){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,n({variables:{actionId:m,executionParameters:JSON.stringify({parentInstanceId:t.id,value:i}),unrestricted:!1},update:c()});case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}return a.a.createElement(C,null,a.a.createElement("label",{htmlFor:"project-name"},"Project Name:",a.a.createElement("input",{id:"project-name",type:"text",onChange:function(e){l(e.target.value)},onKeyPress:function(e){13===e.charCode&&d(e)},value:i})),a.a.createElement(S,{type:"submit",onClick:d},"Create Project"))}),w=t(233),A=t(35),T=t.n(A);function N(){var e=Object(v.a)(["\n  fragment IsCompletedParts on Instance {\n    id\n    value\n  }\n"]);return N=function(){return e},e}function P(){var e=Object(v.a)(["\n  fragment TodoParts on Instance {\n    id\n    value\n  }\n"]);return P=function(){return e},e}var D=T()(P()),F=T()(N());function $(){var e=Object(v.a)(["\n  margin-left: 1em;\n"]);return $=function(){return e},e}function J(){var e=Object(v.a)(["\n  background-color: #FF6347;\n  font-weight: bold;\n  padding: 1.5em;\n  margin: 1.5em auto;\n  text-decoration: line-through;\n  cursor: pointer;\n  max-width: 200px;\n"]);return J=function(){return e},e}function R(){var e=Object(v.a)(["\n  margin: 2em 1em;\n  padding: 1.5em;\n  border: none;\n  border-radius: 10px;\n  box-shadow: 5px 5px 10px #888888;\n"]);return R=function(){return e},e}var U=b.default.div(R()),L=b.default.div(J()),q=b.default.button($());var W=Object(u.graphql)(i.EXECUTE_ACTION,{name:"updateInstance"})(function(e){var n=e.id,t=e.name,c=e.isCompleted,o=e.updateInstance,u=e.onUpdate,i=Object(r.useState)(t),d=Object(O.a)(i,2),p=d[0],m=d[1];function f(){return v.apply(this,arguments)}function v(){return(v=Object(y.a)(j.a.mark(function e(){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o({variables:{actionId:l,executionParameters:JSON.stringify({value:p,instanceId:n}),update:u(n,D)}});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function b(e){return _.apply(this,arguments)}function _(){return(_=Object(y.a)(j.a.mark(function e(n){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o({variables:{actionId:s,executionParameters:JSON.stringify({value:n,instanceId:c.id}),unrestricted:!1},optimisticResponse:{ExecuteAction:JSON.stringify({id:c.id,value:n})},update:u(c.id,F)});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var E="todo-name-".concat(n);return a.a.createElement(U,null,a.a.createElement("div",null,"true"===c.value?a.a.createElement(L,{onClick:function(){return b("false")}},p):a.a.createElement("div",null,a.a.createElement("label",{htmlFor:E},"Todo Name:",a.a.createElement("input",{id:E,type:"text",value:p,onChange:function(e){m(e.target.value)},onBlur:f,onKeyDown:function(e){"Enter"===e.key&&f()}}),a.a.createElement(q,{type:"button",onClick:function(){return b("true")}},"Mark as Done")))))});function K(){var e=Object(v.a)(["\n  margin-left: 1em;\n"]);return K=function(){return e},e}function B(){var e=Object(v.a)(["\n  margin: 2em;\n  padding: 1.5em;\n  border: none;\n  border-radius: 5px;\n  background-color: #F5F5F5;\n"]);return B=function(){return e},e}var X=b.default.div(B()),Q=b.default.button(K());var z=Object(u.compose)(Object(u.graphql)(i.EXECUTE_ACTION,{name:"createTodo"}),Object(u.graphql)(i.EXECUTE_ACTION,{name:"createIsCompleted"}))(function(e){var n=e.projectId,t=e.createTodo,c=e.createIsCompleted,o=e.onAdd,u=Object(r.useState)(""),i=Object(O.a)(u,2),l=i[0],s=i[1];function m(e){return f.apply(this,arguments)}function f(){return(f=Object(y.a)(j.a.mark(function e(r){var a,u;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),l){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t({variables:{actionId:d,executionParameters:JSON.stringify({parentInstanceId:n,value:l}),unrestricted:!1}});case 5:return a=e.sent,u=JSON.parse(a.data.ExecuteAction),e.next=9,c({variables:{actionId:p,executionParameters:JSON.stringify({parentInstanceId:u.instanceId,value:"false"}),unrestricted:!1},update:function(e,n){var t=JSON.parse(n.data.ExecuteAction),r={instance:{id:u.instanceId,value:u.value,__typename:"Instance"},children:[{instance:{id:t.instanceId,value:t.value,__typename:"Instance"},__typename:"InstanceWithChildren"}],__typename:"InstanceWithChildren"};o(r)(e)}});case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}return a.a.createElement(X,null,a.a.createElement("label",{htmlFor:"todo-name"},"Todo Name:",a.a.createElement("input",{id:"todo-name",type:"text",onChange:function(e){s(e.target.value)},onKeyPress:function(e){13===e.charCode&&m(e)},value:l})),a.a.createElement(Q,{type:"submit",onClick:m},"Add Todo"))}),M=t(34);function G(){var e=Object(v.a)(["\n  query SOURCE(\n    $id: ID!\n    $typeRelationships: String!\n    $parameters: String\n  ) {\n    sourceData(\n      sourceId: $id\n      typeRelationships: $typeRelationships\n      parameters: $parameters\n    ) {\n      instance {\n        ...TodoParts\n      }\n      children {\n        instance {\n          ...IsCompletedParts\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n"]);return G=function(){return e},e}var H=T()(G(),D,F),V=Object(M.a)({},"tree_source_collection_platform_TestStack118_collection_user_Collection_source_toDoSource_tree_toDoSource_Tree_type_toDo",Object(M.a)({},"tree_source_collection_platform_TestStack118_collection_user_Collection_source_toDoSource_tree_toDoSource_Tree_type_isCompleted",null));function Y(){var e=Object(v.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-evenly;\n"]);return Y=function(){return e},e}function Z(){var e=Object(v.a)(["\n  margin: 2em 1em;\n  padding: 1.5em;\n  border: none;\n  border-radius: 10px;\n  box-shadow: 5px 5px 10px #888888;\n"]);return Z=function(){return e},e}var ee=b.default.div(Z()),ne=b.default.div(Y());var te=function(e){var n=e.project,t={currentProjectId:n.id};return a.a.createElement(ee,null,a.a.createElement("h3",null,n.value),a.a.createElement(i.Source,{id:f,query:H,typeRelationships:V,parameters:t},function(e){var t=e.loading,r=e.error,c=e.data,o=e.updateSourceAfterCreateAction,u=e.updateSourceAfterUpdateAction;if(t)return"Loading...";if(r)return"Error: ".concat(r.graphQLErrors);var i=c.sourceData.map(function(e){return Object(w.a)({},e.instance,{isCompleted:e.children[0].instance})});return a.a.createElement(a.a.Fragment,null,a.a.createElement(z,{projectId:n.id,onAdd:o}),a.a.createElement(ne,null,i.map(function(e){return a.a.createElement(W,{key:e.id,id:e.id,name:e.value,isCompleted:e.isCompleted,onUpdate:u})})))}))};function re(){var e=Object(v.a)(["\n  query SOURCE(\n    $id: ID!\n    $typeRelationships: String!\n    $parameters: String\n  ) {\n    sourceData(\n      sourceId: $id\n      typeRelationships: $typeRelationships\n      parameters: $parameters\n    ) {\n      instance {\n        id\n        value\n      }\n    }\n  }\n"]);return re=function(){return e},e}var ae=T()(re()),ce=Object(M.a)({},"tree_source_collection_platform_TestStack118_collection_user_Collection_source_projectSource_tree_projectSource_Tree_type_project",null),oe={},ue=function(){return a.a.createElement(i.Source,{id:"collection_platform_TestStack118_collection_user_Collection_source_projectSource",typeRelationships:ce,query:ae,parameters:oe},function(e){var n=e.loading,t=e.error,r=e.data,c=e.updateSourceAfterCreateAction;if(n)return"Loading...";if(t)return"Error: ".concat(t.graphQLErrors);var o=r.sourceData.map(function(e){return e.instance});return a.a.createElement(a.a.Fragment,null,a.a.createElement(k,{onAdd:c}),o&&o.map(function(e){return a.a.createElement(te,{key:e.id,project:e})}))})};function ie(){var e=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  div {\n    margin: 0.5em;\n  }\n"]);return ie=function(){return e},e}function le(){var e=Object(v.a)(["\n  padding: 5em 5em;\n  min-width: 480px;\n"]);return le=function(){return e},e}var de=b.default.div(le()),se=b.default.div(ie()),pe=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(g,null),a.a.createElement(de,{className:"App"},a.a.createElement(i.NoStackConsumer,null,function(e){var n=e.loading,t=e.currentUser;return n?null:t?a.a.createElement(ue,null):a.a.createElement(se,null,a.a.createElement("div",null,"Please Log In"),a.a.createElement("div",null,a.a.createElement(i.LoginForm,null)))})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var me=t(41),fe=t(19),ve=t(234),be=Object(i.createAuthLink)("us-west-2_uA9WKJuN2"),_e=fe.a.from([be,i.httpLink]),Ee=new me.a({link:_e,cache:new ve.a({dataIdFromObject:function(e){return e.id}})});o.a.render(a.a.createElement(u.ApolloProvider,{client:Ee},a.a.createElement(i.NoStackProvider,{client:Ee,platformId:"us-west-2_uA9WKJuN2"},a.a.createElement(pe,null),a.a.createElement(i.Console,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[238,1,2]]]);
//# sourceMappingURL=main.c8d47fea.chunk.js.map