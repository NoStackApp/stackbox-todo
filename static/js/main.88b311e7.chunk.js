(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{257:function(e,n,t){e.exports=t(517)},415:function(e,n){},417:function(e,n){},456:function(e,n){},457:function(e,n){},515:function(e,n,t){},516:function(e,n,t){},517:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(240),o=t.n(c),i=t(9),u=t(14),l="7fe40fc7-c50f-49f5-917c-289d92f2e93f",d="cfc49edd-e9aa-4dbc-88f6-5601279e537c",s="2e22b9ed-94a5-4759-bd55-543b6b01763b",p="b1fdafd1-38c0-4b75-844b-86dae8ade91d",m="7501f223-b88c-404b-96bc-6e02592df114",f="9bbf029e-fd5b-427c-b2b2-869b8d9c794c",b="collection_platform_TestStack154_collection_user_Collection_source_toDoSource",v=(t(515),t(13)),j=t(7);t(516);function g(){var e=Object(v.a)(["\n  left: 0;\n  top: 0;\n  padding: 1em 3em;\n  font-size: 1rem;\n  color: #fffff0;\n  background-color: #00000f;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]);return g=function(){return e},e}var h=j.a.div(g()),O=function(){return a.a.createElement(h,null,a.a.createElement("div",null,"stackbox todo"),a.a.createElement("div",null,a.a.createElement(u.d,null)))},_=t(30),E=t.n(_),y=t(39),x=t(31);function I(){var e=Object(v.a)(["\n  margin-left: 1em;\n"]);return I=function(){return e},e}function C(){var e=Object(v.a)(["\n  margin: 2em;\n  padding: 1.5em;\n  border: none;\n  border-radius: 5px;\n  background-color: #F5F5F5;\n"]);return C=function(){return e},e}var S=j.a.div(C()),k=j.a.button(I());var w=Object(i.c)(u.j,Object(i.d)(u.b,{name:"createProject"}))(function(e){var n=e.createProject,t=e.currentUser,c=e.onAdd,o=Object(r.useState)(""),i=Object(x.a)(o,2),u=i[0],l=i[1],d=Object(r.useState)(!1),s=Object(x.a)(d,2),p=s[0],m=s[1];function b(e){return v.apply(this,arguments)}function v(){return(v=Object(y.a)(E.a.mark(function e(r){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),u){e.next=3;break}return e.abrupt("return");case 3:return m(!0),e.next=6,n({variables:{actionId:f,executionParameters:JSON.stringify({parentInstanceId:t.id,value:u}),unrestricted:!1},update:c()});case 6:l(""),m(!1);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}return a.a.createElement(S,null,a.a.createElement("label",{htmlFor:"project-name"},"Project Name:",a.a.createElement("input",{id:"project-name",type:"text",onChange:function(e){l(e.target.value)},onKeyPress:function(e){13===e.charCode&&b(e)},value:u,disabled:p})),a.a.createElement(k,{type:"submit",disabled:p,onClick:b},p?"Creating Project...":"Create Project"))}),P=t(43),F=t.n(P);function A(){var e=Object(v.a)(["\n  fragment IsCompletedParts on Instance {\n    id\n    value\n  }\n"]);return A=function(){return e},e}function T(){var e=Object(v.a)(["\n  fragment TodoParts on Instance {\n    id\n    value\n  }\n"]);return T=function(){return e},e}function D(){var e=Object(v.a)(["\n  fragment ProjectParts on Instance {\n    id\n    value\n  }\n"]);return D=function(){return e},e}var $=F()(D()),J=F()(T()),N=F()(A()),R=t(253);function U(){var e=Object(v.a)(["\n  margin-left: 1.5em;\n  display: inline-block;\n  border: 1px solid #eeeeee;\n  padding: 0.5em;\n"]);return U=function(){return e},e}var L=j.a.span(U());var q=function(e){var n=e.isCompleted,t=e.label,r=e.onChange,c=e.disabled,o=void 0!==c&&c;return a.a.createElement(L,null,a.a.createElement("label",{htmlFor:n.id},t,a.a.createElement("input",{id:n.id,type:"checkbox",checked:"true"===n.value,onChange:r,disabled:o})))};function W(){var e=Object(v.a)(["\n  background: none;\n  border: none;\n  cursor: pointer;\n  font-size: 1.25rem;\n  padding: 0;\n  color: #bbbbbb;\n  transition: color 0.5s ease;\n\n  &:hover {\n    color: ",";\n  }\n"]);return W=function(){return e},e}function Y(){var e=Object(v.a)(["\n  margin: 2em 1em;\n  padding: 1.5em;\n  border: none;\n  border-radius: 10px;\n  box-shadow: 5px 5px 10px #888888;\n"]);return Y=function(){return e},e}var z=j.a.div(Y()),V=j.a.button(W(),function(e){return e.hoverColor||"#000000"});var B=Object(i.d)(u.b,{name:"updateInstance"})(function(e){var n=e.todo,t=e.isCompleted,c=e.updateInstance,o=e.onUpdate,i=Object(r.useState)(n.value),u=Object(x.a)(i,2),d=u[0],s=u[1],m=Object(r.useState)(!1),f=Object(x.a)(m,2),b=f[0],v=f[1],j=Object(r.useState)(!1),g=Object(x.a)(j,2),h=g[0],O=g[1];function _(){return(_=Object(y.a)(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,c({variables:{actionId:l,executionParameters:JSON.stringify({value:d,instanceId:n.id}),update:o(n.id,J)}});case 3:v(!1),O(!1);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function I(){return(I=Object(y.a)(E.a.mark(function e(){var n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="true"===t.value?"false":"true",e.next=3,c({variables:{actionId:p,executionParameters:JSON.stringify({value:n,instanceId:t.id}),unrestricted:!1},optimisticResponse:{ExecuteAction:JSON.stringify({id:t.id,value:n})},update:o(t.id,N)});case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}return a.a.createElement(z,null,b?a.a.createElement(a.a.Fragment,null,a.a.createElement("label",{htmlFor:n.id},"Todo Value:",a.a.createElement("input",{id:n.id,type:"text",value:d,onChange:function(e){s(e.target.value)},disabled:h})),a.a.createElement(V,{type:"button",hoverColor:"#00FF00",onClick:function(){return _.apply(this,arguments)},disabled:h},"\u2713"),a.a.createElement(V,{type:"button",hoverColor:"#FF0000",onClick:function(){return v(!1)},disabled:h},"\u2715")):a.a.createElement(a.a.Fragment,null,d,a.a.createElement(V,{type:"button",onClick:function(){return v(!0)}},"\u270e"),a.a.createElement(q,{isCompleted:t,label:"Done?",onChange:function(){return I.apply(this,arguments)}})))});function G(){var e=Object(v.a)(["\n  margin-left: 1em;\n"]);return G=function(){return e},e}function K(){var e=Object(v.a)(["\n  margin: 2em;\n  padding: 1.5em;\n  border: none;\n  border-radius: 5px;\n  background-color: #F5F5F5;\n"]);return K=function(){return e},e}var Q=j.a.div(K()),X=j.a.button(G());var H=Object(i.c)(Object(i.d)(u.b,{name:"createTodo"}),Object(i.d)(u.b,{name:"createIsCompleted"}))(function(e){var n=e.projectId,t=e.createTodo,c=e.createIsCompleted,o=e.onAdd,i=Object(r.useState)(""),u=Object(x.a)(i,2),l=u[0],d=u[1],p=Object(r.useState)(!1),f=Object(x.a)(p,2),b=f[0],v=f[1];function j(e){return g.apply(this,arguments)}function g(){return(g=Object(y.a)(E.a.mark(function e(r){var a,i;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),l){e.next=3;break}return e.abrupt("return");case 3:return v(!0),e.next=6,t({variables:{actionId:s,executionParameters:JSON.stringify({parentInstanceId:n,value:l}),unrestricted:!1}});case 6:return a=e.sent,i=JSON.parse(a.data.ExecuteAction),e.next=10,c({variables:{actionId:m,executionParameters:JSON.stringify({parentInstanceId:i.instanceId,value:"false"}),unrestricted:!1},update:function(e,n){var t=JSON.parse(n.data.ExecuteAction),r={instance:{id:i.instanceId,value:i.value,__typename:"Instance"},children:[{instance:{id:t.instanceId,value:t.value,__typename:"Instance"},__typename:"InstanceWithChildren"}],__typename:"InstanceWithChildren"};o(r)(e)}});case 10:d(""),v(!1);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}return a.a.createElement(Q,null,a.a.createElement("label",{htmlFor:"todo-name"},"Todo Value:",a.a.createElement("input",{id:"todo-name",type:"text",onChange:function(e){d(e.target.value)},onKeyPress:function(e){13===e.charCode&&j(e)},value:l,disabled:b})),a.a.createElement(X,{type:"submit",disabled:b,onClick:j},b?"Adding Todo...":"Add Todo"))}),M=t(48);function Z(){var e=Object(v.a)(["\n  query SOURCE(\n    $id: ID!\n    $typeRelationships: String!\n    $parameters: String\n  ) {\n    sourceData(\n      sourceId: $id\n      typeRelationships: $typeRelationships\n      parameters: $parameters\n    ) {\n      instance {\n        ...TodoParts\n      }\n      children {\n        instance {\n          ...IsCompletedParts\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n"]);return Z=function(){return e},e}var ee=F()(Z(),J,N),ne=Object(M.a)({},"tree_source_collection_platform_TestStack154_collection_user_Collection_source_toDoSource_tree_toDoSource_Tree_type_toDo",Object(M.a)({},"tree_source_collection_platform_TestStack154_collection_user_Collection_source_toDoSource_tree_toDoSource_Tree_type_isCompleted",null));function te(){var e=Object(v.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-evenly;\n"]);return te=function(){return e},e}var re=j.a.div(te());var ae=function(e){var n=e.projectId,t={currentProjectId:n};return a.a.createElement(u.g,{id:b,query:ee,typeRelationships:ne,parameters:t},function(e){var t=e.loading,r=e.error,c=e.data,o=e.updateSourceAfterCreateAction,i=e.updateSourceAfterUpdateAction;if(t)return"Loading...";if(r)return"Error: ".concat(r.graphQLErrors);var u=c.sourceData.map(function(e){return Object(R.a)({},e.instance,{isCompleted:e.children[0].instance})});return a.a.createElement(a.a.Fragment,null,a.a.createElement(H,{projectId:n,onAdd:o}),a.a.createElement(re,null,u&&u.map(function(e){return a.a.createElement(B,{key:e.id,todo:e,isCompleted:e.isCompleted,onUpdate:i})})))})};function ce(){var e=Object(v.a)(["\n  background: none;\n  border: none;\n  cursor: pointer;\n  font-size: 1.25rem;\n  padding: 0;\n  color: #bbbbbb;\n  transition: color 0.5s ease;\n\n  &:hover {\n    color: ",";\n  }\n"]);return ce=function(){return e},e}function oe(){var e=Object(v.a)(["\n  margin: 1em 0;\n"]);return oe=function(){return e},e}function ie(){var e=Object(v.a)(["\n  margin: 2em 1em;\n  padding: 1.5em;\n  border: none;\n  border-radius: 10px;\n  box-shadow: 5px 5px 10px #888888;\n"]);return ie=function(){return e},e}var ue=j.a.div(ie()),le=j.a.div(oe()),de=j.a.button(ce(),function(e){return e.hoverColor||"#000000"});var se=Object(i.d)(u.b,{name:"updateInstance"})(function(e){var n=e.project,t=e.updateInstance,c=e.onUpdate,o=Object(r.useState)(n.value),i=Object(x.a)(o,2),u=i[0],l=i[1],s=Object(r.useState)(!1),p=Object(x.a)(s,2),m=p[0],f=p[1],b=Object(r.useState)(!1),v=Object(x.a)(b,2),j=v[0],g=v[1];function h(){return(h=Object(y.a)(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,t({variables:{actionId:d,executionParameters:JSON.stringify({value:u,instanceId:n.id})},update:c(n.id,$)});case 3:f(!1),g(!1);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}return a.a.createElement(ue,null,m?a.a.createElement(le,null,a.a.createElement("label",{htmlFor:n.id},"Project Value:",a.a.createElement("input",{id:n.id,type:"text",value:u,onChange:function(e){l(e.target.value)},disabled:j})),a.a.createElement(de,{type:"button",hoverColor:"#00FF00",onClick:function(){return h.apply(this,arguments)},disabled:j},"\u2713"),a.a.createElement(de,{type:"button",hoverColor:"#FF0000",onClick:function(){return f(!1)},disabled:j},"\u2715")):a.a.createElement("h3",null,n.value,a.a.createElement(de,{type:"button",onClick:function(){return f(!0)}},"\u270e")),a.a.createElement(ae,{projectId:n.id}))});function pe(){var e=Object(v.a)(["\n  query SOURCE(\n    $id: ID!\n    $typeRelationships: String!\n    $parameters: String\n  ) {\n    sourceData(\n      sourceId: $id\n      typeRelationships: $typeRelationships\n      parameters: $parameters\n    ) {\n      instance {\n        ...ProjectParts\n      }\n    }\n  }\n\n  ","\n"]);return pe=function(){return e},e}var me=F()(pe(),$),fe=Object(M.a)({},"tree_source_collection_platform_TestStack154_collection_user_Collection_source_projectSource_tree_projectSource_Tree_type_project",null);function be(){var e=Object(v.a)(["\n  input {\n    margin: 0 0.5em;\n  }\n\n  button {\n    margin: 0 0.5em;\n  }\n"]);return be=function(){return e},e}var ve=j.a.div(be()),je={},ge=function(){return a.a.createElement(u.g,{id:"collection_platform_TestStack154_collection_user_Collection_source_projectSource",typeRelationships:fe,query:me,parameters:je},function(e){var n=e.loading,t=e.error,r=e.data,c=e.updateSourceAfterCreateAction,o=e.updateSourceAfterUpdateAction;if(n)return"Loading...";if(t)return"Error: ".concat(t.graphQLErrors);var i=r.sourceData.map(function(e){return e.instance});return a.a.createElement(ve,null,a.a.createElement(w,{onAdd:c}),i&&i.map(function(e){return a.a.createElement(se,{key:e.id,project:e,onUpdate:o})}))})};function he(){var e=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  div {\n    margin: 0.5em;\n  }\n"]);return he=function(){return e},e}function Oe(){var e=Object(v.a)(["\n  padding: 5em 5em;\n  min-width: 480px;\n"]);return Oe=function(){return e},e}var _e=j.a.div(Oe()),Ee=j.a.div(he()),ye=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(O,null),a.a.createElement(_e,{className:"App"},a.a.createElement(u.e,null,function(e){var n=e.loading,t=e.currentUser;return n?null:t?a.a.createElement(ge,null):a.a.createElement(Ee,null,a.a.createElement("div",null,"Please Log In"),a.a.createElement("div",null,a.a.createElement(u.c,null)))})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var xe=t(53),Ie=t(29),Ce=t(254),Se=Object(u.h)("us-west-2_a3XGYPPYI"),ke=Ie.a.from([Se,u.i]),we=new xe.a({link:ke,cache:new Ce.a({dataIdFromObject:function(e){return e.id}})});o.a.render(a.a.createElement(i.a,{client:we},a.a.createElement(u.f,{client:we,platformId:"us-west-2_a3XGYPPYI"},a.a.createElement(ye,null),a.a.createElement(u.a,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[257,1,2]]]);
//# sourceMappingURL=main.88b311e7.chunk.js.map