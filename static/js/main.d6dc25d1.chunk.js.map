{"version":3,"sources":["config/index.js","components/NavBar/index.js","components/CreateProjectForm/index.js","components/source-props/fragments.js","components/IsCompleted/index.js","components/Todo/index.js","components/CreateTodoForm/index.js","components/source-props/todo.js","components/Todos/index.js","components/Project/index.js","components/source-props/project.js","components/Projects/index.js","App.js","serviceWorker.js","client/index.js","index.js"],"names":["CREATE_PROJECT_FOR_PROJECT_SOURCE_ACTION_ID","CREATE_TO_DO_FOR_TO_DO_SOURCE_ACTION_ID","CREATE_IS_COMPLETED_FOR_TO_DO_SOURCE_ACTION_ID","UPDATE_PROJECT_FOR_PROJECT_SOURCE_ACTION_ID","UPDATE_TO_DO_FOR_TO_DO_SOURCE_ACTION_ID","UPDATE_IS_COMPLETED_FOR_TO_DO_SOURCE_ACTION_ID","DELETE_PROJECT_FOR_PROJECT_SOURCE_ACTION_ID","DELETE_TO_DO_FOR_TO_DO_SOURCE_ACTION_ID","SOURCE_TO_DO_SOURCE_ID","Wrapper","styled","div","NavBar","Form","Button","button","compose","withNoStack","graphql","EXECUTE_ACTION","name","createProject","currentUser","onAdd","useState","projectValue","updateProjectValue","loading","updateLoading","handleSubmit","e","a","preventDefault","variables","actionId","executionParameters","JSON","stringify","parentInstanceId","id","value","unrestricted","update","htmlFor","type","onChange","target","onKeyPress","charCode","disabled","onClick","PROJECT_FRAGMENT","gql","TODO_FRAGMENT","IS_COMPLETED_FRAGMENT","IsCompletedStyleWrapper","span","isCompleted","label","updateInstance","onUpdate","instanceId","optimisticResponse","ExecuteAction","checked","TodoStyleWrapper","props","isDeleting","hoverColor","DeleteMenu","todo","projectId","deleteInstance","onDelete","todoValue","updateTodoValue","isEditMode","updateIsEditMode","isSaving","updateIsSaving","isDeleteMode","updateIsDeleteMode","updateIsDeleting","createTodo","createIsCompleted","createTodoResponse","newTodoData","parse","data","cache","response","isCompletedData","newTodo","instance","__typename","children","TODOS_FOR_CURRENT_PROJECT_SOURCE_QUERY","TODOS_FOR_CURRENT_PROJECT_RELATIONSHIPS","TodoListStyleWrapper","Todos","parameters","currentProjectId","query","typeRelationships","error","updateSourceAfterCreateAction","updateSourceAfterUpdateAction","updateSourceAfterDeleteAction","graphQLErrors","todos","sourceData","map","el","key","ProjectStyleWrapper","Row","project","currentUserId","PROJECTS_FOR_CURRENT_USER_SOURCE_QUERY","PROJECTS_FOR_CURRENT_USER_RELATIONSHIPS","ProjectsStyleWrapper","Projects","projects","CreateProjectForm","LoginWrapper","App","className","Boolean","window","location","hostname","match","authLink","createAuthLink","link","ApolloLink","from","httpLink","ApolloClient","InMemoryCache","dataIdFromObject","object","ReactDOM","render","client","platformId","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"yTAQaA,EAA4C,uCAC5CC,EAAwC,uCACxCC,EAA+C,uCAE/CC,EAA4C,uCAC5CC,EAAwC,uCACxCC,EAA+C,uCAE/CC,EAA4C,uCAC5CC,EAAwC,uCAKxCC,EAAuB,uC,mSCjBpC,IAAMC,EAAUC,IAAOC,IAAV,KAqBEC,EATA,kBACb,kBAACH,EAAD,KACE,8CACA,6BACE,kBAAC,IAAD,S,sUCbN,IAAMI,EAAOH,IAAOC,IAAV,KAQJG,EAASJ,IAAOK,OAAV,KAmEGC,UAAQC,IAAaC,YAAQC,IAAgB,CAAEC,KAAM,kBAArDJ,CA/Df,YAA6D,IAAtCK,EAAqC,EAArCA,cAAeC,EAAsB,EAAtBA,YAAaC,EAAS,EAATA,MAAS,EACbC,mBAAS,IADI,mBAClDC,EADkD,KACpCC,EADoC,OAEvBF,oBAAS,GAFc,mBAElDG,EAFkD,KAEzCC,EAFyC,cAQ3CC,EAR2C,6EAQ1D,WAA4BC,GAA5B,SAAAC,EAAA,wDACED,EAAEE,iBAEGP,EAHP,wDAOEG,GAAc,GAPhB,SASQP,EAAc,CAClBY,UAAW,CACTC,SAAUlC,EACVmC,oBAAqBC,KAAKC,UAAU,CAClCC,iBAAkBhB,EAAYiB,GAC9BC,MAAOf,IAETgB,cAAc,GAEhBC,OAAQnB,MAlBZ,OAqBEG,EAAmB,IACnBE,GAAc,GAtBhB,0CAR0D,sBAuC1D,OACE,kBAACf,EAAD,KACE,2BAAO8B,QAAQ,gBAAf,gBAEE,2BACEJ,GAAG,eACHK,KAAK,OACLC,SA1CR,SAAsBf,GACpBJ,EAAmBI,EAAEgB,OAAON,QA0CtBO,WAdR,SAAwBjB,GACH,KAAfA,EAAEkB,UACJnB,EAAaC,IAaTU,MAAOf,EACPwB,SAAUtB,KAGd,kBAACb,EAAD,CAAQ8B,KAAK,SAASK,SAAUtB,EAASuB,QAASrB,GAE9CF,EACI,sBACA,qB,oaC1EP,IAAMwB,EAAmBC,IAAH,KAOhBC,EAAgBD,IAAH,KAObE,EAAwBF,IAAH,K,iLCRlC,IAAMG,EAA0B7C,IAAO8C,KAAV,KA8CdtC,kBAAQC,IAAgB,CAAEC,KAAM,kBAAhCF,CAvCf,YAA0F,IAAnEuC,EAAkE,EAAlEA,YAAaC,EAAqD,EAArDA,MAAOC,EAA8C,EAA9CA,eAAgBC,EAA8B,EAA9BA,SAA8B,IAApBX,gBAAoB,oDACvF,4BAAAlB,EAAA,4DACQS,EAA8B,SAAtBiB,EAAYjB,MAAmB,QAAU,OADzD,SAGQmB,EAAe,CACnB1B,UAAW,CACTC,SAAU7B,EACV8B,oBAAqBC,KAAKC,UAAU,CAClCG,QACAqB,WAAYJ,EAAYlB,KAE1BE,cAAc,GAEhBqB,mBAAoB,CAClBC,cAAe3B,KAAKC,UAAU,CAC5BE,GAAIkB,EAAYlB,GAChBC,WAGJE,OAAQkB,EAASH,EAAYlB,GAAIe,KAlBrC,0CADuF,sBAuBvF,OACE,kBAACC,EAAD,KACE,2BAAOZ,QAASc,EAAYlB,IACzBmB,EACD,2BACEnB,GAAIkB,EAAYlB,GAChBK,KAAK,WACLoB,QAA+B,SAAtBP,EAAYjB,MACrBK,SA/B+E,2CAgC/EI,SAAUA,Q,imBCpCpB,IAAMgB,EAAmBvD,IAAOC,IAAV,IAMT,SAAAuD,GAAK,OAAIA,EAAMC,WAAa,GAAM,IAGzCrD,EAASJ,IAAOK,OAAV,IAUC,SAAAmD,GAAK,OAAIA,EAAME,YAAc,YAIpCC,EAAa3D,IAAOC,IAAV,KA8IDK,UACbE,YAAQC,IAAgB,CAAEC,KAAM,mBAChCF,YAAQC,IAAgB,CAAEC,KAAM,mBAFnBJ,CAvIf,YAAqG,IAArFsD,EAAoF,EAApFA,KAAMC,EAA8E,EAA9EA,UAAWd,EAAmE,EAAnEA,YAAaE,EAAsD,EAAtDA,eAAgBa,EAAsC,EAAtCA,eAAgBZ,EAAsB,EAAtBA,SAAUa,EAAY,EAAZA,SAAY,EAC3DjD,mBAAS8C,EAAK9B,OAD6C,mBAC1FkC,EAD0F,KAC/EC,EAD+E,OAEzDnD,oBAAS,GAFgD,mBAE1FoD,EAF0F,KAE9EC,EAF8E,OAG7DrD,oBAAS,GAHoD,mBAG1FsD,EAH0F,KAGhFC,EAHgF,OAIrDvD,oBAAS,GAJ4C,mBAI1FwD,EAJ0F,KAI5EC,EAJ4E,OAKzDzD,oBAAS,GALgD,mBAK1F2C,EAL0F,KAK9Ee,EAL8E,gDAWlG,sBAAAnD,EAAA,4DACEgD,GAAe,GADjB,SAGQpB,EAAe,CACnB1B,UAAW,CACTC,SAAU9B,EACV+B,oBAAqBC,KAAKC,UAAU,CAClCG,MAAOkC,EACPb,WAAYS,EAAK/B,MAGrBG,OAAQkB,EAASU,EAAK/B,GAAIc,KAX9B,OAcEwB,GAAiB,GACjBE,GAAe,GAfjB,0CAXkG,iEA6BlG,sBAAAhD,EAAA,4DACEmD,GAAiB,GADnB,kBAIUV,EAAe,CACnBvC,UAAW,CACTC,SAAU3B,EACV4B,oBAAqBC,KAAKC,UAAU,CAClCC,iBAAkBiC,EAClBV,WAAYS,EAAK/B,MAGrBG,OAAQ+B,EAASH,EAAK/B,MAZ5B,sDAeI2C,GAAiB,GAfrB,uDA7BkG,sBAgDlG,OACE,kBAACjB,EAAD,CAAkBE,WAAYA,GAC3BS,EAEG,oCACE,2BAAOjC,QAAS2B,EAAK/B,IAArB,cAEE,2BACEA,GAAI+B,EAAK/B,GACTK,KAAK,OACLJ,MAAOkC,EACP7B,SApDd,SAA+Bf,GAC7B6C,EAAgB7C,EAAEgB,OAAON,QAoDbS,SAAU6B,KAGd,kBAAC,EAAD,CACElC,KAAK,SACLwB,WAAW,UACXlB,QAlEsF,2CAmEtFD,SAAU6B,GAJZ,UAQA,kBAAC,EAAD,CACElC,KAAK,SACLwB,WAAW,UACXlB,QAAS,kBAAM2B,GAAiB,IAChC5B,SAAU6B,GAJZ,WAWF,oCACGJ,EACAM,EAEG,kBAACX,EAAD,eAEE,kBAAC,EAAD,CACEzB,KAAK,SACLwB,WAAW,UACXlB,QA3FgF,2CA4FhFD,SAAUkB,GAJZ,UAQA,kBAAC,EAAD,CACEvB,KAAK,SACLwB,WAAW,UACXlB,QAAS,kBAAM+B,GAAmB,IAClChC,SAAUkB,GAJZ,WAWF,oCACE,kBAAC,EAAD,CACEvB,KAAK,SACLM,QAAS,kBAAM2B,GAAiB,KAFlC,UAMA,kBAAC,EAAD,CACEjC,KAAK,SACLM,QAAS,kBAAM+B,GAAmB,KAFpC,gBAMA,kBAAC,EAAD,CACExB,YAAaA,EACbC,MAAM,QACNE,SAAUA,S,8QC3J9B,IAAM/C,GAAOH,IAAOC,IAAV,MAQJG,GAASJ,IAAOK,OAAV,KAuGGC,WACbE,YAAQC,IAAgB,CAAEC,KAAM,eAChCF,YAAQC,IAAgB,CAAEC,KAAM,sBAFnBJ,CAnGf,YAA8E,IAApDuD,EAAmD,EAAnDA,UAAWY,EAAwC,EAAxCA,WAAYC,EAA4B,EAA5BA,kBAAmB7D,EAAS,EAATA,MAAS,EACpCC,mBAAS,IAD2B,mBACnEkD,EADmE,KACxDC,EADwD,OAExCnD,oBAAS,GAF+B,mBAEnEG,EAFmE,KAE1DC,EAF0D,cAQ5DC,EAR4D,6EAQ3E,WAA4BC,GAA5B,iBAAAC,EAAA,wDACED,EAAEE,iBAEG0C,EAHP,wDAOE9C,GAAc,GAPhB,SASmCuD,EAAW,CAC1ClD,UAAW,CACTC,SAAUjC,EACVkC,oBAAqBC,KAAKC,UAAU,CAClCC,iBAAkBiC,EAClB/B,MAAOkC,IAETjC,cAAc,KAhBpB,cASQ4C,EATR,OAoBQC,EAAclD,KAAKmD,MAAMF,EAAmBG,KAAKzB,eApBzD,UAsBQqB,EAAkB,CACtBnD,UAAW,CACTC,SAAUhC,EACViC,oBAAqBC,KAAKC,UAAU,CAClCC,iBAAkBgD,EAAYzB,WAC9BrB,MAAO,UAETC,cAAc,GAEhBC,OAAQ,SAAC+C,EAAOC,GACd,IAAMC,EAAkBvD,KAAKmD,MAAMG,EAASF,KAAKzB,eAE3C6B,EAAU,CACdC,SAAU,CACRtD,GAAI+C,EAAYzB,WAChBrB,MAAO8C,EAAY9C,MACnBsD,WAAY,YAEdC,SAAU,CACR,CACEF,SAAU,CACRtD,GAAIoD,EAAgB9B,WACpBrB,MAAOmD,EAAgBnD,MACvBsD,WAAY,YAEdA,WAAY,yBAGhBA,WAAY,wBAGdvE,EAAMqE,EAANrE,CAAekE,MArDrB,QAyDEd,EAAgB,IAChB/C,GAAc,GA1DhB,2CAR2E,sBA2E3E,OACE,kBAAC,GAAD,KACE,2BAAOe,QAAQ,aAAf,cAEE,2BACEJ,GAAG,YACHK,KAAK,OACLC,SA9ER,SAAsBf,GACpB6C,EAAgB7C,EAAEgB,OAAON,QA8EnBO,WAdR,SAAwBjB,GACH,KAAfA,EAAEkB,UACJnB,EAAaC,IAaTU,MAAOkC,EACPzB,SAAUtB,KAGd,kBAAC,GAAD,CAAQiB,KAAK,SAASK,SAAUtB,EAASuB,QAASrB,GAE9CF,EACI,iBACA,e,0cC5GP,IAAMqE,GAAyC5C,IAAH,KAsB/CC,EACAC,GAGS2C,GAAuC,ePJzB,uCOIyB,ePHlB,uCOKN,O,0YCvB5B,IAAMC,GAAuBxF,IAAOC,IAAV,MAsDXwF,OA/Cf,YAA+B,IAAd5B,EAAa,EAAbA,UACT6B,EAAa,CACjBC,iBAAkB9B,GAGpB,OACE,kBAAC,IAAD,CACEhC,GAAI/B,EACJ8F,MAAON,GACPO,kBAAmBN,GACnBG,WAAYA,GAEX,YAA2H,IAAzHzE,EAAwH,EAAxHA,QAAS6E,EAA+G,EAA/GA,MAAOhB,EAAwG,EAAxGA,KAAMiB,EAAkG,EAAlGA,8BAA+BC,EAAmE,EAAnEA,8BAA+BC,EAAoC,EAApCA,8BACrF,GAAIhF,EAAS,MAAO,aAEpB,GAAI6E,EAAO,MAAM,UAAN,OAAiBA,EAAMI,eAElC,IAAMC,EAAQrB,EAAKsB,WAAWC,IAAI,SAAAC,GAAE,O,uVAAA,IAC/BA,EAAGnB,SAD4B,CAElCpC,YAAauD,EAAGjB,SAAS,GAAGF,aAG9B,OACE,oCACE,kBAAC,GAAD,CAAgBtB,UAAWA,EAAWhD,MAAOkF,IAC7C,kBAACP,GAAD,KAEIW,GAASA,EAAME,IAAI,SAAAzC,GAAI,OACrB,kBAAC,EAAD,CACE2C,IAAK3C,EAAK/B,GACV+B,KAAMA,EACNC,UAAWA,EACXd,YAAaa,EAAKb,YAClBG,SAAU8C,EACVjC,SAAUkC,W,ksBCxC9B,IAAMO,GAAsBxG,IAAOC,IAAV,KAMZ,SAAAuD,GAAK,OAAIA,EAAMC,WAAa,GAAM,IAGzCgD,GAAMzG,IAAOC,IAAV,MAIHG,GAASJ,IAAOK,OAAV,KAUC,SAAAmD,GAAK,OAAIA,EAAME,YAAc,YAIpCC,GAAa3D,IAAOC,IAAV,MAyIDK,WACbE,YAAQC,IAAgB,CAAEC,KAAM,mBAChCF,YAAQC,IAAgB,CAAEC,KAAM,mBAFnBJ,CAlIf,YAAkG,IAA/EoG,EAA8E,EAA9EA,QAASC,EAAqE,EAArEA,cAAe1D,EAAsD,EAAtDA,eAAgBa,EAAsC,EAAtCA,eAAgBZ,EAAsB,EAAtBA,SAAUa,EAAY,EAAZA,SAAY,EAClDjD,mBAAS4F,EAAQ5E,OADiC,mBACvFf,EADuF,KACzEC,EADyE,OAEtDF,oBAAS,GAF6C,mBAEvFoD,EAFuF,KAE3EC,EAF2E,OAG1DrD,oBAAS,GAHiD,mBAGvFsD,EAHuF,KAG7EC,EAH6E,OAIlDvD,oBAAS,GAJyC,mBAIvFwD,EAJuF,KAIzEC,EAJyE,OAKtDzD,oBAAS,GAL6C,mBAKvF2C,EALuF,KAK3Ee,EAL2E,gDAW/F,sBAAAnD,EAAA,4DACEgD,GAAe,GADjB,SAGQpB,EAAe,CACnB1B,UAAW,CACTC,SAAU/B,EACVgC,oBAAqBC,KAAKC,UAAU,CAClCG,MAAOf,EACPoC,WAAYuD,EAAQ7E,MAGxBG,OAAQkB,EAASwD,EAAQ7E,GAAIY,KAXjC,OAcE0B,GAAiB,GACjBE,GAAe,GAfjB,0CAX+F,iEA6B/F,sBAAAhD,EAAA,4DACEmD,GAAiB,GADnB,kBAIUV,EAAe,CACnBvC,UAAW,CACTC,SAAU5B,EACV6B,oBAAqBC,KAAKC,UAAU,CAClCC,iBAAkB+E,EAClBxD,WAAYuD,EAAQ7E,MAGxBG,OAAQ+B,EAAS2C,EAAQ7E,MAZ/B,sDAeI2C,GAAiB,GAfrB,uDA7B+F,sBAgD/F,OACE,kBAACgC,GAAD,CAAqB/C,WAAYA,GAC9BS,EAEG,kBAACuC,GAAD,KACE,2BAAOxE,QAASyE,EAAQ7E,IAAxB,iBAEE,2BACEA,GAAI6E,EAAQ7E,GACZK,KAAK,OACLJ,MAAOf,EACPoB,SApDd,SAAkCf,GAChCJ,EAAmBI,EAAEgB,OAAON,QAoDhBS,SAAU6B,KAGd,kBAAC,GAAD,CACElC,KAAK,SACLwB,WAAW,UACXlB,QAlEmF,2CAmEnFD,SAAU6B,GAJZ,UAQA,kBAAC,GAAD,CACElC,KAAK,SACLwB,WAAW,UACXlB,QAAS,kBAAM2B,GAAiB,IAChC5B,SAAU6B,GAJZ,WAWF,4BACGsC,EAAQ5E,MACRwC,EACG,kBAAC,GAAD,eAEE,kBAAC,GAAD,CACEpC,KAAK,SACLwB,WAAW,UACXlB,QA1F6E,2CA2F7ED,SAAUkB,GAJZ,UAQA,kBAAC,GAAD,CACEvB,KAAK,SACLwB,WAAW,UACXlB,QAAS,kBAAM+B,GAAmB,IAClChC,SAAUkB,GAJZ,WAWJ,oCACE,kBAAC,GAAD,CACEvB,KAAK,SACLM,QAAS,kBAAM2B,GAAiB,KAFlC,UAMA,kBAAC,GAAD,CACEjC,KAAK,SACLM,QAAS,kBAAM+B,GAAmB,KAFpC,kBAYV,kBAAC,GAAD,CAAOV,UAAW6C,EAAQ7E,Q,6WCrKzB,IAAM+E,GAAyClE,IAAH,KAiB/CD,GAGSoE,GAAuC,eVCvB,uCUAR,M,wJChBrB,IAAMC,GAAuB9G,IAAOC,IAAV,MAUpByF,GAAa,GAoCJqB,GAlCE,SAAC,GAAD,IAAGJ,EAAH,EAAGA,cAAH,OACf,kBAAC,IAAD,CACE9E,GXHkC,uCWIlCgE,kBAAmBgB,GACnBjB,MAAOgB,GACPlB,WAAYA,IAEX,YAA4H,IAAzHzE,EAAwH,EAAxHA,QAAS6E,EAA+G,EAA/GA,MAAOhB,EAAwG,EAAxGA,KAAMiB,EAAkG,EAAlGA,8BAA+BC,EAAmE,EAAnEA,8BAA+BC,EAAoC,EAApCA,8BACtF,GAAIhF,EAAS,MAAO,aAEpB,GAAI6E,EAAO,MAAM,UAAN,OAAiBA,EAAMI,eAElC,IAAMc,EAAWlC,EAAKsB,WAAWC,IAAI,SAAAC,GAAE,OAAIA,EAAGnB,WAE9C,OACE,kBAAC2B,GAAD,KACE,kBAACG,EAAD,CAAmBpG,MAAOkF,IAExBiB,GAAYA,EAASX,IAAI,SAAAK,GAAO,OAC9B,kBAAC,GAAD,CACEH,IAAKG,EAAQ7E,GACb6E,QAASA,EACTC,cAAeA,EACfzD,SAAU8C,EACVjC,SAAUkC,U,qSCtC1B,IAAMlG,GAAUC,IAAOC,IAAV,MAKPiH,GAAelH,IAAOC,IAAV,MAoCHkH,GA1BH,kBACV,oCACE,kBAAC,EAAD,MACA,kBAAC,GAAD,CAASC,UAAU,OACjB,kBAAC,IAAD,KACG,YAA+B,IAA5BnG,EAA2B,EAA3BA,QAASL,EAAkB,EAAlBA,YACX,OAAIK,EAAgB,KAEfL,EAUH,kBAAC,GAAD,CAAU+F,cAAe/F,EAAYiB,KARnC,kBAACqF,GAAD,KACE,8CACA,6BAAK,kBAAC,IAAD,aCvBDG,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2D,gCCVAC,GAAWC,YdJU,uBcMrBC,GAAOC,KAAWC,KAAK,CAACJ,GAAUK,MAEzB,OAAIC,KAAa,CAC9BJ,QACA7C,MAAO,IAAIkD,KAAc,CACvBC,iBAAkB,SAAAC,GAAM,OAAIA,EAAOtG,QCJvCuG,IAASC,OACP,kBAAC,IAAD,CAAiBC,OAAQA,GAAQC,WfRR,uBeSvB,kBAAC,GAAD,MACA,kBAAC,IAAD,OAEFC,SAASC,eAAe,SFiHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,KAAK,SAAAC,GACjCA,EAAaC,iB","file":"static/js/main.d6dc25d1.chunk.js","sourcesContent":["// This file was generated automatically by nostack for the app 'app299'.  If you build a new stack from a template, you should replace it.\n// If you modify your current stack to add actions, sources, or types, it would make sense to add constants here.\n\n// platform id\nexport const PLATFORM_ID = 'us-west-2_ek58C8aJb';\n\n// action ids\n  // CREATE_INSTANCE\nexport const CREATE_PROJECT_FOR_PROJECT_SOURCE_ACTION_ID='2981b5e5-3f0f-4b92-aa6e-e30d2a1b8e97';\nexport const CREATE_TO_DO_FOR_TO_DO_SOURCE_ACTION_ID='709a520b-652f-4490-a457-5bea93c1ba6d';\nexport const CREATE_IS_COMPLETED_FOR_TO_DO_SOURCE_ACTION_ID='f65c0c32-ca8e-4852-85ca-62656046f72f';\n  // UPDATE_INSTANCE\nexport const UPDATE_PROJECT_FOR_PROJECT_SOURCE_ACTION_ID='700a2cf8-505e-4d79-8c82-f912729b2e73';\nexport const UPDATE_TO_DO_FOR_TO_DO_SOURCE_ACTION_ID='e3bc26f6-e00e-4677-a2a4-cb93f7f33e4c';\nexport const UPDATE_IS_COMPLETED_FOR_TO_DO_SOURCE_ACTION_ID='02dce303-9001-4d4c-babd-1b2ef02c75e1';\n  // DELETE_INSTANCE\nexport const DELETE_PROJECT_FOR_PROJECT_SOURCE_ACTION_ID='c654e083-ccc2-42b8-95b4-20c50ec33fa3';\nexport const DELETE_TO_DO_FOR_TO_DO_SOURCE_ACTION_ID='bbb10167-180b-4fc8-a828-1bf323f4061d';\nexport const DELETE_IS_COMPLETED_FOR_TO_DO_SOURCE_ACTION_ID='3b2200a6-4709-4659-ba28-2cdc463a7e8c';\n\n// source ids\nexport const SOURCE_PROJECT_SOURCE_ID='15c7dd3f-c629-4a50-9d21-42bad1faab0a';\nexport const SOURCE_TO_DO_SOURCE_ID='1bc5f241-9b05-45f1-a36d-2494ff6b101a';\n\n// type ids\nexport const TYPE_USER_ID='b39ac6f2-7272-4c01-b0fb-0f4030bf10b7';\nexport const TYPE_PROJECT_ID='b10b2caf-a1c7-4bfa-a6db-ad2a3fc13d59';\nexport const TYPE_TO_DO_ID='88fc6deb-3e53-4cc9-952d-d009f687275c';\nexport const TYPE_IS_COMPLETED_ID='47d44545-8b26-440d-921d-f2021d9616d8';\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport { LogoutButton } from '@nostack/no-stack';\n\nconst Wrapper = styled.div`\n  left: 0;\n  top: 0;\n  padding: 1em 3em;\n  font-size: 1rem;\n  color: #fffff0;\n  background-color: #00000f;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\n\nconst NavBar = () => (\n  <Wrapper>\n    <div>stackbox todo</div>\n    <div>\n      <LogoutButton />\n    </div>\n  </Wrapper>\n);\n\nexport default NavBar;\n","import React, { useState } from 'react';\nimport compose from '@shopify/react-compose';\nimport { graphql } from '@apollo/react-hoc';\nimport styled from 'styled-components';\nimport { withNoStack, EXECUTE_ACTION } from '@nostack/no-stack';\n\nimport { CREATE_PROJECT_FOR_PROJECT_SOURCE_ACTION_ID } from '../../config';\n\nconst Form = styled.div`\n  margin: 2em;\n  padding: 1.5em;\n  border: none;\n  border-radius: 5px;\n  background-color: #F5F5F5;\n`;\n\nconst Button = styled.button`\n  margin-left: 1em;\n`;\n\nfunction ProjectForm({ createProject, currentUser, onAdd }) {\n  const [ projectValue, updateProjectValue ] = useState('');\n  const [ loading, updateLoading ] = useState(false);\n\n  function handleChange(e) {\n    updateProjectValue(e.target.value);\n  }\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    if (!projectValue) {\n      return;\n    }\n\n    updateLoading(true);\n\n    await createProject({\n      variables: {\n        actionId: CREATE_PROJECT_FOR_PROJECT_SOURCE_ACTION_ID,\n        executionParameters: JSON.stringify({\n          parentInstanceId: currentUser.id,\n          value: projectValue,\n        }),\n        unrestricted: false,\n      },\n      update: onAdd(),\n    });\n\n    updateProjectValue('');\n    updateLoading(false);\n  }\n\n  function handleKeyPress(e) {\n    if (e.charCode === 13) {\n      handleSubmit(e);\n    }\n  }\n\n  return (\n    <Form>\n      <label htmlFor=\"project-name\">\n        Project Name:\n        <input\n          id=\"project-name\"\n          type=\"text\"\n          onChange={handleChange}\n          onKeyPress={handleKeyPress}\n          value={projectValue}\n          disabled={loading}\n        />\n      </label>\n      <Button type=\"submit\" disabled={loading} onClick={handleSubmit}>\n        {\n          loading \n            ? 'Creating Project...'\n            : 'Create Project'\n        }\n      </Button>\n    </Form>\n  );\n}\n\nexport default compose(withNoStack, graphql(EXECUTE_ACTION, { name: 'createProject' }))(ProjectForm);\n","import gql from 'graphql-tag';\n\nexport const PROJECT_FRAGMENT = gql`\n  fragment ProjectParts on Instance {\n    id\n    value\n  }\n`;\n\nexport const TODO_FRAGMENT = gql`\n  fragment TodoParts on Instance {\n    id\n    value\n  }\n`;\n\nexport const IS_COMPLETED_FRAGMENT = gql`\n  fragment IsCompletedParts on Instance {\n    id\n    value\n  }\n`;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { graphql } from '@apollo/react-hoc';\nimport { EXECUTE_ACTION } from '@nostack/no-stack';\n\nimport { UPDATE_IS_COMPLETED_FOR_TO_DO_SOURCE_ACTION_ID } from '../../config';\nimport { IS_COMPLETED_FRAGMENT } from '../source-props/fragments';\n\nconst IsCompletedStyleWrapper = styled.span`\n  margin-left: 1.5em;\n  display: inline-block;\n  border: 1px solid #eeeeee;\n  padding: 0.5em;\n`;\n\nfunction IsCompleted({ isCompleted, label, updateInstance, onUpdate, disabled = false }) {\n  async function handleUpdateCompletion() {\n    const value = isCompleted.value === 'true' ? 'false' : 'true';\n\n    await updateInstance({\n      variables: {\n        actionId: UPDATE_IS_COMPLETED_FOR_TO_DO_SOURCE_ACTION_ID,\n        executionParameters: JSON.stringify({\n          value,\n          instanceId: isCompleted.id,\n        }),\n        unrestricted: false,\n      },\n      optimisticResponse: {\n        ExecuteAction: JSON.stringify({\n          id: isCompleted.id,\n          value,\n        }),\n      },\n      update: onUpdate(isCompleted.id, IS_COMPLETED_FRAGMENT),\n    });\n  }\n\n  return (\n    <IsCompletedStyleWrapper>\n      <label htmlFor={isCompleted.id}>\n        {label}\n        <input\n          id={isCompleted.id} \n          type=\"checkbox\" \n          checked={isCompleted.value === 'true'} \n          onChange={handleUpdateCompletion} \n          disabled={disabled}\n        />\n      </label>\n    </IsCompletedStyleWrapper>\n  );\n}\n\nexport default graphql(EXECUTE_ACTION, { name: 'updateInstance' })(IsCompleted);\n","import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { EXECUTE_ACTION } from '@nostack/no-stack';\nimport compose from '@shopify/react-compose';\nimport { graphql } from '@apollo/react-hoc';\n\nimport { UPDATE_TO_DO_FOR_TO_DO_SOURCE_ACTION_ID, DELETE_TO_DO_FOR_TO_DO_SOURCE_ACTION_ID } from '../../config';\nimport { TODO_FRAGMENT } from '../source-props/fragments';\n\nimport IsCompleted from '../IsCompleted';\n\nconst TodoStyleWrapper = styled.div`\n  margin: 2em 1em;\n  padding: 1.5em;\n  border: none;\n  border-radius: 10px;\n  box-shadow: 5px 5px 10px #888888;\n  opacity: ${props => props.isDeleting ? 0.2 : 1.0};\n`;\n\nconst Button = styled.button`\n  background: none;\n  border: none;\n  cursor: pointer;\n  font-size: 1.25rem;\n  padding: 0;\n  color: #bbbbbb;\n  transition: color 0.5s ease;\n\n  &:hover {\n    color: ${props => props.hoverColor || '#000000'};\n  }\n`;\n\nconst DeleteMenu = styled.div`\n  color: red;\n  margin: 1em;\n  padding: 1em;\n  border: 1px solid #eeeeee;\n`;\n\nfunction Todo({ todo, projectId, isCompleted, updateInstance, deleteInstance, onUpdate, onDelete }) {\n  const [ todoValue, updateTodoValue ] = useState(todo.value);\n  const [ isEditMode, updateIsEditMode ] = useState(false);\n  const [ isSaving, updateIsSaving ] = useState(false);\n  const [ isDeleteMode, updateIsDeleteMode ] = useState(false);\n  const [ isDeleting, updateIsDeleting ] = useState(false);\n\n  function handleTodoValueChange(e) {\n    updateTodoValue(e.target.value);\n  }\n\n  async function handleTodoValueSave() {\n    updateIsSaving(true);\n\n    await updateInstance({\n      variables: {\n        actionId: UPDATE_TO_DO_FOR_TO_DO_SOURCE_ACTION_ID,\n        executionParameters: JSON.stringify({\n          value: todoValue,\n          instanceId: todo.id,\n        }),\n      },\n      update: onUpdate(todo.id, TODO_FRAGMENT),\n    });\n\n    updateIsEditMode(false);\n    updateIsSaving(false);\n  }\n\n  async function handleDelete() {\n    updateIsDeleting(true); \n\n    try {\n      await deleteInstance({\n        variables: {\n          actionId: DELETE_TO_DO_FOR_TO_DO_SOURCE_ACTION_ID,\n          executionParameters: JSON.stringify({\n            parentInstanceId: projectId,\n            instanceId: todo.id,\n          }),\n        },\n        update: onDelete(todo.id),\n      });\n    } catch (e) {\n      updateIsDeleting(false);\n    }\n  }\n\n  return (\n    <TodoStyleWrapper isDeleting={isDeleting}>\n      {isEditMode ?\n        (\n          <>\n            <label htmlFor={todo.id}>\n              Todo Value:\n              <input\n                id={todo.id}\n                type=\"text\"\n                value={todoValue}\n                onChange={handleTodoValueChange}\n                disabled={isSaving}\n              />\n            </label>\n            <Button\n              type=\"button\"\n              hoverColor=\"#00FF00\"\n              onClick={handleTodoValueSave}\n              disabled={isSaving}\n            >\n              &#10003;\n            </Button>\n            <Button\n              type=\"button\"\n              hoverColor=\"#FF0000\"\n              onClick={() => updateIsEditMode(false)}\n              disabled={isSaving}\n            >\n              &#10005;\n            </Button>\n          </>\n        ) :\n        (\n          <>\n            {todoValue}\n            {isDeleteMode ?\n              (\n                <DeleteMenu>\n                  Delete?\n                  <Button\n                    type=\"button\"\n                    hoverColor=\"#00FF00\"\n                    onClick={handleDelete}\n                    disabled={isDeleting}\n                  >\n                    &#10003;\n                  </Button>\n                  <Button\n                    type=\"button\"\n                    hoverColor=\"#FF0000\"\n                    onClick={() => updateIsDeleteMode(false)}\n                    disabled={isDeleting}\n                  >\n                    &#10005;\n                  </Button>\n                </DeleteMenu>\n              ) :\n              (\n                <>\n                  <Button\n                    type=\"button\"\n                    onClick={() => updateIsEditMode(true)}\n                  >\n                    &#9998;\n                  </Button>\n                  <Button\n                    type=\"button\"\n                    onClick={() => updateIsDeleteMode(true)}\n                  >\n                    &#128465;\n                  </Button>\n                  <IsCompleted\n                    isCompleted={isCompleted}\n                    label=\"Done?\"\n                    onUpdate={onUpdate}\n                  />\n                </>\n              )\n            }\n          </>\n        )\n      }\n    </TodoStyleWrapper>\n  );\n}\n\nexport default compose(\n  graphql(EXECUTE_ACTION, { name: 'updateInstance' }),\n  graphql(EXECUTE_ACTION, { name: 'deleteInstance' })\n)(Todo);\n","import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport compose from '@shopify/react-compose';\nimport { graphql } from '@apollo/react-hoc';\n\nimport { EXECUTE_ACTION } from '@nostack/no-stack';\n\nimport { CREATE_TO_DO_FOR_TO_DO_SOURCE_ACTION_ID, CREATE_IS_COMPLETED_FOR_TO_DO_SOURCE_ACTION_ID } from '../../config';\n\nconst Form = styled.div`\n  margin: 2em;\n  padding: 1.5em;\n  border: none;\n  border-radius: 5px;\n  background-color: #F5F5F5;\n`;\n\nconst Button = styled.button`\n  margin-left: 1em;\n`;\n\nfunction CreateTodoForm({ projectId, createTodo, createIsCompleted, onAdd }) {\n  const [ todoValue, updateTodoValue ] = useState('');\n  const [ loading, updateLoading ] = useState(false);\n\n  function handleChange(e) {\n    updateTodoValue(e.target.value);\n  }\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    if (!todoValue) {\n      return;\n    }\n\n    updateLoading(true);\n\n    const createTodoResponse = await createTodo({\n      variables: {\n        actionId: CREATE_TO_DO_FOR_TO_DO_SOURCE_ACTION_ID,\n        executionParameters: JSON.stringify({\n          parentInstanceId: projectId,\n          value: todoValue,\n        }),\n        unrestricted: false,\n      },\n    });\n\n    const newTodoData = JSON.parse(createTodoResponse.data.ExecuteAction);\n\n    await createIsCompleted({\n      variables: {\n        actionId: CREATE_IS_COMPLETED_FOR_TO_DO_SOURCE_ACTION_ID,\n        executionParameters: JSON.stringify({\n          parentInstanceId: newTodoData.instanceId,\n          value: 'false',\n        }),\n        unrestricted: false,\n      },\n      update: (cache, response) => {\n        const isCompletedData = JSON.parse(response.data.ExecuteAction);\n\n        const newTodo = {\n          instance: {\n            id: newTodoData.instanceId,\n            value: newTodoData.value,\n            __typename: 'Instance',\n          },\n          children: [\n            {\n              instance: {\n                id: isCompletedData.instanceId,\n                value: isCompletedData.value,\n                __typename: 'Instance',\n              },\n              __typename: 'InstanceWithChildren',\n            },\n          ],\n          __typename: 'InstanceWithChildren',\n        };\n\n        onAdd(newTodo)(cache);\n      },\n    });\n\n    updateTodoValue('');\n    updateLoading(false);\n  }\n\n  function handleKeyPress(e) {\n    if (e.charCode === 13) {\n      handleSubmit(e);\n    }\n  }\n\n  return (\n    <Form>\n      <label htmlFor='todo-name'>\n        Todo Value:\n        <input\n          id='todo-name'\n          type=\"text\"\n          onChange={handleChange}\n          onKeyPress={handleKeyPress}\n          value={todoValue}\n          disabled={loading}\n        />\n      </label>\n      <Button type=\"submit\" disabled={loading} onClick={handleSubmit}>\n        {\n          loading\n            ? 'Adding Todo...'\n            : 'Add Todo'\n        }\n      </Button>\n    </Form>\n  );\n}\n\nexport default compose(\n  graphql(EXECUTE_ACTION, { name: 'createTodo' }),\n  graphql(EXECUTE_ACTION, { name: 'createIsCompleted' }),\n)(CreateTodoForm);\n","import gql from 'graphql-tag';\nimport { TYPE_TO_DO_ID, TYPE_IS_COMPLETED_ID } from '../../config';\n\nimport { TODO_FRAGMENT, IS_COMPLETED_FRAGMENT } from './fragments';\n\nexport const TODOS_FOR_CURRENT_PROJECT_SOURCE_QUERY = gql`\n  query SOURCE(\n    $id: ID!\n    $typeRelationships: String!\n    $parameters: String\n  ) {\n    sourceData(\n      sourceId: $id\n      typeRelationships: $typeRelationships\n      parameters: $parameters\n    ) {\n      instance {\n        ...TodoParts\n      }\n      children {\n        instance {\n          ...IsCompletedParts\n        }\n      }\n    }\n  }\n\n  ${TODO_FRAGMENT}\n  ${IS_COMPLETED_FRAGMENT}\n`;\n\nexport const TODOS_FOR_CURRENT_PROJECT_RELATIONSHIPS = {\n  [TYPE_TO_DO_ID]: {\n    [TYPE_IS_COMPLETED_ID]: null,\n  },\n};\n\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Source } from '@nostack/no-stack';\n\nimport Todo from '../Todo';\nimport CreateTodoForm from '../CreateTodoForm';\n\nimport {SOURCE_TO_DO_SOURCE_ID} from \"../../config\";\nimport {TODOS_FOR_CURRENT_PROJECT_RELATIONSHIPS, TODOS_FOR_CURRENT_PROJECT_SOURCE_QUERY} from \"../source-props/todo\";\n\nconst TodoListStyleWrapper = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-evenly;\n  align-items: flex-start;\n`;\n\nfunction Todos({ projectId }) {\n  const parameters = {\n    currentProjectId: projectId,\n  };\n\n  return (\n    <Source\n      id={SOURCE_TO_DO_SOURCE_ID}\n      query={TODOS_FOR_CURRENT_PROJECT_SOURCE_QUERY}\n      typeRelationships={TODOS_FOR_CURRENT_PROJECT_RELATIONSHIPS}\n      parameters={parameters}\n    >\n      {({loading, error, data, updateSourceAfterCreateAction, updateSourceAfterUpdateAction, updateSourceAfterDeleteAction }) => {\n        if (loading) return 'Loading...';\n\n        if (error) return `Error: ${error.graphQLErrors}`;\n\n        const todos = data.sourceData.map(el => ({\n          ...el.instance,\n          isCompleted: el.children[0].instance,\n        }));\n\n        return (\n          <>\n            <CreateTodoForm projectId={projectId} onAdd={updateSourceAfterCreateAction} />\n            <TodoListStyleWrapper>\n              {\n                todos && todos.map(todo => (\n                  <Todo\n                    key={todo.id}\n                    todo={todo}\n                    projectId={projectId}\n                    isCompleted={todo.isCompleted}\n                    onUpdate={updateSourceAfterUpdateAction}\n                    onDelete={updateSourceAfterDeleteAction}\n                  />\n                ))\n              }\n            </TodoListStyleWrapper>\n          </>\n        );\n      }}\n    </Source>\n  );\n}\n\n\nexport default Todos;\n","import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { EXECUTE_ACTION } from '@nostack/no-stack';\nimport compose from '@shopify/react-compose';\nimport { graphql } from '@apollo/react-hoc';\n\nimport { UPDATE_PROJECT_FOR_PROJECT_SOURCE_ACTION_ID, DELETE_PROJECT_FOR_PROJECT_SOURCE_ACTION_ID } from '../../config';\nimport { PROJECT_FRAGMENT } from '../source-props/fragments';\n\nimport Todos from '../Todos';\n\nconst ProjectStyleWrapper = styled.div`\n  margin: 2em 1em;\n  padding: 1.5em;\n  border: none;\n  border-radius: 10px;\n  box-shadow: 5px 5px 10px #888888;\n  opacity: ${props => props.isDeleting ? 0.2 : 1.0};\n`;\n\nconst Row = styled.div`\n  margin: 1em 0;\n`;\n\nconst Button = styled.button`\n  background: none;\n  border: none;\n  cursor: pointer;\n  font-size: 1.25rem;\n  padding: 0;\n  color: #bbbbbb;\n  transition: color 0.5s ease;\n\n  &:hover {\n    color: ${props => props.hoverColor || '#000000'};\n  }\n`;\n\nconst DeleteMenu = styled.div`\n  color: red;\n  margin: 1em;\n  padding: 1em;\n  border: 1px solid #eeeeee;\n`;\n\nfunction Project({ project, currentUserId, updateInstance, deleteInstance, onUpdate, onDelete }) {\n  const [ projectValue, updateProjectValue ] = useState(project.value);\n  const [ isEditMode, updateIsEditMode ] = useState(false);\n  const [ isSaving, updateIsSaving ] = useState(false);\n  const [ isDeleteMode, updateIsDeleteMode ] = useState(false);\n  const [ isDeleting, updateIsDeleting ] = useState(false);\n\n  function handleProjectValueChange(e) {\n    updateProjectValue(e.target.value);\n  }\n\n  async function handleProjectValueSave() {\n    updateIsSaving(true);\n\n    await updateInstance({\n      variables: {\n        actionId: UPDATE_PROJECT_FOR_PROJECT_SOURCE_ACTION_ID,\n        executionParameters: JSON.stringify({\n          value: projectValue,\n          instanceId: project.id,\n        }),\n      },\n      update: onUpdate(project.id, PROJECT_FRAGMENT),\n    });\n\n    updateIsEditMode(false);\n    updateIsSaving(false);\n  }\n\n  async function handleDelete() {\n    updateIsDeleting(true);\n\n    try {\n      await deleteInstance({\n        variables: {\n          actionId: DELETE_PROJECT_FOR_PROJECT_SOURCE_ACTION_ID,\n          executionParameters: JSON.stringify({\n            parentInstanceId: currentUserId,\n            instanceId: project.id,\n          }),\n        },\n        update: onDelete(project.id),\n      });\n    } catch (e) {\n      updateIsDeleting(false);\n    }\n  }\n\n  return (\n    <ProjectStyleWrapper isDeleting={isDeleting}>\n      {isEditMode ?\n        (\n          <Row>\n            <label htmlFor={project.id}>\n              Project Value:\n              <input\n                id={project.id}\n                type=\"text\"\n                value={projectValue}\n                onChange={handleProjectValueChange}\n                disabled={isSaving}\n              />\n            </label>\n            <Button\n              type=\"button\"\n              hoverColor=\"#00FF00\"\n              onClick={handleProjectValueSave}\n              disabled={isSaving}\n            >\n              &#10003;\n            </Button>\n            <Button\n              type=\"button\"\n              hoverColor=\"#FF0000\"\n              onClick={() => updateIsEditMode(false)}\n              disabled={isSaving}\n            >\n              &#10005;\n            </Button>\n          </Row>\n        ) :\n        (\n          <h3>\n            {project.value}\n            {isDeleteMode ? (\n                <DeleteMenu>\n                  Delete?\n                  <Button\n                    type=\"button\"\n                    hoverColor=\"#00FF00\"\n                    onClick={handleDelete}\n                    disabled={isDeleting}\n                  >\n                    &#10003;\n                  </Button>\n                  <Button\n                    type=\"button\"\n                    hoverColor=\"#FF0000\"\n                    onClick={() => updateIsDeleteMode(false)}\n                    disabled={isDeleting}\n                  >\n                    &#10005;\n                  </Button>\n                </DeleteMenu>\n            ):\n              (\n              <>\n                <Button\n                  type=\"button\"\n                  onClick={() => updateIsEditMode(true)}\n                >\n                  &#9998;\n                </Button>\n                <Button\n                  type=\"button\"\n                  onClick={() => updateIsDeleteMode(true)}\n                >\n                  &#128465;\n                </Button>\n              </>\n              )\n            }\n          </h3>\n        )\n      }\n      <Todos projectId={project.id} />\n    </ProjectStyleWrapper>\n  );\n}\n\nexport default compose(\n  graphql(EXECUTE_ACTION, { name: 'updateInstance' }),\n  graphql(EXECUTE_ACTION, { name: 'deleteInstance' })\n)(Project);\n","import gql from 'graphql-tag';\nimport { TYPE_PROJECT_ID } from '../../config';\n\nimport { PROJECT_FRAGMENT } from './fragments';\n\nexport const PROJECTS_FOR_CURRENT_USER_SOURCE_QUERY = gql`\n  query SOURCE(\n    $id: ID!\n    $typeRelationships: String!\n    $parameters: String\n  ) {\n    sourceData(\n      sourceId: $id\n      typeRelationships: $typeRelationships\n      parameters: $parameters\n    ) {\n      instance {\n        ...ProjectParts\n      }\n    }\n  }\n\n  ${PROJECT_FRAGMENT}\n`;\n\nexport const PROJECTS_FOR_CURRENT_USER_RELATIONSHIPS = {\n  [TYPE_PROJECT_ID]: null,\n};\n\n","import React from 'react';\nimport { Source } from '@nostack/no-stack';\nimport styled from 'styled-components';\n\nimport CreateProjectForm from '../CreateProjectForm';\nimport Project from '../Project';\n\nimport { SOURCE_PROJECT_SOURCE_ID } from '../../config';\nimport { PROJECTS_FOR_CURRENT_USER_RELATIONSHIPS, PROJECTS_FOR_CURRENT_USER_SOURCE_QUERY } from '../source-props/project';\n\nconst ProjectsStyleWrapper = styled.div`\n  input {\n    margin: 0 0.5em;\n  }\n\n  button {\n    margin: 0 0.5em;\n  }\n`;\n\nconst parameters = {};\n\nconst Projects = ({ currentUserId }) => (\n  <Source\n    id={SOURCE_PROJECT_SOURCE_ID}\n    typeRelationships={PROJECTS_FOR_CURRENT_USER_RELATIONSHIPS}\n    query={PROJECTS_FOR_CURRENT_USER_SOURCE_QUERY}\n    parameters={parameters}\n  >\n    {({ loading, error, data, updateSourceAfterCreateAction, updateSourceAfterUpdateAction, updateSourceAfterDeleteAction }) => {\n      if (loading) return 'Loading...';\n\n      if (error) return `Error: ${error.graphQLErrors}`;\n\n      const projects = data.sourceData.map(el => el.instance);\n\n      return (\n        <ProjectsStyleWrapper>\n          <CreateProjectForm onAdd={updateSourceAfterCreateAction} />\n          {\n            projects && projects.map(project => (\n              <Project\n                key={project.id}\n                project={project}\n                currentUserId={currentUserId}\n                onUpdate={updateSourceAfterUpdateAction}\n                onDelete={updateSourceAfterDeleteAction}\n              />\n            ))\n          }\n        </ProjectsStyleWrapper>\n      );\n    }}\n  </Source>\n);\n\nexport default Projects;\n","import React from 'react';\nimport styled from 'styled-components';\nimport './App.css';\nimport { NoStackConsumer, LoginForm } from '@nostack/no-stack';\n\nimport NavBar from './components/NavBar';\nimport Projects from './components/Projects';\n\nconst Wrapper = styled.div`\n  padding: 5em 5em;\n  min-width: 480px;\n`;\n\nconst LoginWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  div {\n    margin: 0.5em;\n  }\n`;\n\nconst App = () => (\n  <>\n    <NavBar />\n    <Wrapper className=\"App\">\n      <NoStackConsumer>\n        {({ loading, currentUser }) => {\n          if (loading) return null;\n\n          if (!currentUser) {\n            return (\n              <LoginWrapper>\n                <div>Please Log In</div>\n                <div><LoginForm /></div>\n              </LoginWrapper>\n            );\n          }\n\n          return (\n            <Projects currentUserId={currentUser.id} />\n          );\n        }}\n      </NoStackConsumer>\n    </Wrapper>\n  </>\n);\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { ApolloClient } from 'apollo-client';\nimport { ApolloLink } from 'apollo-link';\nimport { InMemoryCache } from 'apollo-cache-inmemory';\n\nimport { createAuthLink, httpLink } from '@nostack/no-stack';\n\nimport { PLATFORM_ID } from '../config';\n\nconst authLink = createAuthLink(PLATFORM_ID);\n\nconst link = ApolloLink.from([authLink, httpLink]);\n\nexport default new ApolloClient({\n  link,\n  cache: new InMemoryCache({\n    dataIdFromObject: object => object.id,\n  }),\n});\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { NoStackProvider, Console } from '@nostack/no-stack';\n\nimport { PLATFORM_ID } from './config';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport client from './client';\n\nReactDOM.render(\n  <NoStackProvider client={client} platformId={PLATFORM_ID}>\n    <App />\n    <Console />\n  </NoStackProvider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}